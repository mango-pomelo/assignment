{"ast":null,"code":"import { parentsUntil } from '@syncfusion/ej2-grids';\nimport { Grid, Freeze as FreezeColumn } from '@syncfusion/ej2-grids';\nimport { addClass } from '@syncfusion/ej2-base';\n/**\n * TreeGrid Freeze module\n *\n * @hidden\n */\n\nvar Freeze =\n/** @class */\nfunction () {\n  /**\n   * Constructor for render module\n   *\n   * @param {TreeGrid} parent - Tree Grid instance\n   */\n  function Freeze(parent) {\n    Grid.Inject(FreezeColumn);\n    this.parent = parent;\n    this.addEventListener();\n  }\n\n  Freeze.prototype.addEventListener = function () {\n    this.parent.on('rowExpandCollapse', this.rowExpandCollapse, this);\n    this.parent.on('dataBoundArg', this.dataBoundArg, this);\n    this.parent.grid.on('dblclick', this.dblClickHandler, this);\n  };\n\n  Freeze.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.off('rowExpandCollapse', this.rowExpandCollapse);\n    this.parent.off('dataBoundArg', this.dataBoundArg);\n    this.parent.grid.off('dblclick', this.dblClickHandler);\n  };\n\n  Freeze.prototype.rowExpandCollapse = function (args) {\n    var movableRows = this.parent.getMovableDataRows();\n    var frozenrows = this.parent.getRows();\n    var rows;\n\n    if (!args.detailrows.length) {\n      rows = movableRows.filter(function (e) {\n        return e.querySelector('.e-gridrowindex' + args.record.index + 'level' + (args.record.level + 1));\n      });\n    } else {\n      rows = args.detailrows;\n    }\n\n    for (var i = 0; i < rows.length; i++) {\n      var rData = this.parent.grid.getRowObjectFromUID(rows[i].getAttribute('data-Uid')).data;\n      rows[i].style.display = args.action;\n      var queryselector = args.action === 'none' ? '.e-treecolumn-container .e-treegridcollapse' : '.e-treecolumn-container .e-treegridexpand';\n\n      if (frozenrows[rows[i].rowIndex].querySelector(queryselector)) {\n        var cRow = [];\n\n        for (var i_1 = 0; i_1 < movableRows.length; i_1++) {\n          if (movableRows[i_1].querySelector('.e-gridrowindex' + rData.index + 'level' + (rData.level + 1))) {\n            cRow.push(movableRows[i_1]);\n          }\n        }\n\n        if (cRow.length) {\n          this.rowExpandCollapse({\n            detailrows: cRow,\n            action: args.action\n          });\n        }\n      }\n    }\n  };\n\n  Freeze.prototype.dblClickHandler = function (e) {\n    if (parentsUntil(e.target, 'e-rowcell') && this.parent.grid.editSettings.allowEditOnDblClick && this.parent.editSettings.mode !== 'Cell') {\n      this.parent.grid.editModule.startEdit(parentsUntil(e.target, 'e-row'));\n    }\n  };\n\n  Freeze.prototype.dataBoundArg = function () {\n    var checkboxColumn = this.parent.getColumns().filter(function (e) {\n      return e.showCheckbox;\n    });\n\n    if (checkboxColumn.length && this.parent.freezeModule && this.parent.initialRender) {\n      addClass([this.parent.element.getElementsByClassName('e-grid')[0]], 'e-checkselection');\n    }\n  };\n\n  Freeze.prototype.destroy = function () {\n    this.removeEventListener();\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @private\n   * @returns {string} Returns Freeze module name\n   */\n\n\n  Freeze.prototype.getModuleName = function () {\n    return 'freeze';\n  };\n\n  return Freeze;\n}();\n\nexport { Freeze };","map":{"version":3,"sources":["/Users/zhouzhou/Desktop/lightfront/node_modules/@syncfusion/ej2-treegrid/src/treegrid/actions/freeze-column.js"],"names":["parentsUntil","Grid","Freeze","FreezeColumn","addClass","parent","Inject","addEventListener","prototype","on","rowExpandCollapse","dataBoundArg","grid","dblClickHandler","removeEventListener","isDestroyed","off","args","movableRows","getMovableDataRows","frozenrows","getRows","rows","detailrows","length","filter","e","querySelector","record","index","level","i","rData","getRowObjectFromUID","getAttribute","data","style","display","action","queryselector","rowIndex","cRow","i_1","push","target","editSettings","allowEditOnDblClick","mode","editModule","startEdit","checkboxColumn","getColumns","showCheckbox","freezeModule","initialRender","element","getElementsByClassName","destroy","getModuleName"],"mappings":"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","sourcesContent":["import { parentsUntil } from '@syncfusion/ej2-grids';\nimport { Grid, Freeze as FreezeColumn } from '@syncfusion/ej2-grids';\nimport { addClass } from '@syncfusion/ej2-base';\n/**\n * TreeGrid Freeze module\n *\n * @hidden\n */\nvar Freeze = /** @class */ (function () {\n    /**\n     * Constructor for render module\n     *\n     * @param {TreeGrid} parent - Tree Grid instance\n     */\n    function Freeze(parent) {\n        Grid.Inject(FreezeColumn);\n        this.parent = parent;\n        this.addEventListener();\n    }\n    Freeze.prototype.addEventListener = function () {\n        this.parent.on('rowExpandCollapse', this.rowExpandCollapse, this);\n        this.parent.on('dataBoundArg', this.dataBoundArg, this);\n        this.parent.grid.on('dblclick', this.dblClickHandler, this);\n    };\n    Freeze.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('rowExpandCollapse', this.rowExpandCollapse);\n        this.parent.off('dataBoundArg', this.dataBoundArg);\n        this.parent.grid.off('dblclick', this.dblClickHandler);\n    };\n    Freeze.prototype.rowExpandCollapse = function (args) {\n        var movableRows = this.parent.getMovableDataRows();\n        var frozenrows = this.parent.getRows();\n        var rows;\n        if (!args.detailrows.length) {\n            rows = movableRows.filter(function (e) {\n                return e.querySelector('.e-gridrowindex' + args.record.index + 'level' + (args.record.level + 1));\n            });\n        }\n        else {\n            rows = args.detailrows;\n        }\n        for (var i = 0; i < rows.length; i++) {\n            var rData = this.parent.grid.getRowObjectFromUID(rows[i].getAttribute('data-Uid')).data;\n            rows[i].style.display = args.action;\n            var queryselector = args.action === 'none' ? '.e-treecolumn-container .e-treegridcollapse'\n                : '.e-treecolumn-container .e-treegridexpand';\n            if (frozenrows[rows[i].rowIndex].querySelector(queryselector)) {\n                var cRow = [];\n                for (var i_1 = 0; i_1 < movableRows.length; i_1++) {\n                    if (movableRows[i_1].querySelector('.e-gridrowindex' + rData.index + 'level' + (rData.level + 1))) {\n                        cRow.push(movableRows[i_1]);\n                    }\n                }\n                if (cRow.length) {\n                    this.rowExpandCollapse({ detailrows: cRow, action: args.action });\n                }\n            }\n        }\n    };\n    Freeze.prototype.dblClickHandler = function (e) {\n        if (parentsUntil(e.target, 'e-rowcell') &&\n            this.parent.grid.editSettings.allowEditOnDblClick && this.parent.editSettings.mode !== 'Cell') {\n            this.parent.grid.editModule.startEdit(parentsUntil(e.target, 'e-row'));\n        }\n    };\n    Freeze.prototype.dataBoundArg = function () {\n        var checkboxColumn = this.parent.getColumns().filter(function (e) {\n            return e.showCheckbox;\n        });\n        if (checkboxColumn.length && this.parent.freezeModule && this.parent.initialRender) {\n            addClass([this.parent.element.getElementsByClassName('e-grid')[0]], 'e-checkselection');\n        }\n    };\n    Freeze.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @private\n     * @returns {string} Returns Freeze module name\n     */\n    Freeze.prototype.getModuleName = function () {\n        return 'freeze';\n    };\n    return Freeze;\n}());\nexport { Freeze };\n"]},"metadata":{},"sourceType":"module"}