{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { Component, addClass, createElement, EventHandler, isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { removeClass, Complex, Collection, getValue } from '@syncfusion/ej2-base';\nimport { Event, Property, NotifyPropertyChanges, setValue, KeyboardEvents, L10n } from '@syncfusion/ej2-base';\nimport { Column } from '../models/column';\nimport { RowDropSettings, getUid } from '@syncfusion/ej2-grids';\nimport { FilterSettings } from '../models/filter-settings';\nimport { TextWrapSettings } from '../models/textwrap-settings';\nimport { Logger as TreeLogger } from '../actions/logger';\nimport { TreeClipboard } from '../actions/clipboard';\nimport { Selection as TreeGridSelection } from '../actions/selection';\nimport { Print } from '../actions/print';\nimport * as events from '../base/constant';\nimport { SearchSettings } from '../models/search-settings';\nimport { SelectionSettings } from '../models/selection-settings';\nimport { getActualProperties, getObject } from '@syncfusion/ej2-grids';\nimport { DataManager, RemoteSaveAdaptor, JsonAdaptor, Deferred } from '@syncfusion/ej2-data';\nimport { createSpinner, hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\nimport { isRemoteData, isOffline, extendArray, isCountRequired, findChildrenRecords } from '../utils';\nimport { Grid, Logger } from '@syncfusion/ej2-grids';\nimport { Render } from '../renderer/render';\nimport { DataManipulation } from './data';\nimport { iterateArrayOrObject } from '@syncfusion/ej2-grids';\nimport { ToolbarItem, ContextMenuItems } from '../enum';\nimport { PageSettings } from '../models/page-settings';\nimport { AggregateRow } from '../models/summary';\nimport { EditSettings } from '../models/edit-settings';\nimport { SortSettings } from '../models/sort-settings';\nimport { isHidden } from '../utils';\nimport { editAction } from '../actions/crud-actions';\nimport { InfiniteScrollSettings } from '../models/infinite-scroll-settings';\n/**\n * Represents the TreeGrid component.\n * ```html\n * <div id='treegrid'></div>\n * <script>\n *  var treegridObj = new TreeGrid({ allowPaging: true });\n *  treegridObj.appendTo('#treegrid');\n * </script>\n * ```\n */\n\nvar TreeGrid =\n/** @class */\nfunction (_super) {\n  __extends(TreeGrid, _super);\n\n  function TreeGrid(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.dataResults = {};\n    _this.uniqueIDCollection = {};\n    _this.uniqueIDFilterCollection = {};\n    _this.changedRecords = 'changedRecords';\n    _this.deletedRecords = 'deletedRecords';\n    _this.addedRecords = 'addedRecords';\n\n    _this.objectEqualityChecker = function (old, current) {\n      if (old) {\n        var keys = Object.keys(old);\n        var isEqual = true;\n        var excludeKeys = [\"Children\", \"childRecords\", \"taskData\", \"uniqueID\", \"parentItem\", \"parentUniqueID\"];\n\n        for (var i = 0; i < keys.length; i++) {\n          if (old[keys[i]] !== current[keys[i]] && excludeKeys.indexOf(keys[i]) === -1) {\n            isEqual = false;\n            break;\n          }\n        }\n\n        return isEqual;\n      } else {\n        return false;\n      }\n    };\n\n    TreeGrid_1.Inject(TreeGridSelection);\n    setValue('mergePersistData', _this.mergePersistTreeGridData, _this);\n    var logger = 'Logger';\n\n    if (!isNullOrUndefined(_this.injectedModules[logger])) {\n      Grid.Inject(Logger);\n    }\n\n    _this.grid = new Grid();\n    return _this;\n  }\n\n  TreeGrid_1 = TreeGrid;\n  /**\n   * Export TreeGrid data to Excel file(.xlsx).\n   *\n   * @param  {ExcelExportProperties | TreeGridExcelExportProperties} excelExportProperties - Defines the export properties of the Tree Grid.\n   * @param  {boolean} isMultipleExport - Define to enable multiple export.\n   * @param  {workbook} workbook - Defines the Workbook if multiple export is enabled.\n   * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n   * @blazorType void\n   * @returns {Promise<any>} - Returns promise object of export action\n   */\n\n  /* eslint-disable */\n\n  TreeGrid.prototype.excelExport = function (excelExportProperties, isMultipleExport, workbook, isBlob) {\n    /* eslint-enable */\n    return this.excelExportModule.Map(excelExportProperties, isMultipleExport, workbook, isBlob, false);\n  };\n  /**\n   * Export TreeGrid data to CSV file.\n   *\n   * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the TreeGrid.\n   * @param  {boolean} isMultipleExport - Define to enable multiple export.\n   * @param  {workbook} workbook - Defines the Workbook if multiple export is enabled.\n   * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n   * @returns {Promise<any>} - Returns promise object of export action\n   * @blazorType void\n   */\n\n  /* eslint-disable */\n\n\n  TreeGrid.prototype.csvExport = function (excelExportProperties, isMultipleExport, workbook, isBlob) {\n    /* eslint-enable */\n    return this.excelExportModule.Map(excelExportProperties, isMultipleExport, workbook, isBlob, true);\n  };\n  /**\n   * Export TreeGrid data to PDF document.\n   *\n   * @param {PdfExportProperties | TreeGridPdfExportProperties} pdfExportProperties - Defines the export properties of the Tree Grid.\n   * @param {boolean} isMultipleExport - Define to enable multiple export.\n   * @param {Object} pdfDoc - Defined the Pdf Document if multiple export is enabled.\n   * @param {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n   * @returns {Promise<any>} - Returns promise object of export action\n   * @blazorType void\n   */\n\n\n  TreeGrid.prototype.pdfExport = function (pdfExportProperties, isMultipleExport, pdfDoc, isBlob) {\n    return this.pdfExportModule.Map(pdfExportProperties, isMultipleExport, pdfDoc, isBlob);\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @private\n   * @returns {string} Returns TreeGrid module name\n   */\n\n\n  TreeGrid.prototype.getModuleName = function () {\n    return 'treegrid';\n  };\n  /**\n   * For internal use only - Initialize the event handler;\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.preRender = function () {\n    this.TreeGridLocale();\n    this.initProperties();\n    this.defaultLocale = {\n      Above: 'Above',\n      Below: 'Below',\n      Child: 'Child',\n      AddRow: 'Add Row',\n      ExpandAll: 'Expand All',\n      CollapseAll: 'Collapse All',\n      RowIndent: 'Indent',\n      RowOutdent: 'Outdent'\n    };\n    this.l10n = new L10n('treegrid', this.defaultLocale, this.locale);\n\n    if (this.isSelfReference && isNullOrUndefined(this.childMapping)) {\n      this.childMapping = 'Children';\n    }\n  };\n  /**\n   * Sorts a column with the given options.\n   *\n   * @param {string} columnName - Defines the column name to be sorted.\n   * @param {SortDirection} direction - Defines the direction of sorting field.\n   * @param {boolean} isMultiSort - Specifies whether the previous sorted columns are to be maintained.\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.sortByColumn = function (columnName, direction, isMultiSort) {\n    this.sortModule.sortColumn(columnName, direction, isMultiSort);\n  };\n  /**\n   * Clears all the sorted columns of the TreeGrid.\n   *\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.clearSorting = function () {\n    if (this.sortModule) {\n      this.sortModule.clearSorting();\n    }\n  };\n  /**\n   * Remove sorted column by field name.\n   *\n   * @param {string} field - Defines the column field name to remove sort.\n   * @returns {void}\n   * @hidden\n   */\n\n\n  TreeGrid.prototype.removeSortColumn = function (field) {\n    this.sortModule.removeSortColumn(field);\n  };\n  /**\n   * Searches TreeGrid records using the given key.\n   * You can customize the default search option by using the\n   * [`searchSettings`](./#searchsettings/).\n   *\n   * @param  {string} searchString - Defines the key.\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.search = function (searchString) {\n    this.grid.search(searchString);\n  };\n  /**\n   * Changes the column width to automatically fit its content to ensure that the width shows the content without wrapping/hiding.\n   * > * This method ignores the hidden columns.\n   * > * Uses the `autoFitColumns` method in the `dataBound` event to resize at initial rendering.\n   *\n   * @param  {string |string[]} fieldNames - Defines the column names.\n   * @returns {void}\n   *\n   *\n   *\n   */\n\n\n  TreeGrid.prototype.autoFitColumns = function (fieldNames) {\n    this.resizeModule.autoFitColumns(fieldNames);\n    this.updateColumnModel();\n  };\n  /**\n   * Changes the TreeGrid column positions by field names.\n   *\n   * @param  {string} fromFName - Defines the origin field name.\n   * @param  {string} toFName - Defines the destination field name.\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.reorderColumns = function (fromFName, toFName) {\n    this.grid.reorderColumns(fromFName, toFName);\n  };\n\n  TreeGrid.prototype.TreeGridLocale = function () {\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    var locale = L10n.locale;\n    var localeObject = {};\n    setValue(this.locale, {}, localeObject);\n    var gridLocale;\n    gridLocale = {};\n    gridLocale = getObject(this.locale, locale);\n    var treeGridLocale;\n    treeGridLocale = {};\n    treeGridLocale = getObject(this.getModuleName(), gridLocale);\n    setValue('grid', treeGridLocale, getObject(this.locale, localeObject));\n    L10n.load(localeObject);\n  };\n  /**\n   * By default, prints all the pages of the TreeGrid and hides the pager.\n   * > You can customize print options using the\n   * [`printMode`](./#printmode).\n   *\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.print = function () {\n    this.printModule.print();\n  };\n\n  TreeGrid.prototype.treeGridkeyActionHandler = function (e) {\n    if (this.allowKeyboard) {\n      var target = void 0;\n      var parentTarget = void 0;\n      var column = void 0;\n      var row = void 0;\n      var summaryElement = void 0;\n\n      switch (e.action) {\n        case 'ctrlDownArrow':\n          this.expandAll();\n          break;\n\n        case 'ctrlUpArrow':\n          this.collapseAll();\n          break;\n\n        case 'ctrlShiftUpArrow':\n          target = e.target;\n          column = target.closest('.e-rowcell');\n          row = column.closest('tr');\n\n          if (row !== null && row !== undefined) {\n            this.expandCollapseRequest(row.querySelector('.e-treegridexpand'));\n          }\n\n          break;\n\n        case 'ctrlShiftDownArrow':\n          target = e.target;\n          column = target.closest('.e-rowcell');\n          row = column.closest('tr');\n\n          if (row !== null && row !== undefined) {\n            this.expandCollapseRequest(row.querySelector('.e-treegridcollapse'));\n          }\n\n          break;\n\n        case 'downArrow':\n          parentTarget = e.target.parentElement;\n          summaryElement = this.findnextRowElement(parentTarget);\n\n          if (summaryElement !== null) {\n            var rowIndex = summaryElement.rowIndex;\n            this.selectRow(rowIndex);\n            var cellIndex = e.target.cellIndex;\n            var row_1 = summaryElement.children[cellIndex];\n            addClass([row_1], 'e-focused');\n            addClass([row_1], 'e-focus');\n          } else {\n            this.clearSelection();\n          }\n\n          break;\n\n        case 'upArrow':\n          parentTarget = e.target.parentElement;\n          summaryElement = this.findPreviousRowElement(parentTarget);\n\n          if (summaryElement !== null) {\n            var rIndex = summaryElement.rowIndex;\n            this.selectRow(rIndex);\n            var cIndex = e.target.cellIndex;\n            var rows = summaryElement.children[cIndex];\n            addClass([rows], 'e-focused');\n            addClass([rows], 'e-focus');\n          } else {\n            this.clearSelection();\n          }\n\n      }\n    }\n  }; // Get Proper Row Element from the summary\n\n\n  TreeGrid.prototype.findnextRowElement = function (summaryRowElement) {\n    var rowElement = summaryRowElement.nextElementSibling;\n\n    if (rowElement !== null && (rowElement.className.indexOf('e-summaryrow') !== -1 || rowElement.style.display === 'none')) {\n      rowElement = this.findnextRowElement(rowElement);\n    }\n\n    return rowElement;\n  }; // Get Proper Row Element from the summary\n\n\n  TreeGrid.prototype.findPreviousRowElement = function (summaryRowElement) {\n    var rowElement = summaryRowElement.previousElementSibling;\n\n    if (rowElement !== null && (rowElement.className.indexOf('e-summaryrow') !== -1 || rowElement.style.display === 'none')) {\n      rowElement = this.findPreviousRowElement(rowElement);\n    }\n\n    return rowElement;\n  };\n\n  TreeGrid.prototype.initProperties = function () {\n    this.defaultLocale = {};\n    this.flatData = [];\n    this.parentData = [];\n    this.columnModel = [];\n    this.isExpandAll = false;\n    this.isCollapseAll = false;\n    this.keyConfigs = {\n      ctrlDownArrow: 'ctrl+downarrow',\n      ctrlUpArrow: 'ctrl+uparrow',\n      ctrlShiftUpArrow: 'ctrl+shift+uparrow',\n      ctrlShiftDownArrow: 'ctrl+shift+downarrow',\n      downArrow: 'downArrow',\n      upArrow: 'upArrow'\n    };\n    this.isLocalData = !(this.dataSource instanceof DataManager) || this.dataSource.dataSource.offline || !isNullOrUndefined(this.dataSource.ready) || this.dataSource.adaptor instanceof RemoteSaveAdaptor;\n    this.isSelfReference = !isNullOrUndefined(this.parentIdMapping);\n  };\n  /**\n   * Binding events to the element while component creation.\n   *\n   * @hidden\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.wireEvents = function () {\n    EventHandler.add(this.grid.element, 'click', this.mouseClickHandler, this);\n    EventHandler.add(this.element, 'touchend', this.mouseClickHandler, this);\n    this.keyboardModule = new KeyboardEvents(this.element, {\n      keyAction: this.treeGridkeyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n\n    if (this.allowKeyboard) {\n      this.element.tabIndex = this.element.tabIndex === -1 ? 0 : this.element.tabIndex;\n    }\n  };\n  /**\n   * To provide the array of modules needed for component rendering\n   *\n   * @returns {ModuleDeclaration[]} - Returns TreeGrid modules collection\n   * @hidden\n   */\n\n\n  TreeGrid.prototype.requiredModules = function () {\n    var modules = [];\n\n    if (this.isDestroyed) {\n      return modules;\n    }\n\n    modules.push({\n      member: 'filter',\n      args: [this, this.filterSettings]\n    });\n\n    if (!isNullOrUndefined(this.toolbar)) {\n      modules.push({\n        member: 'toolbar',\n        args: [this]\n      });\n    }\n\n    if (this.contextMenuItems) {\n      modules.push({\n        member: 'contextMenu',\n        args: [this]\n      });\n    }\n\n    if (this.allowPaging) {\n      modules.push({\n        member: 'pager',\n        args: [this, this.pageSettings]\n      });\n    }\n\n    if (this.allowReordering) {\n      modules.push({\n        member: 'reorder',\n        args: [this]\n      });\n    }\n\n    if (this.allowSorting) {\n      modules.push({\n        member: 'sort',\n        args: [this]\n      });\n    }\n\n    if (this.aggregates.length > 0) {\n      modules.push({\n        member: 'summary',\n        args: [this]\n      });\n    }\n\n    modules.push({\n      member: 'resize',\n      args: [this]\n    });\n\n    if (this.allowExcelExport) {\n      modules.push({\n        member: 'ExcelExport',\n        args: [this]\n      });\n    }\n\n    if (this.frozenColumns || this.frozenRows || this.getFrozenColumns()) {\n      modules.push({\n        member: 'freeze',\n        args: [this]\n      });\n    }\n\n    if (this.detailTemplate) {\n      modules.push({\n        member: 'detailRow',\n        args: [this]\n      });\n    }\n\n    if (this.allowPdfExport) {\n      modules.push({\n        member: 'PdfExport',\n        args: [this]\n      });\n    }\n\n    if (this.showColumnMenu) {\n      modules.push({\n        member: 'columnMenu',\n        args: [this]\n      });\n    }\n\n    if (this.showColumnChooser) {\n      modules.push({\n        member: 'ColumnChooser',\n        args: [this]\n      });\n    }\n\n    this.extendRequiredModules(modules);\n    return modules;\n  };\n\n  TreeGrid.prototype.extendRequiredModules = function (modules) {\n    if (this.allowRowDragAndDrop) {\n      modules.push({\n        member: 'rowDragAndDrop',\n        args: [this]\n      });\n    }\n\n    if (this.editSettings.allowAdding || this.editSettings.allowDeleting || this.editSettings.allowEditing) {\n      modules.push({\n        member: 'edit',\n        args: [this]\n      });\n    }\n\n    if (this.isCommandColumn(this.columns)) {\n      modules.push({\n        member: 'commandColumn',\n        args: [this]\n      });\n    }\n\n    if (this.allowSelection) {\n      modules.push({\n        member: 'selection',\n        args: [this]\n      });\n    }\n\n    if (this.enableVirtualization) {\n      modules.push({\n        member: 'virtualScroll',\n        args: [this]\n      });\n    }\n\n    if (this.enableInfiniteScrolling) {\n      modules.push({\n        member: 'infiniteScroll',\n        args: [this]\n      });\n    }\n\n    modules.push({\n      member: 'logger',\n      args: [this.grid]\n    });\n  };\n\n  TreeGrid.prototype.isCommandColumn = function (columns) {\n    var _this = this;\n\n    return columns.some(function (col) {\n      if (col.columns) {\n        return _this.isCommandColumn(col.columns);\n      }\n\n      return !!(col.commands || col.commandsTemplate);\n    });\n  };\n  /**\n   * Unbinding events from the element while component destroy.\n   *\n   * @hidden\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.unwireEvents = function () {\n    if (this.grid && this.grid.element) {\n      EventHandler.remove(this.grid.element, 'click', this.mouseClickHandler);\n    }\n  };\n  /**\n   * Logs tree grid error message on console\n   *\n   * @param {string | string[]} types - Tree Grid error type\n   * @param {object} args - Error details\n   * @hidden\n   * @private\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.log = function (types, args) {\n    if (this.loggerModule) {\n      this.loggerModule.treeLog(types, args, this);\n    }\n  };\n  /**\n   * For internal use only - To Initialize the component rendering.\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.render = function () {\n    var _this = this;\n\n    if (this.isReact) {\n      this.grid.isReact = true;\n    }\n\n    createSpinner({\n      target: this.element\n    }, this.createElement);\n    this.log(['mapping_fields_missing']);\n    this.renderModule = new Render(this);\n    this.dataModule = new DataManipulation(this);\n    this.printModule = new Print(this);\n    this.trigger(events.load);\n    this.autoGenerateColumns();\n    this.initialRender = true;\n\n    if (!isNullOrUndefined(this.dataSource)) {\n      this.convertTreeData(this.dataSource);\n    }\n\n    this.loadGrid();\n\n    if (this.element.classList.contains('e-treegrid') && this.rowDropSettings.targetID) {\n      this.grid.rowDropSettings.targetID += '_gridcontrol';\n    }\n\n    this.addListener();\n    var gridContainer = createElement('div', {\n      id: this.element.id + '_gridcontrol'\n    });\n    addClass([this.element], 'e-treegrid');\n\n    if (!isNullOrUndefined(this.height) && typeof this.height === 'string' && this.height.indexOf('%') !== -1) {\n      this.element.style.height = this.height;\n    }\n\n    if (!isNullOrUndefined(this.width) && typeof this.width === 'string' && this.width.indexOf('%') !== -1) {\n      this.element.style.width = this.width;\n    }\n\n    this.element.appendChild(gridContainer);\n    var gridRequiredModules = this.grid.requiredModules;\n\n    this.grid.requiredModules = function () {\n      var modules = [];\n      modules = gridRequiredModules.apply(this);\n\n      for (var i = 0; i < modules.length; i++) {\n        if (modules[i].member === 'virtualscroll') {\n          modules[i].member = 'treeVirtualScroll';\n        }\n      }\n\n      return modules;\n    };\n\n    this.grid.appendTo(gridContainer);\n    this.wireEvents();\n    this.renderComplete();\n    var destroyTemplate = 'destroyTemplate';\n    var destroyTemplateFn = this.grid[destroyTemplate]; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n    this.grid[destroyTemplate] = function (args, index) {\n      destroyTemplateFn.apply(_this.grid);\n      var portals = 'portals';\n\n      if (!(_this.isReact && isNullOrUndefined(_this[portals]))) {\n        _this.clearTemplate(args, index);\n      }\n    };\n  };\n\n  TreeGrid.prototype.afterGridRender = function () {\n    if (!isNullOrUndefined(this.grid.clipboardModule)) {\n      this.grid.clipboardModule.destroy();\n    }\n\n    this.clipboardModule = this.grid.clipboardModule = new TreeClipboard(this);\n  };\n\n  TreeGrid.prototype.convertTreeData = function (data) {\n    var _this = this;\n\n    if (isCountRequired(this)) {\n      data = getValue('result', data);\n    }\n\n    if (data instanceof Array && data.length > 0 && Object.prototype.hasOwnProperty.call(data[0], 'level')) {\n      this.flatData = data;\n      this.flatData.filter(function (e) {\n        setValue('uniqueIDCollection.' + e.uniqueID, e, _this);\n\n        if (e.level === 0) {\n          _this.parentData.push(e);\n        }\n      });\n    } else {\n      if (isCountRequired(this)) {\n        var griddata = getValue('result', this.dataSource);\n        this.dataModule.convertToFlatData(griddata);\n      } else {\n        this.dataModule.convertToFlatData(data);\n      }\n    }\n  }; // private getGridData(): Object {\n  //   if (isRemoteData(this)) {\n  //     return this.dataSource;\n  //   } else if (this.isLocalData && this.dataSource instanceof DataManager) {\n  //     this.dataSource.dataSource.json = this.flatData;\n  //     return this.dataSource;\n  //   }\n  //   return this.flatData;\n  // }\n\n\n  TreeGrid.prototype.bindGridProperties = function () {\n    this.bindedDataSource();\n    this.grid.enableRtl = this.enableRtl;\n    this.grid.allowKeyboard = this.allowKeyboard;\n    this.grid.columns = this.getGridColumns(this.columns);\n    this.grid.allowExcelExport = this.allowExcelExport;\n    this.grid.allowPdfExport = this.allowPdfExport;\n    this.grid.query = this.query;\n    this.grid.columnQueryMode = this.columnQueryMode;\n    this.grid.allowPaging = this.allowPaging;\n    this.grid.pageSettings = getActualProperties(this.pageSettings);\n    this.grid.pagerTemplate = this.pagerTemplate;\n    this.grid.showColumnMenu = this.showColumnMenu;\n    this.grid.allowSorting = this.allowSorting;\n    this.grid.allowFiltering = this.allowFiltering;\n    this.grid.enableVirtualization = this.enableVirtualization;\n    this.grid.enableInfiniteScrolling = this.enableInfiniteScrolling;\n    this.grid.infiniteScrollSettings = this.infiniteScrollSettings;\n    this.grid.width = this.width;\n    this.grid.height = this.height;\n    this.grid.enableAltRow = this.enableAltRow;\n    this.grid.allowReordering = this.allowReordering;\n    this.grid.allowTextWrap = this.allowTextWrap;\n    this.grid.allowResizing = this.allowResizing;\n    this.grid.enableHover = this.enableHover;\n    this.grid.enableAutoFill = this.enableAutoFill;\n    this.grid.enableImmutableMode = this.enableImmutableMode;\n    this.grid.allowRowDragAndDrop = this.allowRowDragAndDrop;\n    this.grid.rowDropSettings = getActualProperties(this.rowDropSettings);\n    this.grid.rowHeight = this.rowHeight;\n    this.grid.gridLines = this.gridLines;\n    this.grid.allowSelection = this.allowSelection;\n    this.grid.toolbar = getActualProperties(this.getGridToolbar());\n    this.grid.toolbarTemplate = this.toolbarTemplate;\n    this.grid.showColumnChooser = this.showColumnChooser;\n    this.grid.filterSettings = getActualProperties(this.filterSettings);\n    this.grid.selectionSettings = getActualProperties(this.selectionSettings);\n    this.grid.sortSettings = getActualProperties(this.sortSettings);\n    this.grid.searchSettings = getActualProperties(this.searchSettings);\n    this.grid.aggregates = getActualProperties(this.aggregates);\n    this.grid.textWrapSettings = getActualProperties(this.textWrapSettings);\n    this.grid.printMode = getActualProperties(this.printMode);\n    this.grid.locale = getActualProperties(this.locale);\n    this.grid.selectedRowIndex = this.selectedRowIndex;\n    this.grid.contextMenuItems = getActualProperties(this.getContextMenu());\n    this.grid.columnMenuItems = getActualProperties(this.columnMenuItems);\n    this.grid.editSettings = this.getGridEditSettings();\n    this.grid.rowTemplate = getActualProperties(this.rowTemplate);\n    this.grid.detailTemplate = getActualProperties(this.detailTemplate);\n    this.grid.frozenRows = this.frozenRows;\n    this.grid.frozenColumns = this.frozenColumns;\n    this.grid.clipMode = getActualProperties(this.clipMode);\n    var templateInstance = 'templateDotnetInstance';\n    this.grid[templateInstance] = this[templateInstance];\n    var isJsComponent = 'isJsComponent';\n    this.grid[isJsComponent] = true;\n  };\n\n  TreeGrid.prototype.triggerEvents = function (args) {\n    this.trigger(getObject('name', args), args);\n  };\n\n  TreeGrid.prototype.bindGridEvents = function () {\n    var _this = this;\n\n    this.grid.rowSelecting = function (args) {\n      if (!isNullOrUndefined(args.target) && (args.target.classList.contains('e-treegridexpand') || args.target.classList.contains('e-treegridcollapse') || args.target.classList.contains('e-summarycell'))) {\n        args.cancel = true;\n        return;\n      }\n\n      _this.trigger(events.rowSelecting, args);\n    };\n\n    this.grid.rowSelected = function (args) {\n      _this.selectedRowIndex = _this.grid.selectedRowIndex;\n\n      _this.notify(events.rowSelected, args);\n\n      _this.trigger(events.rowSelected, args);\n    };\n\n    this.grid.rowDeselected = function (args) {\n      _this.selectedRowIndex = _this.grid.selectedRowIndex;\n\n      _this.trigger(events.rowDeselected, args);\n    };\n\n    this.grid.resizeStop = function (args) {\n      _this.updateColumnModel();\n\n      _this.trigger(events.resizeStop, args);\n    };\n\n    this.grid.excelQueryCellInfo = function (args) {\n      _this.notify('excelCellInfo', args);\n\n      args = _this.dataResults;\n    };\n\n    this.grid.pdfQueryCellInfo = function (args) {\n      _this.notify('pdfCellInfo', args);\n\n      args = _this.dataResults;\n    };\n\n    this.grid.checkBoxChange = function (args) {\n      _this.trigger(events.checkboxChange, args);\n    };\n\n    this.grid.pdfExportComplete = this.triggerEvents.bind(this);\n    this.grid.excelExportComplete = this.triggerEvents.bind(this);\n    this.grid.excelHeaderQueryCellInfo = this.triggerEvents.bind(this);\n    this.grid.pdfHeaderQueryCellInfo = this.triggerEvents.bind(this);\n    this.grid.dataSourceChanged = this.triggerEvents.bind(this);\n    this.grid.recordDoubleClick = this.triggerEvents.bind(this);\n    this.grid.rowDeselecting = this.triggerEvents.bind(this);\n    this.grid.cellDeselected = this.triggerEvents.bind(this);\n    this.grid.cellDeselecting = this.triggerEvents.bind(this);\n    this.grid.columnMenuOpen = this.triggerEvents.bind(this);\n    this.grid.columnMenuClick = this.triggerEvents.bind(this);\n    this.grid.cellSelected = this.triggerEvents.bind(this);\n    this.grid.headerCellInfo = this.triggerEvents.bind(this);\n    this.grid.resizeStart = this.triggerEvents.bind(this);\n    this.grid.resizing = this.triggerEvents.bind(this);\n    this.grid.columnDrag = this.triggerEvents.bind(this);\n    this.grid.columnDragStart = this.triggerEvents.bind(this);\n    this.grid.columnDrop = this.triggerEvents.bind(this);\n    this.grid.beforePrint = this.triggerEvents.bind(this);\n    this.grid.beforeCopy = this.triggerEvents.bind(this);\n\n    this.grid.beforePaste = function (args) {\n      var rows = _this.getRows();\n\n      var rowIndex = 'rowIndex';\n\n      while (rows[args[rowIndex]].classList.contains('e-summaryrow')) {\n        args[rowIndex]++;\n      }\n\n      _this.trigger(events.beforePaste, args);\n    };\n\n    this.grid.load = function () {\n      _this.grid.on('initial-end', _this.afterGridRender, _this);\n\n      if (!isNullOrUndefined(_this.loggerModule)) {\n        var loggerModule = 'loggerModule';\n        _this.loggerModule = _this.grid[loggerModule] = new TreeLogger(_this.grid);\n      }\n    };\n\n    this.grid.printComplete = this.triggerEvents.bind(this);\n    this.grid.actionFailure = this.triggerEvents.bind(this);\n    this.extendedGridDataBoundEvent();\n    this.extendedGridEvents();\n    this.extendedGridActionEvents();\n    this.extendedGridEditEvents();\n    this.bindGridDragEvents();\n    this.bindCallBackEvents();\n  };\n\n  TreeGrid.prototype.lastRowBorder = function (visiblerow, isAddBorder) {\n    for (var j = 0; j < visiblerow.cells.length; j++) {\n      if (isAddBorder) {\n        addClass([visiblerow.cells[j]], 'e-lastrowcell');\n      } else {\n        removeClass([visiblerow.cells[j]], 'e-lastrowcell');\n      }\n    }\n  };\n\n  TreeGrid.prototype.isPixelHeight = function () {\n    if (this.height !== 'auto' && this.height.toString().indexOf('%') === -1) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  TreeGrid.prototype.extendedGridDataBoundEvent = function () {\n    var _this = this;\n\n    this.grid.dataBound = function (args) {\n      _this.updateRowTemplate();\n\n      _this.updateColumnModel();\n\n      _this.updateAltRow(_this.getRows());\n\n      _this.notify('dataBoundArg', args);\n\n      if (isRemoteData(_this) && !isOffline(_this) && !_this.hasChildMapping) {\n        var req = getObject('dataSource.requests', _this).filter(function (e) {\n          return e.httpRequest.statusText !== 'OK';\n        }).length;\n        setValue('grid.contentModule.isLoaded', !(req > 0), _this);\n      }\n\n      if (_this.isPixelHeight() && _this.initialRender) {\n        var rows = _this.getContentTable().rows;\n\n        var totalRows = [].slice.call(rows);\n\n        for (var i = totalRows.length - 1; i > 0; i--) {\n          if (!isHidden(totalRows[i])) {\n            if (totalRows[i].nextElementSibling) {\n              _this.lastRowBorder(totalRows[i], true);\n            }\n\n            break;\n          }\n        }\n      }\n\n      _this.trigger(events.dataBound, args);\n\n      _this.initialRender = false;\n    }; // eslint-disable-next-line @typescript-eslint/no-this-alias\n\n\n    var treeGrid = this;\n\n    this.grid.beforeDataBound = function (args) {\n      var dataSource = 'dataSource';\n      var requestType = getObject('action', args);\n\n      if ((isRemoteData(treeGrid) && !isOffline(treeGrid) || isCountRequired(this)) && requestType !== 'edit') {\n        treeGrid.notify('updateRemoteLevel', args);\n        args = treeGrid.dataResults;\n      } else if (treeGrid.flatData.length === 0 && isOffline(treeGrid) && treeGrid.dataSource instanceof DataManager) {\n        var dm = treeGrid.dataSource;\n        treeGrid.dataModule.convertToFlatData(dm.dataSource.json);\n        args.result = treeGrid.grid.dataSource[dataSource].json = treeGrid.flatData;\n      }\n\n      if (!isRemoteData(treeGrid) && !isCountRequired(this) && !isNullOrUndefined(treeGrid.dataSource)) {\n        if (this.isPrinting) {\n          setValue('isPrinting', true, args);\n        }\n\n        treeGrid.notify('dataProcessor', args); //args = treeGrid.dataModule.dataProcessor(args);\n      }\n\n      extend(args, treeGrid.dataResults);\n\n      if (treeGrid.enableImmutableMode) {\n        args.result = args.result.slice();\n      }\n\n      if (treeGrid.initialRender) {\n        this.contentModule.objectEqualityChecker = treeGrid.objectEqualityChecker;\n      } // treeGrid.notify(events.beforeDataBound, args);\n\n\n      if (!this.isPrinting) {\n        var callBackPromise_1 = new Deferred();\n        treeGrid.trigger(events.beforeDataBound, args, function (beforeDataBoundArgs) {\n          callBackPromise_1.resolve(beforeDataBoundArgs);\n        });\n        return callBackPromise_1;\n      }\n    };\n\n    this.grid.log = function (type, args) {\n      if (_this.loggerModule) {\n        _this.loggerModule.log(type, args);\n      }\n    };\n  };\n\n  TreeGrid.prototype.bindCallBackEvents = function () {\n    var _this = this;\n\n    this.grid.toolbarClick = function (args) {\n      var callBackPromise = new Deferred();\n\n      _this.trigger(events.toolbarClick, args, function (toolbarargs) {\n        if (!toolbarargs.cancel) {\n          _this.notify(events.toolbarClick, args);\n        }\n\n        callBackPromise.resolve(toolbarargs);\n      });\n\n      return callBackPromise;\n    };\n\n    this.grid.cellSelecting = function (args) {\n      var callBackPromise = new Deferred();\n\n      _this.trigger(getObject('name', args), args, function (cellselectingArgs) {\n        callBackPromise.resolve(cellselectingArgs);\n      });\n\n      return callBackPromise;\n    };\n\n    this.grid.beginEdit = function (args) {\n      if (!isNullOrUndefined(args.row) && args.row.classList.contains('e-summaryrow')) {\n        args.cancel = true;\n        return;\n      }\n\n      var callBackPromise = new Deferred();\n\n      _this.trigger(events.beginEdit, args, function (begineditArgs) {\n        callBackPromise.resolve(begineditArgs);\n      });\n\n      return callBackPromise;\n    };\n  };\n\n  TreeGrid.prototype.extendedGridEditEvents = function () {\n    var _this = this;\n\n    this.grid.dataStateChange = function (args) {\n      if (_this.isExpandRefresh) {\n        _this.isExpandRefresh = false;\n        _this.grid.dataSource = {\n          result: _this.flatData,\n          count: getValue('count', _this.grid.dataSource)\n        };\n      } else {\n        _this.trigger(events.dataStateChange, args);\n      }\n    };\n\n    this.grid.cellSave = function (args) {\n      if (_this.grid.isContextMenuOpen()) {\n        var contextitems = _this.grid.contextMenuModule.contextMenu.element.getElementsByClassName('e-selected')[0];\n\n        if (isNullOrUndefined(contextitems) || contextitems.id !== _this.element.id + '_gridcontrol_cmenu_Save') {\n          args.cancel = true;\n        }\n      }\n\n      var callBackPromise = new Deferred();\n\n      _this.trigger(events.cellSave, args, function (cellsaveArgs) {\n        if (!cellsaveArgs.cancel) {\n          _this.notify(events.cellSave, cellsaveArgs);\n        }\n\n        callBackPromise.resolve(cellsaveArgs);\n      });\n\n      return callBackPromise;\n    };\n\n    this.grid.cellSaved = function (args) {\n      _this.trigger(events.cellSaved, args);\n\n      _this.notify(events.cellSaved, args);\n    };\n\n    this.grid.cellEdit = function (args) {\n      var prom = 'promise';\n      var promise = new Deferred();\n      args[prom] = promise;\n\n      _this.notify(events.cellEdit, args);\n\n      return promise;\n    };\n\n    this.grid.batchAdd = function (args) {\n      _this.trigger(events.batchAdd, args);\n\n      _this.notify(events.batchAdd, args);\n    };\n\n    this.grid.beforeBatchSave = function (args) {\n      _this.trigger(events.beforeBatchSave, args);\n\n      _this.notify(events.beforeBatchSave, args);\n    };\n\n    this.grid.beforeBatchAdd = function (args) {\n      _this.trigger(events.beforeBatchAdd, args);\n\n      _this.notify(events.beforeBatchAdd, args);\n    };\n\n    this.grid.batchDelete = function (args) {\n      _this.trigger(events.batchDelete, args);\n\n      _this.notify(events.batchDelete, args);\n    };\n\n    this.grid.beforeBatchDelete = function (args) {\n      _this.trigger(events.beforeBatchDelete, args);\n\n      _this.notify(events.beforeBatchDelete, args);\n    };\n\n    this.grid.batchCancel = function (args) {\n      if (_this.editSettings.mode !== 'Cell') {\n        _this.trigger(events.batchCancel, args);\n      }\n\n      _this.notify(events.batchCancel, args);\n    };\n  };\n\n  TreeGrid.prototype.updateRowTemplate = function () {\n    this.treeColumnRowTemplate();\n  };\n\n  TreeGrid.prototype.bindedDataSource = function () {\n    var dataSource = 'dataSource';\n    var isDataAvailable = 'isDataAvailable';\n    var adaptor = 'adaptor';\n    var ready = 'ready';\n\n    if (this.dataSource && isCountRequired(this)) {\n      var data = this.flatData;\n      var datacount = getValue('count', this.dataSource);\n      this.grid.dataSource = {\n        result: data,\n        count: datacount\n      };\n    } else {\n      this.grid.dataSource = !(this.dataSource instanceof DataManager) ? this.flatData : new DataManager(this.dataSource.dataSource, this.dataSource.defaultQuery, this.dataSource.adaptor);\n    }\n\n    if (this.dataSource instanceof DataManager && (this.dataSource.dataSource.offline || this.dataSource.ready)) {\n      this.grid.dataSource[dataSource].json = extendArray(this.dataSource[dataSource].json);\n      this.grid.dataSource[ready] = this.dataSource.ready;\n      var proxy_1 = this;\n\n      if (!isNullOrUndefined(this.grid.dataSource[ready])) {\n        this.grid.dataSource[ready].then(function (e) {\n          var dm = proxy_1.grid.dataSource;\n          dm[dataSource].offline = true;\n          dm[isDataAvailable] = true;\n          dm[dataSource].json = e.result;\n          dm[adaptor] = new JsonAdaptor();\n        });\n      }\n    }\n  };\n\n  TreeGrid.prototype.extendedGridActionEvents = function () {\n    var _this = this;\n\n    this.grid.actionBegin = function (args) {\n      if (args.requestType === 'sorting' && args.target && args.target.parentElement && args.target.parentElement.classList.contains('e-hierarchycheckbox')) {\n        args.cancel = true;\n      }\n\n      var requestType = getObject('requestType', args);\n\n      if (requestType === 'reorder') {\n        _this.notify('getColumnIndex', {});\n      }\n\n      _this.notify('actionBegin', {\n        editAction: args\n      });\n\n      if (!isRemoteData(_this) && !isNullOrUndefined(_this.filterModule) && !isCountRequired(_this) && (_this.grid.filterSettings.columns.length === 0 || _this.grid.searchSettings.key.length === 0)) {\n        _this.notify('clearFilters', {\n          flatData: _this.grid.dataSource\n        });\n\n        _this.grid.dataSource = _this.dataResults.result;\n      }\n\n      var callBackPromise = new Deferred();\n\n      _this.trigger(events.actionBegin, args, function (actionArgs) {\n        if (!actionArgs.cancel) {\n          _this.notify(events.beginEdit, actionArgs);\n        }\n\n        callBackPromise.resolve(actionArgs);\n      });\n\n      return callBackPromise;\n    };\n\n    this.grid.actionComplete = function (args) {\n      _this.notify('actioncomplete', args);\n\n      _this.updateColumnModel();\n\n      _this.updateTreeGridModel();\n\n      if (args.requestType === 'reorder') {\n        _this.notify('setColumnIndex', {});\n      }\n\n      _this.notify('actionComplete', {\n        editAction: args\n      });\n\n      if (args.requestType === 'add' && _this.editSettings.newRowPosition !== 'Top' && _this.editSettings.newRowPosition !== 'Bottom') {\n        _this.notify(events.beginAdd, args);\n      }\n\n      if (args.requestType === 'batchsave') {\n        _this.notify(events.batchSave, args);\n      }\n\n      _this.notify('updateGridActions', args);\n\n      _this.trigger(events.actionComplete, args);\n    };\n  };\n\n  TreeGrid.prototype.extendedGridEvents = function () {\n    var _this = this; // eslint-disable-next-line @typescript-eslint/no-this-alias\n\n\n    var treeGrid = this;\n\n    this.grid.recordDoubleClick = function (args) {\n      _this.trigger(events.recordDoubleClick, args);\n\n      _this.notify(events.recordDoubleClick, args);\n    };\n\n    this.grid.detailDataBound = function (args) {\n      _this.notify('detaildataBound', args);\n\n      _this.trigger(events.detailDataBound, args);\n    };\n\n    this.grid.rowDataBound = function (args) {\n      if (isNullOrUndefined(this.isPrinting)) {\n        setValue('isPrinting', false, args);\n      } else {\n        setValue('isPrinting', this.isPrinting, args);\n      }\n\n      treeGrid.renderModule.RowModifier(args);\n    };\n\n    this.grid.queryCellInfo = function (args) {\n      if (isNullOrUndefined(this.isPrinting)) {\n        setValue('isPrinting', false, args);\n      } else {\n        setValue('isPrinting', this.isPrinting, args);\n      }\n\n      treeGrid.renderModule.cellRender(args);\n    };\n\n    this.grid.contextMenuClick = function (args) {\n      _this.notify(events.contextMenuClick, args);\n\n      _this.trigger(events.contextMenuClick, args);\n    };\n\n    this.grid.contextMenuOpen = function (args) {\n      _this.notify(events.contextMenuOpen, args);\n\n      _this.trigger(events.contextMenuOpen, args);\n    };\n\n    this.grid.queryCellInfo = function (args) {\n      _this.renderModule.cellRender(args);\n    };\n  };\n\n  TreeGrid.prototype.bindGridDragEvents = function () {\n    var _this = this;\n\n    this.grid.rowDragStartHelper = function (args) {\n      _this.trigger(events.rowDragStartHelper, args);\n    };\n\n    this.grid.rowDragStart = function (args) {\n      _this.trigger(events.rowDragStart, args);\n    };\n\n    this.grid.rowDrag = function (args) {\n      if (_this.grid.isEdit) {\n        args.cancel = true;\n        return;\n      }\n\n      _this.notify(events.rowdraging, args);\n\n      _this.trigger(events.rowDrag, args);\n    };\n\n    this.grid.rowDrop = function (args) {\n      if (_this.grid.isEdit) {\n        args.cancel = true;\n        return;\n      }\n\n      _this.notify(events.rowDropped, args);\n\n      args.cancel = true;\n    };\n  };\n  /**\n   * Renders TreeGrid component\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.loadGrid = function () {\n    this.bindGridProperties();\n    this.bindGridEvents();\n    setValue('registeredTemplate', this.registeredTemplate, this.grid);\n    var ref = 'viewContainerRef';\n    setValue('viewContainerRef', this[ref], this.grid);\n  };\n  /**\n   * AutoGenerate TreeGrid columns from first record\n   *\n   * @hidden\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.autoGenerateColumns = function () {\n    if (!this.columns.length && !this.dataModule.isRemote() && Object.keys(this.dataSource).length) {\n      this.columns = []; // if (this.dataSource instanceof DataManager) {\n      //   record = (<DataManager>this.dataSource).dataSource.json[0];\n      // } else {\n\n      var record = this.dataSource[0]; // }\n\n      var keys = Object.keys(record);\n\n      for (var i = 0; i < keys.length; i++) {\n        if ([this.childMapping, this.parentIdMapping].indexOf(keys[i]) === -1) {\n          this.columns.push(keys[i]);\n        }\n      }\n    }\n  };\n\n  TreeGrid.prototype.getGridEditSettings = function () {\n    var edit = {};\n    var guid = 'guid';\n    edit.allowAdding = this.editSettings.allowAdding;\n    edit.allowEditing = this.editSettings.allowEditing;\n    edit.allowDeleting = this.editSettings.allowDeleting;\n    edit.newRowPosition = this.editSettings.newRowPosition === 'Bottom' ? 'Bottom' : 'Top';\n    edit.allowEditOnDblClick = this.editSettings.allowEditOnDblClick;\n    edit.showConfirmDialog = this.editSettings.showConfirmDialog;\n    edit.template = this.editSettings.template;\n    edit.showDeleteConfirmDialog = this.editSettings.showDeleteConfirmDialog;\n    edit.allowNextRowEdit = this.editSettings.allowNextRowEdit;\n    edit[guid] = this.editSettings[guid];\n    edit.dialog = this.editSettings.dialog;\n\n    switch (this.editSettings.mode) {\n      case 'Dialog':\n        edit.mode = this.editSettings.mode;\n        break;\n\n      case 'Batch':\n        edit.mode = this.editSettings.mode;\n        break;\n\n      case 'Row':\n        edit.mode = 'Normal';\n        break;\n\n      case 'Cell':\n        edit.mode = 'Normal';\n        edit.showConfirmDialog = false;\n        break;\n    }\n\n    return edit;\n  };\n  /**\n   * Defines grid toolbar from treegrid toolbar model\n   *\n   * @hidden\n   * @returns {Object[]} - returns context menu items\n   */\n\n\n  TreeGrid.prototype.getContextMenu = function () {\n    if (this.contextMenuItems) {\n      var items = [];\n\n      for (var i = 0; i < this.contextMenuItems.length; i++) {\n        switch (this.contextMenuItems[i]) {\n          case 'AddRow':\n          case ContextMenuItems.AddRow:\n            items.push({\n              text: this.l10n.getConstant('AddRow'),\n              target: '.e-content',\n              id: this.element.id + '_gridcontrol_cmenu_AddRow',\n              items: [{\n                text: this.l10n.getConstant('Above'),\n                id: 'Above'\n              }, {\n                text: this.l10n.getConstant('Below'),\n                id: 'Below'\n              }, {\n                text: this.l10n.getConstant('Child'),\n                id: 'Child'\n              }]\n            });\n            break;\n\n          default:\n            items.push(this.contextMenuItems[i]);\n        }\n      }\n\n      return items;\n    } else {\n      return null;\n    }\n  };\n  /**\n   * Defines grid toolbar from treegrid toolbar model\n   *\n   * @hidden\n   * @returns {Object[]} - Returns toolbar items\n   */\n\n\n  TreeGrid.prototype.getGridToolbar = function () {\n    if (this.toolbar) {\n      var items = [];\n      var tooltipText = void 0;\n\n      for (var i = 0; i < this.toolbar.length; i++) {\n        switch (this.toolbar[i]) {\n          case 'Search':\n          case ToolbarItem.Search:\n            items.push('Search');\n            break;\n\n          case 'Print':\n          case ToolbarItem.Print:\n            items.push('Print');\n            break;\n\n          case 'ExpandAll':\n          case ToolbarItem.ExpandAll:\n            tooltipText = this.l10n.getConstant('ExpandAll');\n            items.push({\n              text: tooltipText,\n              tooltipText: tooltipText,\n              prefixIcon: 'e-expand',\n              id: this.element.id + '_gridcontrol_expandall'\n            });\n            break;\n\n          case 'CollapseAll':\n          case ToolbarItem.CollapseAll:\n            tooltipText = this.l10n.getConstant('CollapseAll');\n            items.push({\n              text: tooltipText,\n              tooltipText: tooltipText,\n              prefixIcon: 'e-collapse',\n              id: this.element.id + '_gridcontrol_collapseall'\n            });\n            break;\n\n          case 'Indent':\n          case ToolbarItem.RowIndent:\n            tooltipText = this.l10n.getConstant('RowIndent');\n            items.push({\n              text: tooltipText,\n              tooltipText: tooltipText,\n              prefixIcon: 'e-indent',\n              id: this.element.id + '_gridcontrol_indent'\n            });\n            break;\n\n          case 'Outdent':\n          case ToolbarItem.RowOutdent:\n            tooltipText = this.l10n.getConstant('RowOutdent');\n            items.push({\n              text: tooltipText,\n              tooltipText: tooltipText,\n              prefixIcon: 'e-outdent',\n              id: this.element.id + '_gridcontrol_outdent'\n            });\n            break;\n\n          default:\n            items.push(this.toolbar[i]);\n        }\n      }\n\n      return items;\n    } else {\n      return null;\n    }\n  };\n\n  TreeGrid.prototype.getGridColumns = function (columns, isEmptyColumnModel, index) {\n    if (isEmptyColumnModel === void 0) {\n      isEmptyColumnModel = true;\n    }\n\n    if (index === void 0) {\n      index = 0;\n    }\n\n    var column = columns;\n    var stackedColumn = 'columns';\n\n    if (isEmptyColumnModel) {\n      this.columnModel = [];\n    }\n\n    var treeGridColumn;\n    var gridColumn;\n    index = index === 0 ? -1 : index;\n    var gridColumnCollection = [];\n\n    for (var i = 0; i < column.length; i++) {\n      index = index + 1;\n      var treeColumn = this.grid.getColumnByUid(column[i].uid);\n      gridColumn = treeColumn ? treeColumn : {};\n      treeGridColumn = {};\n\n      if (typeof this.columns[i] === 'string') {\n        gridColumn.field = treeGridColumn.field = this.columns[i];\n      } else {\n        for (var _i = 0, _a = Object.keys(column[i]); _i < _a.length; _i++) {\n          var prop = _a[_i];\n\n          if (index === this.treeColumnIndex && prop === 'template') {\n            treeGridColumn[prop] = column[i][prop];\n          } else if (prop === 'columns' && !isNullOrUndefined(column[i][prop])) {\n            gridColumn[prop] = this.getGridColumns(column[i][prop], false, index);\n            treeGridColumn[prop] = column[i][prop];\n          } else {\n            gridColumn[prop] = treeGridColumn[prop] = column[i][prop];\n          }\n        }\n      }\n\n      if (!treeGridColumn[stackedColumn]) {\n        this.columnModel.push(new Column(treeGridColumn));\n      }\n\n      gridColumnCollection.push(gridColumn);\n    }\n\n    return gridColumnCollection;\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {TreeGridModel} newProp - properties details which has to be modified\n   * @hidden\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.onPropertyChanged = function (newProp) {\n    var properties = Object.keys(newProp);\n    var requireRefresh = false;\n\n    for (var _i = 0, properties_1 = properties; _i < properties_1.length; _i++) {\n      var prop = properties_1[_i];\n\n      switch (prop) {\n        case 'columns':\n          this.grid.columns = this.getGridColumns(this.columns);\n          break;\n\n        case 'treeColumnIndex':\n          this.grid.refreshColumns();\n          break;\n\n        case 'allowPaging':\n          this.grid.allowPaging = this.allowPaging;\n          break;\n\n        case 'pageSettings':\n          this.grid.pageSettings = getActualProperties(this.pageSettings);\n          requireRefresh = true;\n          break;\n\n        case 'enableVirtualization':\n          this.grid.enableVirtualization = this.enableVirtualization;\n          break;\n\n        case 'toolbar':\n          this.grid.toolbar = this.getGridToolbar();\n          break;\n\n        case 'allowSelection':\n          this.grid.allowSelection = this.allowSelection;\n          break;\n\n        case 'selectionSettings':\n          this.grid.selectionSettings = getActualProperties(this.selectionSettings);\n          break;\n\n        case 'allowSorting':\n          this.grid.allowSorting = this.allowSorting;\n          break;\n\n        case 'allowMultiSorting':\n          this.grid.allowMultiSorting = this.allowMultiSorting;\n          break;\n\n        case 'sortSettings':\n          this.grid.sortSettings = getActualProperties(this.sortSettings);\n          break;\n\n        case 'searchSettings':\n          this.grid.searchSettings = getActualProperties(this.searchSettings);\n          break;\n\n        case 'allowFiltering':\n          this.grid.allowFiltering = this.allowFiltering;\n          break;\n\n        case 'filterSettings':\n          if (!this.initialRender) {\n            this.grid.filterSettings = getActualProperties(this.filterSettings);\n          }\n\n          break;\n\n        case 'showColumnMenu':\n          this.grid.showColumnMenu = this.showColumnMenu;\n          break;\n\n        case 'allowRowDragAndDrop':\n          this.grid.allowRowDragAndDrop = this.allowRowDragAndDrop;\n          break;\n\n        case 'aggregates':\n          this.grid.aggregates = getActualProperties(this.aggregates);\n          break;\n\n        case 'enableInfiniteScrolling':\n          this.grid.enableInfiniteScrolling = this.enableInfiniteScrolling;\n          break;\n\n        case 'dataSource':\n          this.isLocalData = !(this.dataSource instanceof DataManager) || !isNullOrUndefined(this.dataSource.ready) || this.dataSource.adaptor instanceof RemoteSaveAdaptor;\n          this.convertTreeData(this.dataSource);\n\n          if (this.isLocalData) {\n            if (isCountRequired(this)) {\n              var count = getValue('count', this.dataSource);\n              this.grid.dataSource = {\n                result: this.flatData,\n                count: count\n              };\n            } else {\n              var data = this.dataSource;\n              this.grid.dataSource = !(data instanceof DataManager) ? this.flatData : new DataManager(data.dataSource, data.defaultQuery, data.adaptor);\n            }\n\n            if (this.enableVirtualization) {\n              this.grid.contentModule.isDataSourceChanged = true;\n            }\n          } else {\n            this.bindedDataSource();\n\n            if (this.enableVirtualization) {\n              this.grid.contentModule.removeEventListener();\n              this.grid.contentModule.eventListener('on');\n              this.grid.contentModule.renderTable();\n            }\n          }\n\n          break;\n\n        case 'query':\n          this.grid.query = this.query;\n          break;\n\n        case 'enableCollapseAll':\n          if (newProp[prop]) {\n            this.collapseAll();\n          } else {\n            this.expandAll();\n          }\n\n          break;\n\n        case 'expandStateMapping':\n          this.grid.refresh();\n          break;\n\n        case 'gridLines':\n          this.grid.gridLines = this.gridLines;\n          break;\n\n        case 'rowTemplate':\n          this.grid.rowTemplate = getActualProperties(this.rowTemplate);\n          break;\n\n        case 'frozenRows':\n          this.grid.frozenRows = this.frozenRows;\n          break;\n\n        case 'frozenColumns':\n          this.grid.frozenColumns = this.frozenColumns;\n          break;\n\n        case 'rowHeight':\n          this.grid.rowHeight = this.rowHeight;\n          break;\n\n        case 'height':\n          if (!isNullOrUndefined(this.height) && typeof this.height === 'string' && this.height.indexOf('%') !== -1) {\n            this.element.style.height = this.height;\n          }\n\n          this.grid.height = this.height;\n          break;\n\n        case 'width':\n          if (!isNullOrUndefined(this.width) && typeof this.width === 'string' && this.width.indexOf('%') !== -1) {\n            this.element.style.width = this.width;\n          }\n\n          this.grid.width = this.width;\n          break;\n\n        case 'locale':\n          this.grid.locale = this.locale;\n          break;\n\n        case 'selectedRowIndex':\n          this.grid.selectedRowIndex = this.selectedRowIndex;\n          break;\n\n        case 'enableAltRow':\n          this.grid.enableAltRow = this.enableAltRow;\n          break;\n\n        case 'enableHover':\n          this.grid.enableHover = this.enableHover;\n          break;\n\n        case 'enableAutoFill':\n          this.grid.enableAutoFill = this.enableAutoFill;\n          break;\n\n        case 'enableImmutableMode':\n          this.grid.enableImmutableMode = this.enableImmutableMode;\n          break;\n\n        case 'allowExcelExport':\n          this.grid.allowExcelExport = this.allowExcelExport;\n          break;\n\n        case 'allowPdfExport':\n          this.grid.allowPdfExport = this.allowPdfExport;\n          break;\n\n        case 'enableRtl':\n          this.grid.enableRtl = this.enableRtl;\n          break;\n\n        case 'allowReordering':\n          this.grid.allowReordering = this.allowReordering;\n          break;\n\n        case 'allowResizing':\n          this.grid.allowResizing = this.allowResizing;\n          break;\n\n        case 'textWrapSettings':\n          this.grid.textWrapSettings = getActualProperties(this.textWrapSettings);\n          break;\n\n        case 'allowTextWrap':\n          this.grid.allowTextWrap = getActualProperties(this.allowTextWrap);\n          this.grid.refresh();\n          break;\n\n        case 'contextMenuItems':\n          this.grid.contextMenuItems = this.getContextMenu();\n          break;\n\n        case 'showColumnChooser':\n          this.grid.showColumnChooser = this.showColumnChooser;\n          break;\n\n        case 'detailTemplate':\n          this.grid.detailTemplate = getActualProperties(this.detailTemplate);\n          break;\n\n        case 'columnMenuItems':\n          this.grid.columnMenuItems = getActualProperties(this.columnMenuItems);\n          break;\n\n        case 'editSettings':\n          if (this.grid.isEdit && this.grid.editSettings.mode === 'Normal' && newProp[prop].mode && (newProp[prop].mode === 'Cell' || newProp[prop].mode === 'Row')) {\n            this.grid.closeEdit();\n          }\n\n          this.grid.editSettings = this.getGridEditSettings();\n          break;\n      }\n\n      if (requireRefresh) {\n        this.grid.refresh();\n      }\n    }\n  };\n  /**\n   * Destroys the component (detaches/removes all event handlers, attributes, classes, and empties the component element).\n   *\n   * @method destroy\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.destroy = function () {\n    this.removeListener();\n    this.unwireEvents();\n\n    _super.prototype.destroy.call(this);\n\n    if (this.grid) {\n      this.grid.destroy();\n    }\n\n    if (this.dataModule) {\n      this.dataModule.destroy();\n    }\n\n    var modules = ['dataModule', 'sortModule', 'renderModule', 'filterModule', 'printModule', 'clipboardModule', 'excelExportModule', 'pdfExportModule', 'toolbarModule', 'summaryModule', 'reorderModule', 'resizeModule', 'pagerModule', 'keyboardModule', 'columnMenuModule', 'contextMenuModule', 'editModule', 'virtualScrollModule', 'selectionModule', 'detailRow', 'rowDragAndDropModule', 'freezeModule'];\n\n    for (var i = 0; i < modules.length; i++) {\n      if (this[modules[i]]) {\n        this[modules[i]] = null;\n      }\n    }\n\n    this.element.innerHTML = '';\n    this.grid = null;\n  };\n  /**\n   * Update the TreeGrid model\n   *\n   * @method dataBind\n   * @returns {void}\n   * @private\n   */\n\n\n  TreeGrid.prototype.dataBind = function () {\n    _super.prototype.dataBind.call(this);\n\n    this.grid.dataBind();\n  };\n  /**\n   * Get the properties to be maintained in the persisted state.\n   *\n   * @returns {string} - Returns persist properties details\n   * @hidden\n   */\n\n\n  TreeGrid.prototype.getPersistData = function () {\n    var keyEntity = ['pageSettings', 'sortSettings', 'filterSettings', 'columns', 'searchSettings', 'selectedRowIndex'];\n    var ignoreOnPersist = {\n      pageSettings: ['template', 'pageSizes', 'pageSizeMode', 'enableQueryString', 'totalRecordsCount', 'pageCount'],\n      filterSettings: ['type', 'mode', 'showFilterBarStatus', 'immediateModeDelay', 'ignoreAccent', 'hierarchyMode'],\n      searchSettings: ['fields', 'operator', 'ignoreCase'],\n      sortSettings: [],\n      columns: [],\n      selectedRowIndex: []\n    };\n    var ignoreOnColumn = ['filter', 'edit', 'filterBarTemplate', 'headerTemplate', 'template', 'commandTemplate', 'commands', 'dataSource'];\n\n    for (var i = 0; i < keyEntity.length; i++) {\n      var currentObject = this[keyEntity[i]];\n\n      for (var _i = 0, _a = ignoreOnPersist[keyEntity[i]]; _i < _a.length; _i++) {\n        var val = _a[_i];\n        delete currentObject[val];\n      }\n    }\n\n    this.ignoreInArrays(ignoreOnColumn, this.columns);\n    return this.addOnPersist(keyEntity);\n  };\n\n  TreeGrid.prototype.ignoreInArrays = function (ignoreOnColumn, columns) {\n    for (var i = 0; i < columns.length; i++) {\n      if (columns[i].columns) {\n        this.ignoreInColumn(ignoreOnColumn, columns[i]);\n        this.ignoreInArrays(ignoreOnColumn, columns[i].columns);\n      } else {\n        this.ignoreInColumn(ignoreOnColumn, columns[i]);\n      }\n    }\n  };\n\n  TreeGrid.prototype.ignoreInColumn = function (ignoreOnColumn, column) {\n    for (var i = 0; i < ignoreOnColumn.length; i++) {\n      delete column[ignoreOnColumn[i]];\n      column.filter = {};\n    }\n  };\n\n  TreeGrid.prototype.mouseClickHandler = function (e) {\n    if (!isNullOrUndefined(e.touches)) {\n      return;\n    }\n\n    var target = e.target;\n\n    if ((target.classList.contains('e-treegridexpand') || target.classList.contains('e-treegridcollapse')) && !this.isEditCollapse && !this.grid.isEdit) {\n      this.expandCollapseRequest(target);\n    }\n\n    this.isEditCollapse = false;\n    this.notify('checkboxSelection', {\n      target: target\n    });\n  };\n  /**\n   * Returns TreeGrid rows\n   *\n   * @returns {HTMLTableRowElement[]} - Returns row elements collection\n   */\n\n\n  TreeGrid.prototype.getRows = function () {\n    return this.grid.getRows();\n  };\n  /**\n   * Gets the pager of the TreeGrid.\n   *\n   * @returns {Element} - Returns pager element\n   */\n\n\n  TreeGrid.prototype.getPager = function () {\n    return this.grid.getPager(); //get element from pager\n  };\n  /**\n   * Adds a new record to the TreeGrid. Without passing parameters, it adds empty rows.\n   * > `editSettings.allowEditing` should be true.\n   *\n   * @param {Object} data - Defines the new add record data.\n   * @param {number} index - Defines the row index to be added.\n   * @param {RowPosition} position - Defines the new row position to be added.\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.addRecord = function (data, index, position) {\n    if (this.editModule) {\n      this.editModule.addRecord(data, index, position);\n    }\n  };\n  /**\n   * Cancels edited state.\n   *\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.closeEdit = function () {\n    if (this.grid.editModule) {\n      this.grid.editModule.closeEdit();\n    }\n  };\n  /**\n   * Saves the cell that is currently edited. It does not save the value to the DataSource.\n   *\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.saveCell = function () {\n    if (this.grid.editModule) {\n      this.grid.editModule.saveCell();\n    }\n  };\n  /**\n   * To update the specified cell by given value without changing into edited state.\n   *\n   * @param {number} rowIndex Defines the row index.\n   * @param {string} field Defines the column field.\n   * @param {string | number | boolean | Date} value - Defines the value to be changed.\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.updateCell = function (rowIndex, field, value) {\n    if (this.grid.editModule) {\n      this.grid.editModule.updateCell(rowIndex, field, value);\n    }\n  };\n  /**\n   * To update the specified row by given values without changing into edited state.\n   *\n   * @param {number} index Defines the row index.\n   * @param {Object} data Defines the data object to be updated.\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.updateRow = function (index, data) {\n    if (this.grid.editModule) {\n      if (!isNullOrUndefined(index)) {\n        var griddata = this.grid.getCurrentViewRecords()[index];\n        extend(griddata, data);\n        this.grid.editModule.updateRow(index, griddata);\n      } else {\n        this.grid.editModule.updateRow(index, data);\n      }\n    }\n  };\n  /**\n   * Delete a record with Given options. If fieldName and data is not given then TreeGrid will delete the selected record.\n   * > `editSettings.allowDeleting` should be true.\n   *\n   * @param {string} fieldName - Defines the primary key field, 'Name of the column'.\n   * @param {Object} data - Defines the JSON data of the record to be deleted.\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.deleteRecord = function (fieldName, data) {\n    if (this.grid.editModule) {\n      this.grid.editModule.deleteRecord(fieldName, data);\n    }\n  };\n  /**\n   * To edit any particular row by TR element.\n   *\n   * @param {HTMLTableRowElement} row - Defines the table row to be edited.\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.startEdit = function (row) {\n    if (this.grid.editModule) {\n      this.grid.editModule.startEdit(row);\n    }\n  };\n  /**\n   * To edit any particular cell using row index and cell index.\n   *\n   * @param {number} rowIndex - Defines row index to edit a particular cell.\n   * @param {string} field - Defines the field name of the column to perform cell edit.\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.editCell = function (rowIndex, field) {\n    if (this.editModule) {\n      this.editModule.editCell(rowIndex, field);\n    }\n  };\n  /**\n   * Enables or disables ToolBar items.\n   *\n   * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n   * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.enableToolbarItems = function (items, isEnable) {\n    if (this.grid.toolbarModule) {\n      this.grid.toolbarModule.enableItems(items, isEnable);\n    }\n  };\n  /**\n   * If TreeGrid is in editable state, you can save a record by invoking endEdit.\n   *\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.endEdit = function () {\n    if (this.grid.editModule) {\n      this.grid.editModule.endEdit();\n    }\n  };\n  /**\n   * Column chooser can be displayed on screen by given position(X and Y axis).\n   *\n   * @param {number} x - Defines the X axis.\n   * @param {number} y - Defines the Y axis.\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.openColumnChooser = function (x, y) {\n    if (this.columnChooserModule) {\n      this.columnChooserModule.openColumnChooser(x, y);\n    }\n  };\n  /**\n   * Delete any visible row by TR element.\n   *\n   * @param {HTMLTableRowElement} tr - Defines the table row element.\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.deleteRow = function (tr) {\n    if (this.grid.editModule) {\n      this.grid.editModule.deleteRow(tr);\n    }\n  };\n  /**\n   * Get the names of the primary key columns of the TreeGrid.\n   *\n   * @returns {string[]} - Returns primary key collection\n   */\n\n\n  TreeGrid.prototype.getPrimaryKeyFieldNames = function () {\n    return this.grid.getPrimaryKeyFieldNames();\n  };\n  /**\n   * Updates particular cell value based on the given primary key value.\n   * > Primary key column must be specified using `columns.isPrimaryKey` property.\n   *\n   * @param {string| number} key - Specifies the PrimaryKey value of dataSource.\n   * @param {string } field - Specifies the field name which you want to update.\n   * @param {string | number | boolean | Date} value - To update new value for the particular cell.\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.setCellValue = function (key, field, value) {\n    this.grid.setCellValue(key, field, value);\n    var rowIndex = this.grid.getRowIndexByPrimaryKey(key);\n    var record = this.getCurrentViewRecords()[rowIndex];\n\n    if (!isNullOrUndefined(record)) {\n      editAction({\n        value: record,\n        action: 'edit'\n      }, this, this.isSelfReference, record.index, this.grid.selectedRowIndex, field);\n    }\n  };\n  /**\n   * Updates and refresh the particular row values based on the given primary key value.\n   * > Primary key column must be specified using `columns.isPrimaryKey` property.\n   *\n   *  @param {string| number} key - Specifies the PrimaryKey value of dataSource.\n   *  @param {Object} rowData - To update new data for the particular row.\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.setRowData = function (key, rowData) {\n    var currentRecords = this.getCurrentViewRecords();\n    var primaryKey = this.grid.getPrimaryKeyFieldNames()[0];\n    var level = 0;\n    var record = {};\n    currentRecords.some(function (value) {\n      if (value[primaryKey] === key) {\n        record = value;\n        return true;\n      } else {\n        return false;\n      }\n    });\n    level = record.level;\n    rowData.level = level;\n    rowData.index = record.index;\n    rowData.childRecords = record.childRecords;\n    rowData.taskData = record.taskData;\n    rowData.uniqueID = record.uniqueID;\n    rowData.parentItem = record.parentItem;\n    rowData.checkboxState = record.checkboxState;\n    rowData.hasChildRecords = record.hasChildRecords;\n    rowData.parentUniqueID = record.parentUniqueID;\n    rowData.expanded = record.expanded;\n    this.grid.setRowData(key, rowData);\n  };\n  /**\n   * Navigates to the specified target page.\n   *\n   * @param  {number} pageNo - Defines the page number to navigate.\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.goToPage = function (pageNo) {\n    if (this.grid.pagerModule) {\n      this.grid.pagerModule.goToPage(pageNo);\n    }\n  };\n  /**\n   * Defines the text of external message.\n   *\n   * @param  {string} message - Defines the message to update.\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.updateExternalMessage = function (message) {\n    if (this.pagerModule) {\n      this.grid.pagerModule.updateExternalMessage(message);\n    }\n  };\n  /**\n   * Gets a cell by row and column index.\n   *\n   * @param  {number} rowIndex - Specifies the row index.\n   * @param  {number} columnIndex - Specifies the column index.\n   * @returns {Element} - Returns cell element in grid content\n   */\n\n\n  TreeGrid.prototype.getCellFromIndex = function (rowIndex, columnIndex) {\n    return this.grid.getCellFromIndex(rowIndex, columnIndex);\n  };\n  /**\n   * Gets a Column by column name.\n   *\n   * @param  {string} field - Specifies the column name.\n   * @returns {Column} - Returns tree grid column\n   */\n\n\n  TreeGrid.prototype.getColumnByField = function (field) {\n    return iterateArrayOrObject(this.columnModel, function (item) {\n      if (item.field === field) {\n        return item;\n      }\n\n      return undefined;\n    })[0];\n  };\n  /**\n   * Gets a column by UID.\n   *\n   * @param  {string} uid - Specifies the column UID.\n   * @returns {Column} - Returns tree grid column\n   */\n\n\n  TreeGrid.prototype.getColumnByUid = function (uid) {\n    return iterateArrayOrObject(this.grid.columns, function (item) {\n      if (item.uid === uid) {\n        return item;\n      }\n\n      return undefined;\n    })[0];\n  };\n  /**\n   * Gets the collection of column fields.\n   *\n   * @returns {string[]} - Returns column field name as collection\n   */\n\n\n  TreeGrid.prototype.getColumnFieldNames = function () {\n    return this.grid.getColumnFieldNames();\n  };\n  /**\n   * Gets the footer div of the TreeGrid.\n   *\n   * @returns {Element} - Returns footer content div element\n   */\n\n\n  TreeGrid.prototype.getFooterContent = function () {\n    return this.grid.getFooterContent();\n  };\n  /**\n   * Gets the footer table element of the TreeGrid.\n   *\n   * @returns {Element} - Returns footer content table element\n   */\n\n\n  TreeGrid.prototype.getFooterContentTable = function () {\n    return this.grid.getFooterContentTable();\n  };\n  /**\n   * Shows a column by its column name.\n   *\n   * @param  {string|string[]} keys - Defines a single or collection of column names.\n   * @param  {string} showBy - Defines the column key either as field name or header text.\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.showColumns = function (keys, showBy) {\n    this.grid.showColumns(keys, showBy);\n    this.updateColumnModel();\n  };\n  /**\n   * Hides a column by column name.\n   *\n   * @param  {string|string[]} keys - Defines a single or collection of column names.\n   * @param  {string} hideBy - Defines the column key either as field name or header text.\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.hideColumns = function (keys, hideBy) {\n    this.grid.hideColumns(keys, hideBy);\n    this.updateColumnModel();\n  };\n  /**\n   * Gets a column header by column name.\n   *\n   * @param  {string} field - Specifies the column name.\n   * @returns {Element} - Returns column header element\n   */\n\n\n  TreeGrid.prototype.getColumnHeaderByField = function (field) {\n    return this.grid.getColumnHeaderByField(field);\n  };\n  /**\n   * Gets a column header by column index.\n   *\n   * @param  {number} index - Specifies the column index.\n   * @returns {Element} - Returns column header element\n   */\n\n\n  TreeGrid.prototype.getColumnHeaderByIndex = function (index) {\n    return this.grid.getColumnHeaderByIndex(index);\n  };\n  /**\n   * Gets a column header by UID.\n   *\n   * @param {string} uid - Specifies the column uid.\n   * @returns {Element} - Returns column header element\n   */\n\n\n  TreeGrid.prototype.getColumnHeaderByUid = function (uid) {\n    return this.grid.getColumnHeaderByUid(uid);\n  };\n  /**\n   * Gets a column index by column name.\n   *\n   * @param  {string} field - Specifies the column name.\n   * @returns {number} - Returns column index\n   */\n\n\n  TreeGrid.prototype.getColumnIndexByField = function (field) {\n    return this.grid.getColumnIndexByField(field);\n  };\n  /**\n   * Gets a column index by UID.\n   *\n   * @param  {string} uid - Specifies the column UID.\n   * @returns {number} - Returns column index\n   */\n\n\n  TreeGrid.prototype.getColumnIndexByUid = function (uid) {\n    return this.grid.getColumnIndexByUid(uid);\n  };\n  /**\n   * Gets the columns from the TreeGrid.\n   *\n   * @param {boolean} isRefresh - Defined whether to update DOM\n   * @returns {Column[]} - Returns treegrid columns collection\n   */\n\n\n  TreeGrid.prototype.getColumns = function (isRefresh) {\n    this.updateColumnModel(this.grid.getColumns(isRefresh));\n    return this.columnModel;\n  };\n\n  TreeGrid.prototype.updateColumnModel = function (column) {\n    var temp;\n    var field;\n    var gridColumns = isNullOrUndefined(column) ? this.grid.getColumns() : column;\n\n    if (this.treeColumnIndex !== -1 && this.columnModel[this.treeColumnIndex] && !isNullOrUndefined(this.columnModel[this.treeColumnIndex].template)) {\n      temp = this.columnModel[this.treeColumnIndex].template;\n      field = this.columnModel[this.treeColumnIndex].field;\n    }\n\n    this.columnModel = [];\n    var stackedHeader = false;\n    var gridColumn;\n\n    for (var i = 0; i < gridColumns.length; i++) {\n      gridColumn = {};\n\n      for (var _i = 0, _a = Object.keys(gridColumns[i]); _i < _a.length; _i++) {\n        var prop = _a[_i];\n        gridColumn[prop] = gridColumns[i][prop];\n      }\n\n      this.columnModel.push(new Column(gridColumn));\n\n      if (field === this.columnModel[i].field && !isNullOrUndefined(temp) && temp !== '') {\n        this.columnModel[i].template = temp;\n      }\n    }\n\n    var merge = 'deepMerge';\n    this[merge] = ['columns']; // Workaround for blazor updateModel\n\n    if (this.grid.columns.length !== this.columnModel.length) {\n      stackedHeader = true;\n    }\n\n    if (!stackedHeader) {\n      this.setProperties({\n        columns: this.columnModel\n      }, true);\n    }\n\n    this[merge] = undefined; // Workaround for blazor updateModel\n\n    return this.columnModel;\n  };\n  /**\n   * Gets the content div of the TreeGrid.\n   *\n   * @returns {Element} - Return tree grid content element\n   */\n\n\n  TreeGrid.prototype.getContent = function () {\n    return this.grid.getContent();\n  };\n\n  TreeGrid.prototype.mergePersistTreeGridData = function () {\n    var persist1 = 'mergePersistGridData';\n    this.grid[persist1].apply(this);\n  };\n\n  TreeGrid.prototype.mergeColumns = function (storedColumn, columns) {\n    var persist2 = 'mergeColumns';\n    this.grid[persist2].apply(this, [storedColumn, columns]);\n  };\n\n  TreeGrid.prototype.updateTreeGridModel = function () {\n    this.setProperties({\n      filterSettings: getObject('properties', this.grid.filterSettings)\n    }, true);\n    this.setProperties({\n      pageSettings: getObject('properties', this.grid.pageSettings)\n    }, true);\n    this.setProperties({\n      searchSettings: getObject('properties', this.grid.searchSettings)\n    }, true);\n    this.setProperties({\n      sortSettings: getObject('properties', this.grid.sortSettings)\n    }, true);\n  };\n  /**\n   * Gets the content table of the TreeGrid.\n   *\n   * @returns {Element} - Returns content table element\n   */\n\n\n  TreeGrid.prototype.getContentTable = function () {\n    return this.grid.getContentTable();\n  };\n  /**\n   * Gets all the TreeGrid's data rows.\n   *\n   * @returns {Element[]} - Returns row elements\n   */\n\n\n  TreeGrid.prototype.getDataRows = function () {\n    var dRows = [];\n    var rows = this.grid.getDataRows();\n\n    for (var i = 0, len = rows.length; i < len; i++) {\n      if (!rows[i].classList.contains('e-summaryrow')) {\n        dRows.push(rows[i]);\n      }\n    }\n\n    return dRows;\n  };\n  /**\n   * Get current visible data of TreeGrid.\n   *\n   * @returns {Object[]} - Returns current view records\n   * @isGenericType true\n   */\n\n\n  TreeGrid.prototype.getCurrentViewRecords = function () {\n    return this.grid.currentViewData;\n  };\n  /**\n   * Gets the added, edited,and deleted data before bulk save to the DataSource in batch mode.\n   *\n   * @returns {Object} - Returns batch changes\n   */\n\n\n  TreeGrid.prototype.getBatchChanges = function () {\n    return this.grid.editModule.getBatchChanges();\n  };\n  /**\n   * Gets the header div of the TreeGrid.\n   *\n   * @returns {Element} - Returns Header content element\n   */\n\n\n  TreeGrid.prototype.getHeaderContent = function () {\n    return this.grid.getHeaderContent();\n  };\n  /**\n   * Gets the header table element of the TreeGrid.\n   *\n   * @returns {Element} - Return header table element\n   */\n\n\n  TreeGrid.prototype.getHeaderTable = function () {\n    return this.grid.getHeaderTable();\n  };\n  /**\n   * Gets a row by index.\n   *\n   * @param  {number} index - Specifies the row index.\n   * @returns {Element} - Returns row element\n   */\n\n\n  TreeGrid.prototype.getRowByIndex = function (index) {\n    return this.grid.getRowByIndex(index);\n  };\n  /**\n   * Get a row information based on cell\n   *\n   * @param {Element | EventTarget} target - Target row element\n   * @returns {RowInfo} - Returns row information in a JSON object\n   */\n\n\n  TreeGrid.prototype.getRowInfo = function (target) {\n    return this.grid.getRowInfo(target);\n  };\n  /**\n   * Gets UID by column name.\n   *\n   * @param  {string} field - Specifies the column name.\n   * @returns {string} - Returns unique id based on column field name given\n   */\n\n\n  TreeGrid.prototype.getUidByColumnField = function (field) {\n    return this.grid.getUidByColumnField(field);\n  };\n  /**\n   * Gets the visible columns from the TreeGrid.\n   *\n   * @returns {Column[]} - Returns visible columns collection\n   */\n\n\n  TreeGrid.prototype.getVisibleColumns = function () {\n    var cols = [];\n\n    for (var _i = 0, _a = this.columnModel; _i < _a.length; _i++) {\n      var col = _a[_i];\n\n      if (col.visible) {\n        cols.push(col);\n      }\n    }\n\n    return cols;\n  };\n  /**\n   * By default, TreeGrid shows the spinner for all its actions. You can use this method to show spinner at your needed time.\n   *\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.showSpinner = function () {\n    showSpinner(this.element);\n  };\n  /**\n   * Manually shown spinner needs to hide by `hideSpinnner`.\n   *\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.hideSpinner = function () {\n    hideSpinner(this.element);\n  };\n  /**\n   * Refreshes the TreeGrid header and content.\n   *\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.refresh = function () {\n    this.uniqueIDCollection = {};\n    this.convertTreeData(this.dataSource);\n\n    if (!isCountRequired(this)) {\n      this.grid.dataSource = !(this.dataSource instanceof DataManager) ? this.flatData : new DataManager(this.dataSource.dataSource, this.dataSource.defaultQuery, this.dataSource.adaptor);\n    }\n\n    this.grid.refresh();\n  };\n  /**\n   * Get the records of checked rows.\n   *\n   * @returns {Object[]} - Returns records that has been checked\n   * @isGenericType true\n   */\n\n\n  TreeGrid.prototype.getCheckedRecords = function () {\n    return this.selectionModule.getCheckedrecords();\n  };\n  /**\n   * Get the visible records corresponding to rows visually displayed.\n   *\n   * @returns {Object[]} - Returns visible records based on collapse state of rows\n   * @isGenericType true\n   */\n\n\n  TreeGrid.prototype.getVisibleRecords = function () {\n    var visibleRecords = [];\n    var currentViewRecords = this.getCurrentViewRecords();\n\n    if (!this.allowPaging) {\n      for (var i = 0; i < currentViewRecords.length; i++) {\n        visibleRecords.push(currentViewRecords[i]);\n\n        if (!currentViewRecords[i].expanded) {\n          i += findChildrenRecords(currentViewRecords[i]).length;\n        }\n      }\n    } else {\n      visibleRecords = currentViewRecords;\n    }\n\n    return visibleRecords;\n  };\n  /**\n   * Get the indexes of checked rows.\n   *\n   * @returns {number[]} - Returns checked row indexes\n   */\n\n\n  TreeGrid.prototype.getCheckedRowIndexes = function () {\n    return this.selectionModule.getCheckedRowIndexes();\n  };\n  /**\n   * Checked the checkboxes using rowIndexes.\n   *\n   * @param {number[]} indexes - row indexes\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.selectCheckboxes = function (indexes) {\n    this.selectionModule.selectCheckboxes(indexes);\n  };\n  /**\n   * Refreshes the TreeGrid column changes.\n   *\n   * @param {boolean} refreshUI - Defined whether to refresh the DOM\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.refreshColumns = function (refreshUI) {\n    if (isNullOrUndefined(refreshUI) || refreshUI) {\n      this.grid.columns = this.getGridColumns(this.columns);\n      this.grid.refreshColumns();\n    } else {\n      this.grid.setProperties({\n        columns: this.getGridColumns(this.columns)\n      }, true);\n    }\n  };\n  /**\n   * Refreshes the TreeGrid header.\n   *\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.refreshHeader = function () {\n    this.grid.refreshHeader();\n  };\n  /**\n   * Expands or collapse child records\n   *\n   * @param {HTMLElement} target - Expand collapse icon cell as target element\n   * @returns {void}\n   * @hidden\n   */\n\n\n  TreeGrid.prototype.expandCollapseRequest = function (target) {\n    if (this.editSettings.mode === 'Batch') {\n      var obj = 'dialogObj';\n      var showDialog = 'showDialog';\n\n      if (this.getBatchChanges()[this.changedRecords].length || this.getBatchChanges()[this.deletedRecords].length || this.getBatchChanges()[this.addedRecords].length) {\n        var dialogObj = this.grid.editModule[obj];\n        this.grid.editModule[showDialog]('CancelEdit', dialogObj);\n        this.targetElement = target;\n        return;\n      }\n    }\n\n    if (this.rowTemplate) {\n      var rowInfo = target.closest('.e-treerowcell').parentElement;\n      var record = this.getCurrentViewRecords()[rowInfo.rowIndex];\n\n      if (target.classList.contains('e-treegridexpand')) {\n        this.collapseRow(rowInfo, record);\n      } else {\n        this.expandRow(rowInfo, record);\n      }\n    } else {\n      var rowInfo = this.grid.getRowInfo(target);\n      var record = rowInfo.rowData;\n\n      if (this.enableImmutableMode) {\n        record = this.getCurrentViewRecords()[rowInfo.rowIndex];\n      }\n\n      if (target.classList.contains('e-treegridexpand')) {\n        this.collapseRow(rowInfo.row, record);\n      } else {\n        this.expandRow(rowInfo.row, record);\n      }\n    }\n  };\n  /**\n   * Expands child rows\n   *\n   * @param {HTMLTableRowElement} row - Expands the given row\n   * @param {Object} record - Expands the given record\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.expandRow = function (row, record) {\n    var _this = this;\n\n    record = this.getCollapseExpandRecords(row, record);\n\n    if (!isNullOrUndefined(row) && row.cells[0].classList.contains('e-lastrowcell')) {\n      this.lastRowBorder(row, false);\n    }\n\n    var args = {\n      data: record,\n      row: row,\n      cancel: false\n    };\n    this.trigger(events.expanding, args, function (expandingArgs) {\n      if (!expandingArgs.cancel) {\n        _this.expandCollapse('expand', row, record);\n\n        var children = 'Children';\n\n        if (!(isRemoteData(_this) && !isOffline(_this)) && (!isCountRequired(_this) || !isNullOrUndefined(record[children]))) {\n          var collapseArgs = {\n            data: record,\n            row: row\n          };\n\n          _this.setHeightForFrozenContent();\n\n          _this.trigger(events.expanded, collapseArgs);\n        }\n      }\n    });\n  };\n\n  TreeGrid.prototype.setHeightForFrozenContent = function () {\n    if (this.grid.getFrozenColumns() > 0) {\n      this.grid.contentModule.refreshScrollOffset();\n    }\n  };\n\n  TreeGrid.prototype.getCollapseExpandRecords = function (row, record) {\n    if (this.allowPaging && this.pageSettings.pageSizeMode === 'All' && this.isExpandAll && isNullOrUndefined(record) && !isRemoteData(this)) {\n      record = this.flatData.filter(function (e) {\n        return e.hasChildRecords;\n      });\n    } else if (isNullOrUndefined(record)) {\n      record = this.grid.getCurrentViewRecords()[row.rowIndex];\n    }\n\n    return record;\n  };\n  /**\n   * Collapses child rows\n   *\n   * @param {HTMLTableRowElement} row - Collapse the given row\n   * @param {Object} record - Collapse the given record\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.collapseRow = function (row, record) {\n    var _this = this;\n\n    record = this.getCollapseExpandRecords(row, record);\n    var args = {\n      data: record,\n      row: row,\n      cancel: false\n    };\n    this.trigger(events.collapsing, args, function (collapsingArgs) {\n      if (!collapsingArgs.cancel) {\n        _this.expandCollapse('collapse', row, record);\n\n        var collapseArgs = {\n          data: record,\n          row: row\n        };\n\n        if (!isRemoteData(_this)) {\n          _this.setHeightForFrozenContent();\n\n          _this.trigger(events.collapsed, collapseArgs);\n\n          if (_this.enableInfiniteScrolling) {\n            var scrollHeight = _this.grid.getContent().firstElementChild.scrollHeight;\n\n            var scrollTop = _this.grid.getContent().firstElementChild.scrollTop;\n\n            if (scrollHeight - scrollTop < _this.grid.getRowHeight() + +_this.height) {\n              _this.grid.getContent().firstElementChild.scrollBy(0, _this.grid.getRowHeight());\n            }\n          }\n        }\n      }\n    });\n  };\n  /**\n   * Expands the records at specific hierarchical level\n   *\n   * @param {number} level - Expands the parent rows at given level\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.expandAtLevel = function (level) {\n    if ((this.allowPaging && this.pageSettings.pageSizeMode === 'All' || this.enableVirtualization) && !isRemoteData(this)) {\n      var rec = this.grid.dataSource.filter(function (e) {\n        if (e.hasChildRecords && e.level === level) {\n          e.expanded = true;\n        }\n\n        return e.hasChildRecords && e.level === level;\n      });\n      this.expandRow(null, rec);\n    } else {\n      var rec = this.getRecordDetails(level);\n      var row = getObject('rows', rec);\n      var record = getObject('records', rec);\n\n      for (var i = 0; i < record.length; i++) {\n        this.expandRow(row[i], record[i]);\n      }\n    }\n  };\n\n  TreeGrid.prototype.getRecordDetails = function (level) {\n    var rows = this.getRows().filter(function (e) {\n      return e.className.indexOf('level' + level) !== -1 && (e.querySelector('.e-treegridcollapse') || e.querySelector('.e-treegridexpand'));\n    });\n    var records = this.getCurrentViewRecords().filter(function (e) {\n      return e.level === level && e.hasChildRecords;\n    });\n    var obj = {\n      records: records,\n      rows: rows\n    };\n    return obj;\n  };\n  /**\n   * Collapses the records at specific hierarchical level\n   *\n   * @param {number} level - Define the parent row level which needs to be collapsed\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.collapseAtLevel = function (level) {\n    if ((this.allowPaging && this.pageSettings.pageSizeMode === 'All' || this.enableVirtualization) && !isRemoteData(this)) {\n      var record = this.grid.dataSource.filter(function (e) {\n        if (e.hasChildRecords && e.level === level) {\n          e.expanded = false;\n        }\n\n        return e.hasChildRecords && e.level === level;\n      });\n      this.collapseRow(null, record);\n    } else {\n      var rec = this.getRecordDetails(level);\n      var rows = getObject('rows', rec);\n      var records = getObject('records', rec);\n\n      for (var i = 0; i < records.length; i++) {\n        this.collapseRow(rows[i], records[i]);\n      }\n    }\n\n    if (!this.grid.contentModule.isDataSourceChanged && this.enableVirtualization && this.getRows() && this.parentData.length === this.getRows().length) {\n      var endIndex = 'endIndex';\n      this.grid.contentModule.startIndex = -1;\n      this.grid.contentModule[endIndex] = -1;\n    }\n  };\n  /**\n   * Expands All the rows\n   *\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.expandAll = function () {\n    this.expandCollapseAll('expand');\n  };\n  /**\n   * Collapses All the rows\n   *\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.collapseAll = function () {\n    this.expandCollapseAll('collapse');\n  };\n\n  TreeGrid.prototype.expandCollapseAll = function (action) {\n    var rows = this.getRows().filter(function (e) {\n      return e.querySelector('.e-treegrid' + (action === 'expand' ? 'collapse' : 'expand'));\n    });\n\n    if (!rows.length && this.getRows().length) {\n      rows.push(this.getRows()[0]);\n    }\n\n    this.isExpandAll = true;\n    this.isCollapseAll = true;\n\n    if ((this.allowPaging && this.pageSettings.pageSizeMode === 'All' || this.enableVirtualization) && !isRemoteData(this)) {\n      this.flatData.filter(function (e) {\n        if (e.hasChildRecords) {\n          e.expanded = action === 'collapse' ? false : true;\n        }\n      });\n\n      if (rows.length) {\n        if (action === 'collapse') {\n          this.collapseRow(rows[0]);\n        } else {\n          this.expandRow(rows[0]);\n        }\n      } else if (this.allowPaging) {\n        var isExpandCollapseall = this.enableCollapseAll;\n        this.setProperties({\n          enableCollapseAll: true\n        }, true);\n        this.grid.pagerModule.goToPage(1);\n        this.setProperties({\n          enableCollapseAll: isExpandCollapseall\n        }, true);\n      }\n    } else {\n      for (var i = 0; i < rows.length; i++) {\n        if (action === 'collapse') {\n          this.collapseRow(rows[i]);\n        } else {\n          this.expandRow(rows[i]);\n        }\n      }\n    }\n\n    this.isExpandAll = false;\n    this.isCollapseAll = false;\n  };\n\n  TreeGrid.prototype.expandCollapse = function (action, row, record, isChild) {\n    var expandingArgs = {\n      row: row,\n      data: record,\n      childData: [],\n      requestType: action\n    };\n    var childRecords = this.getCurrentViewRecords().filter(function (e) {\n      return e.parentUniqueID === record.uniqueID;\n    });\n    var targetEle;\n\n    if (!isRemoteData(this) && action === 'expand' && this.isSelfReference && isCountRequired(this) && !childRecords.length) {\n      this.updateChildOnDemand(expandingArgs);\n    }\n\n    var gridRows = this.getRows();\n\n    if (this.rowTemplate) {\n      var rows = this.getContentTable().rows;\n      gridRows = [].slice.call(rows);\n    }\n\n    var rowIndex;\n\n    if (isNullOrUndefined(row)) {\n      rowIndex = this.getCurrentViewRecords().indexOf(record);\n      row = gridRows[rowIndex];\n    } else {\n      rowIndex = +row.getAttribute('aria-rowindex');\n    }\n\n    if (!isNullOrUndefined(row)) {\n      row.setAttribute('aria-expanded', action === 'expand' ? 'true' : 'false');\n    }\n\n    if ((this.allowPaging && this.pageSettings.pageSizeMode === 'All' || this.enableVirtualization) && !isRemoteData(this) && !isCountRequired(this)) {\n      this.notify(events.localPagedExpandCollapse, {\n        action: action,\n        row: row,\n        record: record\n      });\n    } else {\n      var displayAction = void 0;\n\n      if (action === 'expand') {\n        displayAction = 'table-row';\n\n        if (!isChild) {\n          record.expanded = true;\n          this.uniqueIDCollection[record.uniqueID].expanded = record.expanded;\n        }\n\n        if (!isNullOrUndefined(row)) {\n          targetEle = row.getElementsByClassName('e-treegridcollapse')[0];\n        }\n\n        if (isChild && !isNullOrUndefined(record[this.expandStateMapping]) && record[this.expandStateMapping] && isNullOrUndefined(targetEle)) {\n          targetEle = row.getElementsByClassName('e-treegridexpand')[0];\n        }\n\n        if (isNullOrUndefined(targetEle)) {\n          return;\n        }\n\n        if (!targetEle.classList.contains('e-treegridexpand')) {\n          addClass([targetEle], 'e-treegridexpand');\n        }\n\n        removeClass([targetEle], 'e-treegridcollapse');\n      } else {\n        displayAction = 'none';\n\n        if (!isChild || isCountRequired(this)) {\n          record.expanded = false;\n          this.uniqueIDCollection[record.uniqueID].expanded = record.expanded;\n        }\n\n        if (!isNullOrUndefined(row)) {\n          targetEle = row.getElementsByClassName('e-treegridexpand')[0];\n        }\n\n        if (isChild && !isNullOrUndefined(record[this.expandStateMapping]) && !record[this.expandStateMapping] && isNullOrUndefined(targetEle)) {\n          targetEle = row.getElementsByClassName('e-treegridcollapse')[0];\n        }\n\n        if (isNullOrUndefined(targetEle)) {\n          return;\n        }\n\n        if (!targetEle.classList.contains('e-treegridcollapse')) {\n          addClass([targetEle], 'e-treegridcollapse');\n        }\n\n        removeClass([targetEle], 'e-treegridexpand');\n      }\n\n      var detailrows = gridRows.filter(function (r) {\n        return r.classList.contains('e-griddetailrowindex' + record.index + 'level' + (record.level + 1));\n      });\n\n      if (isRemoteData(this) && !isOffline(this)) {\n        this.remoteExpand(action, row, record);\n      } else {\n        if (!isCountRequired(this) || childRecords.length || action === 'collapse') {\n          this.localExpand(action, row, record);\n        }\n      }\n\n      if (this.isPixelHeight() && !row.cells[0].classList.contains('e-lastrowcell')) {\n        var totalRows = this.getRows();\n        var rows = this.getContentTable().rows;\n        totalRows = [].slice.call(rows);\n\n        for (var i = totalRows.length - 1; i > 0; i--) {\n          if (!isHidden(totalRows[i])) {\n            var table = this.getContentTable();\n            var sHeight = table.scrollHeight;\n            var clientHeight = this.getContent().clientHeight;\n            this.lastRowBorder(totalRows[i], sHeight <= clientHeight);\n            break;\n          }\n        }\n      }\n\n      this.notify('rowExpandCollapse', {\n        detailrows: detailrows,\n        action: displayAction,\n        record: record,\n        row: row\n      });\n      this.updateAltRow(gridRows);\n    }\n  };\n\n  TreeGrid.prototype.updateChildOnDemand = function (expandingArgs) {\n    var _this = this;\n\n    var deff = new Deferred();\n    var childDataBind = 'childDataBind';\n    expandingArgs[childDataBind] = deff.resolve;\n    var record = expandingArgs.data;\n    this.trigger(events.dataStateChange, expandingArgs);\n    deff.promise.then(function () {\n      if (expandingArgs.childData.length) {\n        var currentData = _this.flatData;\n        var index = 0;\n\n        for (var i = 0; i < currentData.length; i++) {\n          if (currentData[i].taskData === record.taskData) {\n            index = i;\n            break;\n          }\n        }\n\n        var data_1 = getValue('result', _this.dataSource);\n        var childData = extendArray(expandingArgs.childData);\n        var length_1 = record[_this.childMapping] ? record[_this.childMapping].length > childData.length ? record[_this.childMapping].length : childData.length : childData.length;\n\n        for (var i = 0; i < length_1; i++) {\n          if (record[_this.childMapping]) {\n            data_1.filter(function (e, i) {\n              if (e[_this.parentIdMapping] === record[_this.idMapping]) {\n                data_1.splice(i, 1);\n              }\n            });\n          }\n\n          if (childData[i]) {\n            childData[i].level = record.level + 1;\n            childData[i].index = Math.ceil(Math.random() * 1000);\n            childData[i].parentItem = extend({}, record);\n            childData[i].taskData = extend({}, childData[i]);\n            delete childData[i].parentItem.childRecords;\n            delete childData[i].taskData.parentItem;\n            childData[i].parentUniqueID = record.uniqueID;\n            childData[i].uniqueID = getUid(_this.element.id + '_data_');\n            setValue('uniqueIDCollection.' + childData[i].uniqueID, childData[i], _this);\n\n            if (!isNullOrUndefined(childData[i][_this.childMapping]) || childData[i][_this.hasChildMapping] && isCountRequired(_this)) {\n              childData[i].hasChildRecords = true;\n            }\n\n            currentData.splice(index + 1 + i, record[_this.childMapping] && record[_this.childMapping][i] ? 1 : 0, childData[i]);\n          } else {\n            currentData.splice(index + 1 + i, 1);\n          }\n        }\n\n        currentData[index][_this.childMapping] = childData;\n        currentData[index].childRecords = childData;\n        currentData[index].expanded = true;\n        setValue('uniqueIDCollection.' + currentData[index].uniqueID, currentData[index], _this);\n\n        for (var j = 0; j < expandingArgs.childData.length; j++) {\n          data_1.push(expandingArgs.childData[j]);\n        }\n      }\n\n      _this.isExpandRefresh = true;\n\n      _this.grid.refresh();\n\n      _this.setHeightForFrozenContent();\n\n      _this.trigger(events.expanded, expandingArgs);\n    });\n  };\n\n  TreeGrid.prototype.remoteExpand = function (action, row, record) {\n    var gridRows = this.getRows();\n\n    if (this.rowTemplate) {\n      var rows_1 = this.getContentTable().rows;\n      gridRows = [].slice.call(rows_1);\n    }\n\n    var args = {\n      data: record,\n      row: row\n    };\n    var rows = [];\n    rows = gridRows.filter(function (r) {\n      return r.querySelector('.e-gridrowindex' + record.index + 'level' + (record.level + 1));\n    });\n\n    if (action === 'expand') {\n      this.notify(events.remoteExpand, {\n        record: record,\n        rows: rows,\n        parentRow: row\n      });\n      var args_1 = {\n        row: row,\n        data: record\n      };\n\n      if (rows.length > 0) {\n        this.setHeightForFrozenContent();\n        this.trigger(events.expanded, args_1);\n      }\n    } else {\n      this.collapseRemoteChild({\n        record: record,\n        rows: rows\n      });\n      this.setHeightForFrozenContent();\n      this.trigger(events.collapsed, args);\n    }\n  };\n\n  TreeGrid.prototype.localExpand = function (action, row, record) {\n    var rows;\n    var childRecords = this.getCurrentViewRecords().filter(function (e) {\n      return e.parentUniqueID === record.uniqueID;\n    });\n\n    if (this.isPixelHeight() && row.cells[0].classList.contains('e-lastrowcell')) {\n      this.lastRowBorder(row, false);\n    }\n\n    var movableRows;\n    var gridRows = this.getRows();\n\n    if (this.rowTemplate) {\n      var rows_2 = this.getContentTable().rows;\n      gridRows = [].slice.call(rows_2);\n    }\n\n    var displayAction = action === 'expand' ? 'table-row' : 'none';\n    var primaryKeyField = this.getPrimaryKeyFieldNames()[0];\n\n    if (this.enableImmutableMode && !this.allowPaging) {\n      rows = [];\n\n      for (var i = 0; i < childRecords.length; i++) {\n        var rowIndex = this.grid.getRowIndexByPrimaryKey(childRecords[i][primaryKeyField]);\n        rows.push(this.getRows()[rowIndex]);\n      }\n    } else {\n      rows = gridRows.filter(function (r) {\n        return r.querySelector('.e-gridrowindex' + record.index + 'level' + (record.level + 1));\n      });\n    }\n\n    if (this.frozenRows || this.frozenColumns || this.getFrozenColumns()) {\n      movableRows = this.getMovableRows().filter(function (r) {\n        return r.querySelector('.e-gridrowindex' + record.index + 'level' + (record.level + 1));\n      });\n    }\n\n    for (var i = 0; i < rows.length; i++) {\n      if (!isNullOrUndefined(rows[i])) {\n        rows[i].style.display = displayAction;\n      }\n\n      if (!isNullOrUndefined(movableRows)) {\n        movableRows[i].style.display = displayAction;\n      }\n\n      this.notify('childRowExpand', {\n        row: rows[i]\n      });\n\n      if (!isNullOrUndefined(childRecords[i].childRecords) && (action !== 'expand' || isNullOrUndefined(childRecords[i].expanded) || childRecords[i].expanded)) {\n        this.expandCollapse(action, rows[i], childRecords[i], true);\n\n        if (this.frozenColumns <= this.treeColumnIndex && !isNullOrUndefined(movableRows)) {\n          this.expandCollapse(action, movableRows[i], childRecords[i], true);\n        }\n      }\n    }\n  };\n\n  TreeGrid.prototype.updateAltRow = function (rows) {\n    if (this.enableAltRow && !this.rowTemplate) {\n      var visibleRowCount = 0;\n\n      for (var i = 0; rows && i < rows.length; i++) {\n        var gridRow = rows[i];\n\n        if (gridRow.style.display !== 'none') {\n          if (gridRow.classList.contains('e-altrow')) {\n            removeClass([gridRow], 'e-altrow');\n          }\n\n          if (visibleRowCount % 2 !== 0 && !gridRow.classList.contains('e-summaryrow') && !gridRow.classList.contains('e-detailrow')) {\n            addClass([gridRow], 'e-altrow');\n          }\n\n          if (!gridRow.classList.contains('e-summaryrow') && !gridRow.classList.contains('e-detailrow')) {\n            visibleRowCount++;\n          }\n        }\n      }\n    }\n  };\n\n  TreeGrid.prototype.treeColumnRowTemplate = function () {\n    if (this.rowTemplate) {\n      var rows = this.getContentTable().rows;\n      rows = [].slice.call(rows);\n\n      for (var i = 0; i < rows.length; i++) {\n        var rcell = this.grid.getContentTable().rows[i].cells[this.treeColumnIndex];\n        var row = rows[i];\n        var rowData = this.grid.getRowsObject()[i].data;\n        var arg = {\n          data: rowData,\n          row: row,\n          cell: rcell,\n          column: this.getColumns()[this.treeColumnIndex]\n        };\n        this.renderModule.cellRender(arg);\n      }\n    }\n  };\n\n  TreeGrid.prototype.collapseRemoteChild = function (rowDetails, isChild) {\n    if (!isChild) {\n      rowDetails.record.expanded = false;\n    }\n\n    var rows = rowDetails.rows;\n    var childRecord;\n\n    for (var i = 0; i < rows.length; i++) {\n      rows[i].style.display = 'none';\n      var collapsingTd = rows[i].querySelector('.e-detailrowexpand');\n\n      if (!isNullOrUndefined(collapsingTd)) {\n        this.grid.detailRowModule.collapse(collapsingTd);\n      }\n\n      if (rows[i].querySelector('.e-treecolumn-container .e-treegridexpand')) {\n        var expandElement = rows[i].querySelector('.e-treecolumn-container .e-treegridexpand');\n        childRecord = this.rowTemplate ? this.grid.getCurrentViewRecords()[rows[i].rowIndex] : this.grid.getRowObjectFromUID(rows[i].getAttribute('data-Uid')).data;\n\n        if (!isNullOrUndefined(expandElement) && childRecord.expanded) {\n          removeClass([expandElement], 'e-treegridexpand');\n          addClass([expandElement], 'e-treegridcollapse');\n        }\n\n        var cRow = [];\n        var eRows = this.getRows();\n\n        for (var i_1 = 0; i_1 < eRows.length; i_1++) {\n          if (eRows[i_1].querySelector('.e-gridrowindex' + childRecord.index + 'level' + (childRecord.level + 1))) {\n            cRow.push(eRows[i_1]);\n          }\n        }\n\n        if (cRow.length && childRecord.expanded) {\n          this.collapseRemoteChild({\n            record: childRecord,\n            rows: cRow\n          }, true);\n        }\n      }\n    }\n  };\n  /**\n   * @hidden\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.addListener = function () {\n    this.on('updateResults', this.updateResultModel, this);\n    this.grid.on('initial-end', this.afterGridRender, this);\n  };\n\n  TreeGrid.prototype.updateResultModel = function (returnResult) {\n    this.dataResults = returnResult;\n  };\n  /**\n   * @hidden\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.removeListener = function () {\n    if (this.isDestroyed) {\n      return;\n    }\n\n    this.off('updateResults', this.updateResultModel);\n    this.grid.off('initial-end', this.afterGridRender);\n  };\n  /**\n   * Filters TreeGrid row by column name with the given options.\n   *\n   * @param  {string} fieldName - Defines the field name of the column.\n   * @param  {string} filterOperator - Defines the operator to filter records.\n   * @param  {string | number | Date | boolean} filterValue - Defines the value used to filter records.\n   * @param  {string} predicate - Defines the relationship between one filter query and another by using AND or OR predicate.\n   * @param  {boolean} matchCase - If match case is set to true, the TreeGrid filters the records with exact match. if false, it filters\n   * case insensitive records (uppercase and lowercase letters are treated the same).\n   * @param  {boolean} ignoreAccent - If ignoreAccent is set to true,\n   * then filter ignores diacritic characters or accents while filtering.\n   * @param  {string} actualFilterValue - Defines the actual filter value for filter column.\n   * @param  {string} actualOperator - Defines the actual filter operator for filter column.\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.filterByColumn = function (fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent, actualFilterValue, actualOperator) {\n    this.grid.filterByColumn(fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent, actualFilterValue, actualOperator);\n  };\n  /**\n   * Clears all the filtered rows of the TreeGrid.\n   *\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.clearFiltering = function () {\n    this.grid.clearFiltering();\n  };\n  /**\n   * Removes filtered column by field name.\n   *\n   * @param  {string} field - Defines column field name to remove filter.\n   * @param  {boolean} isClearFilterBar -  Specifies whether the filter bar value needs to be cleared.\n   * @returns {void}\n   * @hidden\n   */\n\n\n  TreeGrid.prototype.removeFilteredColsByField = function (field, isClearFilterBar) {\n    this.grid.removeFilteredColsByField(field, isClearFilterBar);\n  };\n  /**\n   * Selects a row by given index.\n   *\n   * @param  {number} index - Defines the row index.\n   * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.selectRow = function (index, isToggle) {\n    this.grid.selectRow(index, isToggle);\n  };\n  /**\n   * Selects a collection of rows by indexes.\n   *\n   * @param  {number[]} rowIndexes - Specifies the row indexes.\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.selectRows = function (rowIndexes) {\n    this.grid.selectRows(rowIndexes);\n  };\n  /**\n   * Deselects the current selected rows and cells.\n   *\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.clearSelection = function () {\n    this.grid.clearSelection();\n  };\n  /**\n   * Copy the selected rows or cells data into clipboard.\n   *\n   * @param {boolean} withHeader - Specifies whether the column header text needs to be copied along with rows or cells.\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.copy = function (withHeader) {\n    this.clipboardModule.copy(withHeader);\n  };\n  /**\n   * Paste data from clipboard to selected cells.\n   *\n   * @param {boolean} data - Specifies the date for paste.\n   * @param {boolean} rowIndex - Specifies the row index.\n   * @param {boolean} colIndex - Specifies the column index.\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.paste = function (data, rowIndex, colIndex) {\n    this.clipboardModule.paste(data, rowIndex, colIndex);\n  };\n  /**\n   * Selects a cell by the given index.\n   *\n   * @param  {IIndex} cellIndex - Defines the row and column indexes.\n   * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.selectCell = function (cellIndex, isToggle) {\n    this.grid.selectCell(cellIndex, isToggle);\n  };\n  /**\n   * Gets the collection of selected rows.\n   *\n   * @returns {Element[]} - Returns selected row elements collection\n   */\n\n\n  TreeGrid.prototype.getSelectedRows = function () {\n    return this.grid.getSelectedRows();\n  };\n  /**\n   * Gets a movable table cell by row and column index.\n   *\n   * @param  {number} rowIndex - Specifies the row index.\n   * @param  {number} columnIndex - Specifies the column index.\n   * @returns {Element} - Returns movable cell element from the indexes passed\n   */\n\n\n  TreeGrid.prototype.getMovableCellFromIndex = function (rowIndex, columnIndex) {\n    return this.grid.getMovableCellFromIndex(rowIndex, columnIndex);\n  };\n  /**\n   * Gets all the TreeGrid's movable table data rows.\n   *\n   * @returns {Element[]} - Returns element collection of movable rows\n   */\n\n\n  TreeGrid.prototype.getMovableDataRows = function () {\n    return this.grid.getMovableDataRows();\n  };\n  /**\n   * Gets a movable tables row by index.\n   *\n   * @param  {number} index - Specifies the row index.\n   * @returns {Element} - Returns movable row based on index passed\n   */\n\n\n  TreeGrid.prototype.getMovableRowByIndex = function (index) {\n    return this.grid.getMovableRowByIndex(index);\n  };\n  /**\n   * Gets the TreeGrid's movable content rows from frozen treegrid.\n   *\n   * @returns {Element[]}: Returns movable row element\n   */\n\n\n  TreeGrid.prototype.getMovableRows = function () {\n    return this.grid.getMovableRows();\n  };\n  /**\n   * Gets the number of frozen column in tree grid\n   *\n   * @hidden\n   * @returns {number} - Returns frozen column count\n   */\n\n\n  TreeGrid.prototype.getFrozenColumns = function () {\n    return this.getFrozenCount(this.columns, 0) + this.frozenColumns;\n  };\n\n  TreeGrid.prototype.getFrozenCount = function (cols, cnt) {\n    for (var j = 0, len = cols.length; j < len; j++) {\n      if (cols[j].columns) {\n        cnt = this.getFrozenCount(cols[j].columns, cnt);\n      } else {\n        if (cols[j].isFrozen) {\n          cnt++;\n        }\n      }\n    }\n\n    return cnt;\n  };\n  /**\n   * Gets the collection of selected row indexes.\n   *\n   * @returns {number[]} - Returns selected rows index collection\n   */\n\n\n  TreeGrid.prototype.getSelectedRowIndexes = function () {\n    return this.grid.getSelectedRowIndexes();\n  };\n  /**\n   * Gets the collection of selected row and cell indexes.\n   *\n   * @returns {ISelectedCell[]} - Returns selected cell's index details\n   */\n\n\n  TreeGrid.prototype.getSelectedRowCellIndexes = function () {\n    return this.grid.getSelectedRowCellIndexes();\n  };\n  /**\n   * Gets the collection of selected records.\n   *\n   * @isGenericType true\n   * @returns {Object[]} - Returns selected records collection\n   */\n\n\n  TreeGrid.prototype.getSelectedRecords = function () {\n    return this.grid.getSelectedRecords();\n  };\n  /**\n   * Gets the data module.\n   *\n   * @returns {{baseModule: Data, treeModule: DataManipulation}}: Returns grid and treegrid data module\n   */\n\n\n  TreeGrid.prototype.getDataModule = function () {\n    return {\n      baseModule: this.grid.getDataModule(),\n      treeModule: this.dataModule\n    };\n  };\n  /**\n   * Reorder the rows based on given indexes and position\n   *\n   * @param {number[]} fromIndexes - Source indexes of rows\n   * @param {number} toIndex - Destination index of row\n   * @param {string} position - Defines drop position as above or below or child\n   * @returns {void}\n   */\n\n\n  TreeGrid.prototype.reorderRows = function (fromIndexes, toIndex, position) {\n    this.rowDragAndDropModule.reorderRows(fromIndexes, toIndex, position);\n  };\n\n  var TreeGrid_1;\n\n  __decorate([Property(0)], TreeGrid.prototype, \"frozenRows\", void 0);\n\n  __decorate([Property(0)], TreeGrid.prototype, \"frozenColumns\", void 0);\n\n  __decorate([Property('Ellipsis')], TreeGrid.prototype, \"clipMode\", void 0);\n\n  __decorate([Property([])], TreeGrid.prototype, \"columns\", void 0);\n\n  __decorate([Property(null)], TreeGrid.prototype, \"childMapping\", void 0);\n\n  __decorate([Property(null)], TreeGrid.prototype, \"hasChildMapping\", void 0);\n\n  __decorate([Property(0)], TreeGrid.prototype, \"treeColumnIndex\", void 0);\n\n  __decorate([Property(null)], TreeGrid.prototype, \"idMapping\", void 0);\n\n  __decorate([Property(null)], TreeGrid.prototype, \"parentIdMapping\", void 0);\n\n  __decorate([Property(false)], TreeGrid.prototype, \"enableCollapseAll\", void 0);\n\n  __decorate([Property(null)], TreeGrid.prototype, \"expandStateMapping\", void 0);\n\n  __decorate([Property(false)], TreeGrid.prototype, \"allowRowDragAndDrop\", void 0);\n\n  __decorate([Property([])], TreeGrid.prototype, \"dataSource\", void 0);\n\n  __decorate([Property()], TreeGrid.prototype, \"query\", void 0);\n\n  __decorate([Property()], TreeGrid.prototype, \"cloneQuery\", void 0);\n\n  __decorate([Property('AllPages')], TreeGrid.prototype, \"printMode\", void 0);\n\n  __decorate([Property(false)], TreeGrid.prototype, \"allowPaging\", void 0);\n\n  __decorate([Property(false)], TreeGrid.prototype, \"loadChildOnDemand\", void 0);\n\n  __decorate([Property(false)], TreeGrid.prototype, \"allowTextWrap\", void 0);\n\n  __decorate([Complex({}, TextWrapSettings)], TreeGrid.prototype, \"textWrapSettings\", void 0);\n\n  __decorate([Property(false)], TreeGrid.prototype, \"allowReordering\", void 0);\n\n  __decorate([Property(false)], TreeGrid.prototype, \"allowResizing\", void 0);\n\n  __decorate([Property(false)], TreeGrid.prototype, \"autoCheckHierarchy\", void 0);\n\n  __decorate([Complex({}, PageSettings)], TreeGrid.prototype, \"pageSettings\", void 0);\n\n  __decorate([Complex({}, RowDropSettings)], TreeGrid.prototype, \"rowDropSettings\", void 0);\n\n  __decorate([Property()], TreeGrid.prototype, \"pagerTemplate\", void 0);\n\n  __decorate([Property(false)], TreeGrid.prototype, \"showColumnMenu\", void 0);\n\n  __decorate([Property(false)], TreeGrid.prototype, \"showColumnChooser\", void 0);\n\n  __decorate([Property(false)], TreeGrid.prototype, \"allowSorting\", void 0);\n\n  __decorate([Property(true)], TreeGrid.prototype, \"allowMultiSorting\", void 0);\n\n  __decorate([Complex({}, SortSettings)], TreeGrid.prototype, \"sortSettings\", void 0);\n\n  __decorate([Collection([], AggregateRow)], TreeGrid.prototype, \"aggregates\", void 0);\n\n  __decorate([Complex({}, EditSettings)], TreeGrid.prototype, \"editSettings\", void 0);\n\n  __decorate([Property(false)], TreeGrid.prototype, \"allowFiltering\", void 0);\n\n  __decorate([Property()], TreeGrid.prototype, \"detailTemplate\", void 0);\n\n  __decorate([Complex({}, FilterSettings)], TreeGrid.prototype, \"filterSettings\", void 0);\n\n  __decorate([Complex({}, SearchSettings)], TreeGrid.prototype, \"searchSettings\", void 0);\n\n  __decorate([Property()], TreeGrid.prototype, \"toolbar\", void 0);\n\n  __decorate([Property()], TreeGrid.prototype, \"toolbarTemplate\", void 0);\n\n  __decorate([Property('Default')], TreeGrid.prototype, \"gridLines\", void 0);\n\n  __decorate([Property()], TreeGrid.prototype, \"contextMenuItems\", void 0);\n\n  __decorate([Property()], TreeGrid.prototype, \"columnMenuItems\", void 0);\n\n  __decorate([Property()], TreeGrid.prototype, \"rowTemplate\", void 0);\n\n  __decorate([Property('Parent')], TreeGrid.prototype, \"copyHierarchyMode\", void 0);\n\n  __decorate([Property(null)], TreeGrid.prototype, \"rowHeight\", void 0);\n\n  __decorate([Property(true)], TreeGrid.prototype, \"enableAltRow\", void 0);\n\n  __decorate([Property(true)], TreeGrid.prototype, \"allowKeyboard\", void 0);\n\n  __decorate([Property(false)], TreeGrid.prototype, \"enableHover\", void 0);\n\n  __decorate([Property(false)], TreeGrid.prototype, \"enableAutoFill\", void 0);\n\n  __decorate([Property(false)], TreeGrid.prototype, \"enableImmutableMode\", void 0);\n\n  __decorate([Property('auto')], TreeGrid.prototype, \"height\", void 0);\n\n  __decorate([Property('auto')], TreeGrid.prototype, \"width\", void 0);\n\n  __decorate([Property(false)], TreeGrid.prototype, \"enableVirtualization\", void 0);\n\n  __decorate([Property(false)], TreeGrid.prototype, \"enableInfiniteScrolling\", void 0);\n\n  __decorate([Complex({}, InfiniteScrollSettings)], TreeGrid.prototype, \"infiniteScrollSettings\", void 0);\n\n  __decorate([Property('All')], TreeGrid.prototype, \"columnQueryMode\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"created\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"load\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"expanding\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"expanded\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"collapsing\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"collapsed\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"cellSave\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"cellSaved\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"actionBegin\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"actionComplete\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"beginEdit\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"batchAdd\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"batchDelete\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"batchCancel\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"beforeBatchAdd\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"beforeBatchDelete\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"beforeBatchSave\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"cellEdit\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"actionFailure\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"dataBound\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"dataSourceChanged\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"dataStateChange\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"recordDoubleClick\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"rowDataBound\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"detailDataBound\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"queryCellInfo\", void 0);\n\n  __decorate([Property(true)], TreeGrid.prototype, \"allowSelection\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"rowSelecting\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"rowSelected\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"rowDeselecting\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"rowDeselected\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"headerCellInfo\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"cellSelecting\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"columnMenuOpen\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"columnMenuClick\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"cellSelected\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"cellDeselecting\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"cellDeselected\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"resizeStart\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"resizing\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"resizeStop\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"columnDragStart\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"columnDrag\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"columnDrop\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"checkboxChange\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"printComplete\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"beforePrint\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"toolbarClick\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"beforeDataBound\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"contextMenuOpen\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"contextMenuClick\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"beforeCopy\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"beforePaste\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"rowDrag\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"rowDragStart\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"rowDragStartHelper\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"rowDrop\", void 0);\n\n  __decorate([Property(-1)], TreeGrid.prototype, \"selectedRowIndex\", void 0);\n\n  __decorate([Complex({}, SelectionSettings)], TreeGrid.prototype, \"selectionSettings\", void 0);\n\n  __decorate([Property(false)], TreeGrid.prototype, \"allowExcelExport\", void 0);\n\n  __decorate([Property(false)], TreeGrid.prototype, \"allowPdfExport\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"pdfQueryCellInfo\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"pdfHeaderQueryCellInfo\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"excelQueryCellInfo\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"excelHeaderQueryCellInfo\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"beforeExcelExport\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"excelExportComplete\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"beforePdfExport\", void 0);\n\n  __decorate([Event()], TreeGrid.prototype, \"pdfExportComplete\", void 0);\n\n  TreeGrid = TreeGrid_1 = __decorate([NotifyPropertyChanges], TreeGrid);\n  return TreeGrid;\n}(Component);\n\nexport { TreeGrid };","map":{"version":3,"sources":["/Users/zhouzhou/Desktop/lightfront/node_modules/@syncfusion/ej2-treegrid/src/treegrid/base/treegrid.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Component","addClass","createElement","EventHandler","isNullOrUndefined","extend","removeClass","Complex","Collection","getValue","Event","Property","NotifyPropertyChanges","setValue","KeyboardEvents","L10n","Column","RowDropSettings","getUid","FilterSettings","TextWrapSettings","Logger","TreeLogger","TreeClipboard","Selection","TreeGridSelection","Print","events","SearchSettings","SelectionSettings","getActualProperties","getObject","DataManager","RemoteSaveAdaptor","JsonAdaptor","Deferred","createSpinner","hideSpinner","showSpinner","isRemoteData","isOffline","extendArray","isCountRequired","findChildrenRecords","Grid","Render","DataManipulation","iterateArrayOrObject","ToolbarItem","ContextMenuItems","PageSettings","AggregateRow","EditSettings","SortSettings","isHidden","editAction","InfiniteScrollSettings","TreeGrid","_super","options","element","_this","call","dataResults","uniqueIDCollection","uniqueIDFilterCollection","changedRecords","deletedRecords","addedRecords","objectEqualityChecker","old","current","keys","isEqual","excludeKeys","indexOf","TreeGrid_1","Inject","mergePersistTreeGridData","logger","injectedModules","grid","excelExport","excelExportProperties","isMultipleExport","workbook","isBlob","excelExportModule","Map","csvExport","pdfExport","pdfExportProperties","pdfDoc","pdfExportModule","getModuleName","preRender","TreeGridLocale","initProperties","defaultLocale","Above","Below","Child","AddRow","ExpandAll","CollapseAll","RowIndent","RowOutdent","l10n","locale","isSelfReference","childMapping","sortByColumn","columnName","direction","isMultiSort","sortModule","sortColumn","clearSorting","removeSortColumn","field","search","searchString","autoFitColumns","fieldNames","resizeModule","updateColumnModel","reorderColumns","fromFName","toFName","localeObject","gridLocale","treeGridLocale","load","print","printModule","treeGridkeyActionHandler","e","allowKeyboard","parentTarget","column","row","summaryElement","action","expandAll","collapseAll","closest","undefined","expandCollapseRequest","querySelector","parentElement","findnextRowElement","rowIndex","selectRow","cellIndex","row_1","children","clearSelection","findPreviousRowElement","rIndex","cIndex","rows","summaryRowElement","rowElement","nextElementSibling","className","style","display","previousElementSibling","flatData","parentData","columnModel","isExpandAll","isCollapseAll","keyConfigs","ctrlDownArrow","ctrlUpArrow","ctrlShiftUpArrow","ctrlShiftDownArrow","downArrow","upArrow","isLocalData","dataSource","offline","ready","adaptor","parentIdMapping","wireEvents","add","mouseClickHandler","keyboardModule","keyAction","bind","eventName","tabIndex","requiredModules","modules","isDestroyed","push","member","args","filterSettings","toolbar","contextMenuItems","allowPaging","pageSettings","allowReordering","allowSorting","aggregates","allowExcelExport","frozenColumns","frozenRows","getFrozenColumns","detailTemplate","allowPdfExport","showColumnMenu","showColumnChooser","extendRequiredModules","allowRowDragAndDrop","editSettings","allowAdding","allowDeleting","allowEditing","isCommandColumn","columns","allowSelection","enableVirtualization","enableInfiniteScrolling","some","col","commands","commandsTemplate","unwireEvents","remove","log","types","loggerModule","treeLog","render","isReact","renderModule","dataModule","trigger","autoGenerateColumns","initialRender","convertTreeData","loadGrid","classList","contains","rowDropSettings","targetID","addListener","gridContainer","id","height","width","appendChild","gridRequiredModules","apply","appendTo","renderComplete","destroyTemplate","destroyTemplateFn","index","portals","clearTemplate","afterGridRender","clipboardModule","destroy","data","filter","uniqueID","level","griddata","convertToFlatData","bindGridProperties","bindedDataSource","enableRtl","getGridColumns","query","columnQueryMode","pagerTemplate","allowFiltering","infiniteScrollSettings","enableAltRow","allowTextWrap","allowResizing","enableHover","enableAutoFill","enableImmutableMode","rowHeight","gridLines","getGridToolbar","toolbarTemplate","selectionSettings","sortSettings","searchSettings","textWrapSettings","printMode","selectedRowIndex","getContextMenu","columnMenuItems","getGridEditSettings","rowTemplate","clipMode","templateInstance","isJsComponent","triggerEvents","bindGridEvents","rowSelecting","cancel","rowSelected","notify","rowDeselected","resizeStop","excelQueryCellInfo","pdfQueryCellInfo","checkBoxChange","checkboxChange","pdfExportComplete","excelExportComplete","excelHeaderQueryCellInfo","pdfHeaderQueryCellInfo","dataSourceChanged","recordDoubleClick","rowDeselecting","cellDeselected","cellDeselecting","columnMenuOpen","columnMenuClick","cellSelected","headerCellInfo","resizeStart","resizing","columnDrag","columnDragStart","columnDrop","beforePrint","beforeCopy","beforePaste","getRows","on","printComplete","actionFailure","extendedGridDataBoundEvent","extendedGridEvents","extendedGridActionEvents","extendedGridEditEvents","bindGridDragEvents","bindCallBackEvents","lastRowBorder","visiblerow","isAddBorder","j","cells","isPixelHeight","toString","dataBound","updateRowTemplate","updateAltRow","hasChildMapping","req","httpRequest","statusText","getContentTable","totalRows","slice","treeGrid","beforeDataBound","requestType","dm","json","result","isPrinting","contentModule","callBackPromise_1","beforeDataBoundArgs","resolve","type","toolbarClick","callBackPromise","toolbarargs","cellSelecting","cellselectingArgs","beginEdit","begineditArgs","dataStateChange","isExpandRefresh","count","cellSave","isContextMenuOpen","contextitems","contextMenuModule","contextMenu","getElementsByClassName","cellsaveArgs","cellSaved","cellEdit","prom","promise","batchAdd","beforeBatchSave","beforeBatchAdd","batchDelete","beforeBatchDelete","batchCancel","mode","treeColumnRowTemplate","isDataAvailable","datacount","defaultQuery","proxy_1","then","actionBegin","filterModule","actionArgs","actionComplete","updateTreeGridModel","newRowPosition","beginAdd","batchSave","detailDataBound","rowDataBound","RowModifier","queryCellInfo","cellRender","contextMenuClick","contextMenuOpen","rowDragStartHelper","rowDragStart","rowDrag","isEdit","rowdraging","rowDrop","rowDropped","registeredTemplate","ref","isRemote","record","edit","guid","allowEditOnDblClick","showConfirmDialog","template","showDeleteConfirmDialog","allowNextRowEdit","dialog","items","text","getConstant","tooltipText","Search","prefixIcon","isEmptyColumnModel","stackedColumn","treeGridColumn","gridColumn","gridColumnCollection","treeColumn","getColumnByUid","uid","_i","_a","prop","treeColumnIndex","onPropertyChanged","newProp","properties","requireRefresh","properties_1","refreshColumns","allowMultiSorting","isDataSourceChanged","removeEventListener","eventListener","renderTable","refresh","closeEdit","removeListener","innerHTML","dataBind","getPersistData","keyEntity","ignoreOnPersist","ignoreOnColumn","currentObject","val","ignoreInArrays","addOnPersist","ignoreInColumn","touches","isEditCollapse","getPager","addRecord","position","editModule","saveCell","updateCell","value","updateRow","getCurrentViewRecords","deleteRecord","fieldName","startEdit","editCell","enableToolbarItems","isEnable","toolbarModule","enableItems","endEdit","openColumnChooser","x","y","columnChooserModule","deleteRow","tr","getPrimaryKeyFieldNames","setCellValue","getRowIndexByPrimaryKey","setRowData","rowData","currentRecords","primaryKey","childRecords","taskData","parentItem","checkboxState","hasChildRecords","parentUniqueID","expanded","goToPage","pageNo","pagerModule","updateExternalMessage","message","getCellFromIndex","columnIndex","getColumnByField","item","getColumnFieldNames","getFooterContent","getFooterContentTable","showColumns","showBy","hideColumns","hideBy","getColumnHeaderByField","getColumnHeaderByIndex","getColumnHeaderByUid","getColumnIndexByField","getColumnIndexByUid","getColumns","isRefresh","temp","gridColumns","stackedHeader","merge","setProperties","getContent","persist1","mergeColumns","storedColumn","persist2","getDataRows","dRows","len","currentViewData","getBatchChanges","getHeaderContent","getHeaderTable","getRowByIndex","getRowInfo","getUidByColumnField","getVisibleColumns","cols","visible","getCheckedRecords","selectionModule","getCheckedrecords","getVisibleRecords","visibleRecords","currentViewRecords","getCheckedRowIndexes","selectCheckboxes","indexes","refreshUI","refreshHeader","obj","showDialog","dialogObj","targetElement","rowInfo","collapseRow","expandRow","getCollapseExpandRecords","expanding","expandingArgs","expandCollapse","collapseArgs","setHeightForFrozenContent","refreshScrollOffset","pageSizeMode","collapsing","collapsingArgs","collapsed","scrollHeight","firstElementChild","scrollTop","getRowHeight","scrollBy","expandAtLevel","rec","getRecordDetails","records","collapseAtLevel","endIndex","startIndex","expandCollapseAll","isExpandCollapseall","enableCollapseAll","isChild","childData","targetEle","updateChildOnDemand","gridRows","getAttribute","setAttribute","localPagedExpandCollapse","displayAction","expandStateMapping","detailrows","remoteExpand","localExpand","table","sHeight","clientHeight","deff","childDataBind","currentData","data_1","length_1","idMapping","splice","Math","ceil","random","rows_1","parentRow","args_1","collapseRemoteChild","movableRows","rows_2","primaryKeyField","getMovableRows","visibleRowCount","gridRow","rcell","getRowsObject","arg","cell","rowDetails","childRecord","collapsingTd","detailRowModule","collapse","expandElement","getRowObjectFromUID","cRow","eRows","i_1","updateResultModel","returnResult","off","filterByColumn","filterOperator","filterValue","predicate","matchCase","ignoreAccent","actualFilterValue","actualOperator","clearFiltering","removeFilteredColsByField","isClearFilterBar","isToggle","selectRows","rowIndexes","copy","withHeader","paste","colIndex","selectCell","getSelectedRows","getMovableCellFromIndex","getMovableDataRows","getMovableRowByIndex","getFrozenCount","cnt","isFrozen","getSelectedRowIndexes","getSelectedRowCellIndexes","getSelectedRecords","getDataModule","baseModule","treeModule","reorderRows","fromIndexes","toIndex","rowDragAndDropModule"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, addClass, createElement, EventHandler, isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { removeClass, Complex, Collection, getValue } from '@syncfusion/ej2-base';\nimport { Event, Property, NotifyPropertyChanges, setValue, KeyboardEvents, L10n } from '@syncfusion/ej2-base';\nimport { Column } from '../models/column';\nimport { RowDropSettings, getUid } from '@syncfusion/ej2-grids';\nimport { FilterSettings } from '../models/filter-settings';\nimport { TextWrapSettings } from '../models/textwrap-settings';\nimport { Logger as TreeLogger } from '../actions/logger';\nimport { TreeClipboard } from '../actions/clipboard';\nimport { Selection as TreeGridSelection } from '../actions/selection';\nimport { Print } from '../actions/print';\nimport * as events from '../base/constant';\nimport { SearchSettings } from '../models/search-settings';\nimport { SelectionSettings } from '../models/selection-settings';\nimport { getActualProperties, getObject } from '@syncfusion/ej2-grids';\nimport { DataManager, RemoteSaveAdaptor, JsonAdaptor, Deferred } from '@syncfusion/ej2-data';\nimport { createSpinner, hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\nimport { isRemoteData, isOffline, extendArray, isCountRequired, findChildrenRecords } from '../utils';\nimport { Grid, Logger } from '@syncfusion/ej2-grids';\nimport { Render } from '../renderer/render';\nimport { DataManipulation } from './data';\nimport { iterateArrayOrObject } from '@syncfusion/ej2-grids';\nimport { ToolbarItem, ContextMenuItems } from '../enum';\nimport { PageSettings } from '../models/page-settings';\nimport { AggregateRow } from '../models/summary';\nimport { EditSettings } from '../models/edit-settings';\nimport { SortSettings } from '../models/sort-settings';\nimport { isHidden } from '../utils';\nimport { editAction } from '../actions/crud-actions';\nimport { InfiniteScrollSettings } from '../models/infinite-scroll-settings';\n/**\n * Represents the TreeGrid component.\n * ```html\n * <div id='treegrid'></div>\n * <script>\n *  var treegridObj = new TreeGrid({ allowPaging: true });\n *  treegridObj.appendTo('#treegrid');\n * </script>\n * ```\n */\nvar TreeGrid = /** @class */ (function (_super) {\n    __extends(TreeGrid, _super);\n    function TreeGrid(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.dataResults = {};\n        _this.uniqueIDCollection = {};\n        _this.uniqueIDFilterCollection = {};\n        _this.changedRecords = 'changedRecords';\n        _this.deletedRecords = 'deletedRecords';\n        _this.addedRecords = 'addedRecords';\n        _this.objectEqualityChecker = function (old, current) {\n            if (old) {\n                var keys = Object.keys(old);\n                var isEqual = true;\n                var excludeKeys = [\"Children\", \"childRecords\", \"taskData\", \"uniqueID\", \"parentItem\", \"parentUniqueID\"];\n                for (var i = 0; i < keys.length; i++) {\n                    if (old[keys[i]] !== current[keys[i]] && excludeKeys.indexOf(keys[i]) === -1) {\n                        isEqual = false;\n                        break;\n                    }\n                }\n                return isEqual;\n            }\n            else {\n                return false;\n            }\n        };\n        TreeGrid_1.Inject(TreeGridSelection);\n        setValue('mergePersistData', _this.mergePersistTreeGridData, _this);\n        var logger = 'Logger';\n        if (!isNullOrUndefined(_this.injectedModules[logger])) {\n            Grid.Inject(Logger);\n        }\n        _this.grid = new Grid();\n        return _this;\n    }\n    TreeGrid_1 = TreeGrid;\n    /**\n     * Export TreeGrid data to Excel file(.xlsx).\n     *\n     * @param  {ExcelExportProperties | TreeGridExcelExportProperties} excelExportProperties - Defines the export properties of the Tree Grid.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @blazorType void\n     * @returns {Promise<any>} - Returns promise object of export action\n     */\n    /* eslint-disable */\n    TreeGrid.prototype.excelExport = function (excelExportProperties, isMultipleExport, workbook, isBlob) {\n        /* eslint-enable */\n        return this.excelExportModule.Map(excelExportProperties, isMultipleExport, workbook, isBlob, false);\n    };\n    /**\n     * Export TreeGrid data to CSV file.\n     *\n     * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the TreeGrid.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns {Promise<any>} - Returns promise object of export action\n     * @blazorType void\n     */\n    /* eslint-disable */\n    TreeGrid.prototype.csvExport = function (excelExportProperties, isMultipleExport, workbook, isBlob) {\n        /* eslint-enable */\n        return this.excelExportModule.Map(excelExportProperties, isMultipleExport, workbook, isBlob, true);\n    };\n    /**\n     * Export TreeGrid data to PDF document.\n     *\n     * @param {PdfExportProperties | TreeGridPdfExportProperties} pdfExportProperties - Defines the export properties of the Tree Grid.\n     * @param {boolean} isMultipleExport - Define to enable multiple export.\n     * @param {Object} pdfDoc - Defined the Pdf Document if multiple export is enabled.\n     * @param {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns {Promise<any>} - Returns promise object of export action\n     * @blazorType void\n     */\n    TreeGrid.prototype.pdfExport = function (pdfExportProperties, isMultipleExport, pdfDoc, isBlob) {\n        return this.pdfExportModule.Map(pdfExportProperties, isMultipleExport, pdfDoc, isBlob);\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @private\n     * @returns {string} Returns TreeGrid module name\n     */\n    TreeGrid.prototype.getModuleName = function () {\n        return 'treegrid';\n    };\n    /**\n     * For internal use only - Initialize the event handler;\n     *\n     * @private\n     * @returns {void}\n     */\n    TreeGrid.prototype.preRender = function () {\n        this.TreeGridLocale();\n        this.initProperties();\n        this.defaultLocale = {\n            Above: 'Above',\n            Below: 'Below',\n            Child: 'Child',\n            AddRow: 'Add Row',\n            ExpandAll: 'Expand All',\n            CollapseAll: 'Collapse All',\n            RowIndent: 'Indent',\n            RowOutdent: 'Outdent'\n        };\n        this.l10n = new L10n('treegrid', this.defaultLocale, this.locale);\n        if (this.isSelfReference && isNullOrUndefined(this.childMapping)) {\n            this.childMapping = 'Children';\n        }\n    };\n    /**\n     * Sorts a column with the given options.\n     *\n     * @param {string} columnName - Defines the column name to be sorted.\n     * @param {SortDirection} direction - Defines the direction of sorting field.\n     * @param {boolean} isMultiSort - Specifies whether the previous sorted columns are to be maintained.\n     * @returns {void}\n     */\n    TreeGrid.prototype.sortByColumn = function (columnName, direction, isMultiSort) {\n        this.sortModule.sortColumn(columnName, direction, isMultiSort);\n    };\n    /**\n     * Clears all the sorted columns of the TreeGrid.\n     *\n     * @returns {void}\n     */\n    TreeGrid.prototype.clearSorting = function () {\n        if (this.sortModule) {\n            this.sortModule.clearSorting();\n        }\n    };\n    /**\n     * Remove sorted column by field name.\n     *\n     * @param {string} field - Defines the column field name to remove sort.\n     * @returns {void}\n     * @hidden\n     */\n    TreeGrid.prototype.removeSortColumn = function (field) {\n        this.sortModule.removeSortColumn(field);\n    };\n    /**\n     * Searches TreeGrid records using the given key.\n     * You can customize the default search option by using the\n     * [`searchSettings`](./#searchsettings/).\n     *\n     * @param  {string} searchString - Defines the key.\n     * @returns {void}\n     */\n    TreeGrid.prototype.search = function (searchString) {\n        this.grid.search(searchString);\n    };\n    /**\n     * Changes the column width to automatically fit its content to ensure that the width shows the content without wrapping/hiding.\n     * > * This method ignores the hidden columns.\n     * > * Uses the `autoFitColumns` method in the `dataBound` event to resize at initial rendering.\n     *\n     * @param  {string |string[]} fieldNames - Defines the column names.\n     * @returns {void}\n     *\n     *\n     *\n     */\n    TreeGrid.prototype.autoFitColumns = function (fieldNames) {\n        this.resizeModule.autoFitColumns(fieldNames);\n        this.updateColumnModel();\n    };\n    /**\n     * Changes the TreeGrid column positions by field names.\n     *\n     * @param  {string} fromFName - Defines the origin field name.\n     * @param  {string} toFName - Defines the destination field name.\n     * @returns {void}\n     */\n    TreeGrid.prototype.reorderColumns = function (fromFName, toFName) {\n        this.grid.reorderColumns(fromFName, toFName);\n    };\n    TreeGrid.prototype.TreeGridLocale = function () {\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var locale = L10n.locale;\n        var localeObject = {};\n        setValue(this.locale, {}, localeObject);\n        var gridLocale;\n        gridLocale = {};\n        gridLocale = getObject(this.locale, locale);\n        var treeGridLocale;\n        treeGridLocale = {};\n        treeGridLocale = getObject(this.getModuleName(), gridLocale);\n        setValue('grid', treeGridLocale, getObject(this.locale, localeObject));\n        L10n.load(localeObject);\n    };\n    /**\n     * By default, prints all the pages of the TreeGrid and hides the pager.\n     * > You can customize print options using the\n     * [`printMode`](./#printmode).\n     *\n     * @returns {void}\n     */\n    TreeGrid.prototype.print = function () {\n        this.printModule.print();\n    };\n    TreeGrid.prototype.treeGridkeyActionHandler = function (e) {\n        if (this.allowKeyboard) {\n            var target = void 0;\n            var parentTarget = void 0;\n            var column = void 0;\n            var row = void 0;\n            var summaryElement = void 0;\n            switch (e.action) {\n                case 'ctrlDownArrow':\n                    this.expandAll();\n                    break;\n                case 'ctrlUpArrow':\n                    this.collapseAll();\n                    break;\n                case 'ctrlShiftUpArrow':\n                    target = e.target;\n                    column = target.closest('.e-rowcell');\n                    row = column.closest('tr');\n                    if (row !== null && row !== undefined) {\n                        this.expandCollapseRequest(row.querySelector('.e-treegridexpand'));\n                    }\n                    break;\n                case 'ctrlShiftDownArrow':\n                    target = e.target;\n                    column = target.closest('.e-rowcell');\n                    row = column.closest('tr');\n                    if (row !== null && row !== undefined) {\n                        this.expandCollapseRequest(row.querySelector('.e-treegridcollapse'));\n                    }\n                    break;\n                case 'downArrow':\n                    parentTarget = e.target.parentElement;\n                    summaryElement = this.findnextRowElement(parentTarget);\n                    if (summaryElement !== null) {\n                        var rowIndex = summaryElement.rowIndex;\n                        this.selectRow(rowIndex);\n                        var cellIndex = e.target.cellIndex;\n                        var row_1 = summaryElement.children[cellIndex];\n                        addClass([row_1], 'e-focused');\n                        addClass([row_1], 'e-focus');\n                    }\n                    else {\n                        this.clearSelection();\n                    }\n                    break;\n                case 'upArrow':\n                    parentTarget = e.target.parentElement;\n                    summaryElement = this.findPreviousRowElement(parentTarget);\n                    if (summaryElement !== null) {\n                        var rIndex = summaryElement.rowIndex;\n                        this.selectRow(rIndex);\n                        var cIndex = e.target.cellIndex;\n                        var rows = summaryElement.children[cIndex];\n                        addClass([rows], 'e-focused');\n                        addClass([rows], 'e-focus');\n                    }\n                    else {\n                        this.clearSelection();\n                    }\n            }\n        }\n    };\n    // Get Proper Row Element from the summary\n    TreeGrid.prototype.findnextRowElement = function (summaryRowElement) {\n        var rowElement = summaryRowElement.nextElementSibling;\n        if (rowElement !== null && (rowElement.className.indexOf('e-summaryrow') !== -1 ||\n            rowElement.style.display === 'none')) {\n            rowElement = this.findnextRowElement(rowElement);\n        }\n        return rowElement;\n    };\n    // Get Proper Row Element from the summary\n    TreeGrid.prototype.findPreviousRowElement = function (summaryRowElement) {\n        var rowElement = summaryRowElement.previousElementSibling;\n        if (rowElement !== null && (rowElement.className.indexOf('e-summaryrow') !== -1 ||\n            rowElement.style.display === 'none')) {\n            rowElement = this.findPreviousRowElement(rowElement);\n        }\n        return rowElement;\n    };\n    TreeGrid.prototype.initProperties = function () {\n        this.defaultLocale = {};\n        this.flatData = [];\n        this.parentData = [];\n        this.columnModel = [];\n        this.isExpandAll = false;\n        this.isCollapseAll = false;\n        this.keyConfigs = {\n            ctrlDownArrow: 'ctrl+downarrow',\n            ctrlUpArrow: 'ctrl+uparrow',\n            ctrlShiftUpArrow: 'ctrl+shift+uparrow',\n            ctrlShiftDownArrow: 'ctrl+shift+downarrow',\n            downArrow: 'downArrow',\n            upArrow: 'upArrow'\n        };\n        this.isLocalData = (!(this.dataSource instanceof DataManager) || this.dataSource.dataSource.offline\n            || (!isNullOrUndefined(this.dataSource.ready)) || this.dataSource.adaptor instanceof RemoteSaveAdaptor);\n        this.isSelfReference = !isNullOrUndefined(this.parentIdMapping);\n    };\n    /**\n     * Binding events to the element while component creation.\n     *\n     * @hidden\n     * @returns {void}\n     */\n    TreeGrid.prototype.wireEvents = function () {\n        EventHandler.add(this.grid.element, 'click', this.mouseClickHandler, this);\n        EventHandler.add(this.element, 'touchend', this.mouseClickHandler, this);\n        this.keyboardModule = new KeyboardEvents(this.element, {\n            keyAction: this.treeGridkeyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n        if (this.allowKeyboard) {\n            this.element.tabIndex = this.element.tabIndex === -1 ? 0 : this.element.tabIndex;\n        }\n    };\n    /**\n     * To provide the array of modules needed for component rendering\n     *\n     * @returns {ModuleDeclaration[]} - Returns TreeGrid modules collection\n     * @hidden\n     */\n    TreeGrid.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.isDestroyed) {\n            return modules;\n        }\n        modules.push({\n            member: 'filter', args: [this, this.filterSettings]\n        });\n        if (!isNullOrUndefined(this.toolbar)) {\n            modules.push({\n                member: 'toolbar',\n                args: [this]\n            });\n        }\n        if (this.contextMenuItems) {\n            modules.push({\n                member: 'contextMenu',\n                args: [this]\n            });\n        }\n        if (this.allowPaging) {\n            modules.push({\n                member: 'pager',\n                args: [this, this.pageSettings]\n            });\n        }\n        if (this.allowReordering) {\n            modules.push({\n                member: 'reorder',\n                args: [this]\n            });\n        }\n        if (this.allowSorting) {\n            modules.push({\n                member: 'sort',\n                args: [this]\n            });\n        }\n        if (this.aggregates.length > 0) {\n            modules.push({\n                member: 'summary', args: [this]\n            });\n        }\n        modules.push({\n            member: 'resize', args: [this]\n        });\n        if (this.allowExcelExport) {\n            modules.push({\n                member: 'ExcelExport', args: [this]\n            });\n        }\n        if (this.frozenColumns || this.frozenRows || this.getFrozenColumns()) {\n            modules.push({\n                member: 'freeze', args: [this]\n            });\n        }\n        if (this.detailTemplate) {\n            modules.push({\n                member: 'detailRow', args: [this]\n            });\n        }\n        if (this.allowPdfExport) {\n            modules.push({\n                member: 'PdfExport', args: [this]\n            });\n        }\n        if (this.showColumnMenu) {\n            modules.push({\n                member: 'columnMenu', args: [this]\n            });\n        }\n        if (this.showColumnChooser) {\n            modules.push({\n                member: 'ColumnChooser', args: [this]\n            });\n        }\n        this.extendRequiredModules(modules);\n        return modules;\n    };\n    TreeGrid.prototype.extendRequiredModules = function (modules) {\n        if (this.allowRowDragAndDrop) {\n            modules.push({\n                member: 'rowDragAndDrop',\n                args: [this]\n            });\n        }\n        if (this.editSettings.allowAdding || this.editSettings.allowDeleting || this.editSettings.allowEditing) {\n            modules.push({\n                member: 'edit',\n                args: [this]\n            });\n        }\n        if (this.isCommandColumn(this.columns)) {\n            modules.push({\n                member: 'commandColumn',\n                args: [this]\n            });\n        }\n        if (this.allowSelection) {\n            modules.push({\n                member: 'selection',\n                args: [this]\n            });\n        }\n        if (this.enableVirtualization) {\n            modules.push({\n                member: 'virtualScroll',\n                args: [this]\n            });\n        }\n        if (this.enableInfiniteScrolling) {\n            modules.push({\n                member: 'infiniteScroll',\n                args: [this]\n            });\n        }\n        modules.push({\n            member: 'logger',\n            args: [this.grid]\n        });\n    };\n    TreeGrid.prototype.isCommandColumn = function (columns) {\n        var _this = this;\n        return columns.some(function (col) {\n            if (col.columns) {\n                return _this.isCommandColumn(col.columns);\n            }\n            return !!(col.commands || col.commandsTemplate);\n        });\n    };\n    /**\n     * Unbinding events from the element while component destroy.\n     *\n     * @hidden\n     * @returns {void}\n     */\n    TreeGrid.prototype.unwireEvents = function () {\n        if (this.grid && this.grid.element) {\n            EventHandler.remove(this.grid.element, 'click', this.mouseClickHandler);\n        }\n    };\n    /**\n     * Logs tree grid error message on console\n     *\n     * @param {string | string[]} types - Tree Grid error type\n     * @param {object} args - Error details\n     * @hidden\n     * @private\n     * @returns {void}\n     */\n    TreeGrid.prototype.log = function (types, args) {\n        if (this.loggerModule) {\n            this.loggerModule.treeLog(types, args, this);\n        }\n    };\n    /**\n     * For internal use only - To Initialize the component rendering.\n     *\n     * @private\n     * @returns {void}\n     */\n    TreeGrid.prototype.render = function () {\n        var _this = this;\n        if (this.isReact) {\n            this.grid.isReact = true;\n        }\n        createSpinner({ target: this.element }, this.createElement);\n        this.log(['mapping_fields_missing']);\n        this.renderModule = new Render(this);\n        this.dataModule = new DataManipulation(this);\n        this.printModule = new Print(this);\n        this.trigger(events.load);\n        this.autoGenerateColumns();\n        this.initialRender = true;\n        if (!isNullOrUndefined(this.dataSource)) {\n            this.convertTreeData(this.dataSource);\n        }\n        this.loadGrid();\n        if (this.element.classList.contains('e-treegrid') && this.rowDropSettings.targetID) {\n            this.grid.rowDropSettings.targetID += '_gridcontrol';\n        }\n        this.addListener();\n        var gridContainer = createElement('div', { id: this.element.id + '_gridcontrol' });\n        addClass([this.element], 'e-treegrid');\n        if (!isNullOrUndefined(this.height) && typeof (this.height) === 'string' && this.height.indexOf('%') !== -1) {\n            this.element.style.height = this.height;\n        }\n        if (!isNullOrUndefined(this.width) && typeof (this.width) === 'string' && this.width.indexOf('%') !== -1) {\n            this.element.style.width = this.width;\n        }\n        this.element.appendChild(gridContainer);\n        var gridRequiredModules = this.grid.requiredModules;\n        this.grid.requiredModules = function () {\n            var modules = [];\n            modules = gridRequiredModules.apply(this);\n            for (var i = 0; i < modules.length; i++) {\n                if (modules[i].member === 'virtualscroll') {\n                    modules[i].member = 'treeVirtualScroll';\n                }\n            }\n            return modules;\n        };\n        this.grid.appendTo(gridContainer);\n        this.wireEvents();\n        this.renderComplete();\n        var destroyTemplate = 'destroyTemplate';\n        var destroyTemplateFn = this.grid[destroyTemplate];\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.grid[destroyTemplate] = function (args, index) {\n            destroyTemplateFn.apply(_this.grid);\n            var portals = 'portals';\n            if (!(_this.isReact && isNullOrUndefined(_this[portals]))) {\n                _this.clearTemplate(args, index);\n            }\n        };\n    };\n    TreeGrid.prototype.afterGridRender = function () {\n        if (!isNullOrUndefined(this.grid.clipboardModule)) {\n            this.grid.clipboardModule.destroy();\n        }\n        this.clipboardModule = this.grid.clipboardModule = new TreeClipboard(this);\n    };\n    TreeGrid.prototype.convertTreeData = function (data) {\n        var _this = this;\n        if (isCountRequired(this)) {\n            data = getValue('result', data);\n        }\n        if (data instanceof Array && data.length > 0 && Object.prototype.hasOwnProperty.call(data[0], 'level')) {\n            this.flatData = data;\n            this.flatData.filter(function (e) {\n                setValue('uniqueIDCollection.' + e.uniqueID, e, _this);\n                if (e.level === 0) {\n                    _this.parentData.push(e);\n                }\n            });\n        }\n        else {\n            if (isCountRequired(this)) {\n                var griddata = getValue('result', this.dataSource);\n                this.dataModule.convertToFlatData(griddata);\n            }\n            else {\n                this.dataModule.convertToFlatData(data);\n            }\n        }\n    };\n    // private getGridData(): Object {\n    //   if (isRemoteData(this)) {\n    //     return this.dataSource;\n    //   } else if (this.isLocalData && this.dataSource instanceof DataManager) {\n    //     this.dataSource.dataSource.json = this.flatData;\n    //     return this.dataSource;\n    //   }\n    //   return this.flatData;\n    // }\n    TreeGrid.prototype.bindGridProperties = function () {\n        this.bindedDataSource();\n        this.grid.enableRtl = this.enableRtl;\n        this.grid.allowKeyboard = this.allowKeyboard;\n        this.grid.columns = this.getGridColumns(this.columns);\n        this.grid.allowExcelExport = this.allowExcelExport;\n        this.grid.allowPdfExport = this.allowPdfExport;\n        this.grid.query = this.query;\n        this.grid.columnQueryMode = this.columnQueryMode;\n        this.grid.allowPaging = this.allowPaging;\n        this.grid.pageSettings = getActualProperties(this.pageSettings);\n        this.grid.pagerTemplate = this.pagerTemplate;\n        this.grid.showColumnMenu = this.showColumnMenu;\n        this.grid.allowSorting = this.allowSorting;\n        this.grid.allowFiltering = this.allowFiltering;\n        this.grid.enableVirtualization = this.enableVirtualization;\n        this.grid.enableInfiniteScrolling = this.enableInfiniteScrolling;\n        this.grid.infiniteScrollSettings = this.infiniteScrollSettings;\n        this.grid.width = this.width;\n        this.grid.height = this.height;\n        this.grid.enableAltRow = this.enableAltRow;\n        this.grid.allowReordering = this.allowReordering;\n        this.grid.allowTextWrap = this.allowTextWrap;\n        this.grid.allowResizing = this.allowResizing;\n        this.grid.enableHover = this.enableHover;\n        this.grid.enableAutoFill = this.enableAutoFill;\n        this.grid.enableImmutableMode = this.enableImmutableMode;\n        this.grid.allowRowDragAndDrop = this.allowRowDragAndDrop;\n        this.grid.rowDropSettings = getActualProperties(this.rowDropSettings);\n        this.grid.rowHeight = this.rowHeight;\n        this.grid.gridLines = this.gridLines;\n        this.grid.allowSelection = this.allowSelection;\n        this.grid.toolbar = getActualProperties(this.getGridToolbar());\n        this.grid.toolbarTemplate = this.toolbarTemplate;\n        this.grid.showColumnChooser = this.showColumnChooser;\n        this.grid.filterSettings = getActualProperties(this.filterSettings);\n        this.grid.selectionSettings = getActualProperties(this.selectionSettings);\n        this.grid.sortSettings = getActualProperties(this.sortSettings);\n        this.grid.searchSettings = getActualProperties(this.searchSettings);\n        this.grid.aggregates = getActualProperties(this.aggregates);\n        this.grid.textWrapSettings = getActualProperties(this.textWrapSettings);\n        this.grid.printMode = getActualProperties(this.printMode);\n        this.grid.locale = getActualProperties(this.locale);\n        this.grid.selectedRowIndex = this.selectedRowIndex;\n        this.grid.contextMenuItems = getActualProperties(this.getContextMenu());\n        this.grid.columnMenuItems = getActualProperties(this.columnMenuItems);\n        this.grid.editSettings = this.getGridEditSettings();\n        this.grid.rowTemplate = getActualProperties(this.rowTemplate);\n        this.grid.detailTemplate = getActualProperties(this.detailTemplate);\n        this.grid.frozenRows = this.frozenRows;\n        this.grid.frozenColumns = this.frozenColumns;\n        this.grid.clipMode = getActualProperties(this.clipMode);\n        var templateInstance = 'templateDotnetInstance';\n        this.grid[templateInstance] = this[templateInstance];\n        var isJsComponent = 'isJsComponent';\n        this.grid[isJsComponent] = true;\n    };\n    TreeGrid.prototype.triggerEvents = function (args) {\n        this.trigger(getObject('name', args), args);\n    };\n    TreeGrid.prototype.bindGridEvents = function () {\n        var _this = this;\n        this.grid.rowSelecting = function (args) {\n            if (!isNullOrUndefined(args.target) && (args.target.classList.contains('e-treegridexpand')\n                || args.target.classList.contains('e-treegridcollapse') || args.target.classList.contains('e-summarycell'))) {\n                args.cancel = true;\n                return;\n            }\n            _this.trigger(events.rowSelecting, args);\n        };\n        this.grid.rowSelected = function (args) {\n            _this.selectedRowIndex = _this.grid.selectedRowIndex;\n            _this.notify(events.rowSelected, args);\n            _this.trigger(events.rowSelected, args);\n        };\n        this.grid.rowDeselected = function (args) {\n            _this.selectedRowIndex = _this.grid.selectedRowIndex;\n            _this.trigger(events.rowDeselected, args);\n        };\n        this.grid.resizeStop = function (args) {\n            _this.updateColumnModel();\n            _this.trigger(events.resizeStop, args);\n        };\n        this.grid.excelQueryCellInfo = function (args) {\n            _this.notify('excelCellInfo', args);\n            args = _this.dataResults;\n        };\n        this.grid.pdfQueryCellInfo = function (args) {\n            _this.notify('pdfCellInfo', args);\n            args = _this.dataResults;\n        };\n        this.grid.checkBoxChange = function (args) {\n            _this.trigger(events.checkboxChange, args);\n        };\n        this.grid.pdfExportComplete = this.triggerEvents.bind(this);\n        this.grid.excelExportComplete = this.triggerEvents.bind(this);\n        this.grid.excelHeaderQueryCellInfo = this.triggerEvents.bind(this);\n        this.grid.pdfHeaderQueryCellInfo = this.triggerEvents.bind(this);\n        this.grid.dataSourceChanged = this.triggerEvents.bind(this);\n        this.grid.recordDoubleClick = this.triggerEvents.bind(this);\n        this.grid.rowDeselecting = this.triggerEvents.bind(this);\n        this.grid.cellDeselected = this.triggerEvents.bind(this);\n        this.grid.cellDeselecting = this.triggerEvents.bind(this);\n        this.grid.columnMenuOpen = this.triggerEvents.bind(this);\n        this.grid.columnMenuClick = this.triggerEvents.bind(this);\n        this.grid.cellSelected = this.triggerEvents.bind(this);\n        this.grid.headerCellInfo = this.triggerEvents.bind(this);\n        this.grid.resizeStart = this.triggerEvents.bind(this);\n        this.grid.resizing = this.triggerEvents.bind(this);\n        this.grid.columnDrag = this.triggerEvents.bind(this);\n        this.grid.columnDragStart = this.triggerEvents.bind(this);\n        this.grid.columnDrop = this.triggerEvents.bind(this);\n        this.grid.beforePrint = this.triggerEvents.bind(this);\n        this.grid.beforeCopy = this.triggerEvents.bind(this);\n        this.grid.beforePaste = function (args) {\n            var rows = _this.getRows();\n            var rowIndex = 'rowIndex';\n            while (rows[args[rowIndex]].classList.contains('e-summaryrow')) {\n                args[rowIndex]++;\n            }\n            _this.trigger(events.beforePaste, args);\n        };\n        this.grid.load = function () {\n            _this.grid.on('initial-end', _this.afterGridRender, _this);\n            if (!isNullOrUndefined(_this.loggerModule)) {\n                var loggerModule = 'loggerModule';\n                _this.loggerModule = _this.grid[loggerModule] = new TreeLogger(_this.grid);\n            }\n        };\n        this.grid.printComplete = this.triggerEvents.bind(this);\n        this.grid.actionFailure = this.triggerEvents.bind(this);\n        this.extendedGridDataBoundEvent();\n        this.extendedGridEvents();\n        this.extendedGridActionEvents();\n        this.extendedGridEditEvents();\n        this.bindGridDragEvents();\n        this.bindCallBackEvents();\n    };\n    TreeGrid.prototype.lastRowBorder = function (visiblerow, isAddBorder) {\n        for (var j = 0; j < visiblerow.cells.length; j++) {\n            if (isAddBorder) {\n                addClass([visiblerow.cells[j]], 'e-lastrowcell');\n            }\n            else {\n                removeClass([visiblerow.cells[j]], 'e-lastrowcell');\n            }\n        }\n    };\n    TreeGrid.prototype.isPixelHeight = function () {\n        if (this.height !== 'auto' && this.height.toString().indexOf('%') === -1) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    TreeGrid.prototype.extendedGridDataBoundEvent = function () {\n        var _this = this;\n        this.grid.dataBound = function (args) {\n            _this.updateRowTemplate();\n            _this.updateColumnModel();\n            _this.updateAltRow(_this.getRows());\n            _this.notify('dataBoundArg', args);\n            if (isRemoteData(_this) && !isOffline(_this) && !_this.hasChildMapping) {\n                var req = getObject('dataSource.requests', _this).filter(function (e) {\n                    return e.httpRequest.statusText !== 'OK';\n                }).length;\n                setValue('grid.contentModule.isLoaded', !(req > 0), _this);\n            }\n            if (_this.isPixelHeight() && _this.initialRender) {\n                var rows = _this.getContentTable().rows;\n                var totalRows = [].slice.call(rows);\n                for (var i = totalRows.length - 1; i > 0; i--) {\n                    if (!isHidden(totalRows[i])) {\n                        if (totalRows[i].nextElementSibling) {\n                            _this.lastRowBorder(totalRows[i], true);\n                        }\n                        break;\n                    }\n                }\n            }\n            _this.trigger(events.dataBound, args);\n            _this.initialRender = false;\n        };\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var treeGrid = this;\n        this.grid.beforeDataBound = function (args) {\n            var dataSource = 'dataSource';\n            var requestType = getObject('action', args);\n            if (((isRemoteData(treeGrid) && !isOffline(treeGrid)) || isCountRequired(this)) && requestType !== 'edit') {\n                treeGrid.notify('updateRemoteLevel', args);\n                args = (treeGrid.dataResults);\n            }\n            else if (treeGrid.flatData.length === 0 && isOffline(treeGrid) && treeGrid.dataSource instanceof DataManager) {\n                var dm = treeGrid.dataSource;\n                treeGrid.dataModule.convertToFlatData(dm.dataSource.json);\n                args.result = treeGrid.grid.dataSource[dataSource].json = treeGrid.flatData;\n            }\n            if (!isRemoteData(treeGrid) && !isCountRequired(this) && !isNullOrUndefined(treeGrid.dataSource)) {\n                if (this.isPrinting) {\n                    setValue('isPrinting', true, args);\n                }\n                treeGrid.notify('dataProcessor', args);\n                //args = treeGrid.dataModule.dataProcessor(args);\n            }\n            extend(args, treeGrid.dataResults);\n            if (treeGrid.enableImmutableMode) {\n                args.result = args.result.slice();\n            }\n            if (treeGrid.initialRender) {\n                this.contentModule.objectEqualityChecker = treeGrid.objectEqualityChecker;\n            }\n            // treeGrid.notify(events.beforeDataBound, args);\n            if (!this.isPrinting) {\n                var callBackPromise_1 = new Deferred();\n                treeGrid.trigger(events.beforeDataBound, args, function (beforeDataBoundArgs) {\n                    callBackPromise_1.resolve(beforeDataBoundArgs);\n                });\n                return callBackPromise_1;\n            }\n        };\n        this.grid.log = function (type, args) {\n            if (_this.loggerModule) {\n                _this.loggerModule.log(type, args);\n            }\n        };\n    };\n    TreeGrid.prototype.bindCallBackEvents = function () {\n        var _this = this;\n        this.grid.toolbarClick = function (args) {\n            var callBackPromise = new Deferred();\n            _this.trigger(events.toolbarClick, args, function (toolbarargs) {\n                if (!toolbarargs.cancel) {\n                    _this.notify(events.toolbarClick, args);\n                }\n                callBackPromise.resolve(toolbarargs);\n            });\n            return callBackPromise;\n        };\n        this.grid.cellSelecting = function (args) {\n            var callBackPromise = new Deferred();\n            _this.trigger(getObject('name', args), args, function (cellselectingArgs) {\n                callBackPromise.resolve(cellselectingArgs);\n            });\n            return callBackPromise;\n        };\n        this.grid.beginEdit = function (args) {\n            if (!isNullOrUndefined(args.row) && args.row.classList.contains('e-summaryrow')) {\n                args.cancel = true;\n                return;\n            }\n            var callBackPromise = new Deferred();\n            _this.trigger(events.beginEdit, args, function (begineditArgs) {\n                callBackPromise.resolve(begineditArgs);\n            });\n            return callBackPromise;\n        };\n    };\n    TreeGrid.prototype.extendedGridEditEvents = function () {\n        var _this = this;\n        this.grid.dataStateChange = function (args) {\n            if (_this.isExpandRefresh) {\n                _this.isExpandRefresh = false;\n                _this.grid.dataSource = { result: _this.flatData, count: getValue('count', _this.grid.dataSource) };\n            }\n            else {\n                _this.trigger(events.dataStateChange, args);\n            }\n        };\n        this.grid.cellSave = function (args) {\n            if (_this.grid.isContextMenuOpen()) {\n                var contextitems = _this.grid.contextMenuModule.contextMenu.element.getElementsByClassName('e-selected')[0];\n                if ((isNullOrUndefined(contextitems) || contextitems.id !== _this.element.id + '_gridcontrol_cmenu_Save')) {\n                    args.cancel = true;\n                }\n            }\n            var callBackPromise = new Deferred();\n            _this.trigger(events.cellSave, args, function (cellsaveArgs) {\n                if (!cellsaveArgs.cancel) {\n                    _this.notify(events.cellSave, cellsaveArgs);\n                }\n                callBackPromise.resolve(cellsaveArgs);\n            });\n            return callBackPromise;\n        };\n        this.grid.cellSaved = function (args) {\n            _this.trigger(events.cellSaved, args);\n            _this.notify(events.cellSaved, args);\n        };\n        this.grid.cellEdit = function (args) {\n            var prom = 'promise';\n            var promise = new Deferred();\n            args[prom] = promise;\n            _this.notify(events.cellEdit, args);\n            return promise;\n        };\n        this.grid.batchAdd = function (args) {\n            _this.trigger(events.batchAdd, args);\n            _this.notify(events.batchAdd, args);\n        };\n        this.grid.beforeBatchSave = function (args) {\n            _this.trigger(events.beforeBatchSave, args);\n            _this.notify(events.beforeBatchSave, args);\n        };\n        this.grid.beforeBatchAdd = function (args) {\n            _this.trigger(events.beforeBatchAdd, args);\n            _this.notify(events.beforeBatchAdd, args);\n        };\n        this.grid.batchDelete = function (args) {\n            _this.trigger(events.batchDelete, args);\n            _this.notify(events.batchDelete, args);\n        };\n        this.grid.beforeBatchDelete = function (args) {\n            _this.trigger(events.beforeBatchDelete, args);\n            _this.notify(events.beforeBatchDelete, args);\n        };\n        this.grid.batchCancel = function (args) {\n            if (_this.editSettings.mode !== 'Cell') {\n                _this.trigger(events.batchCancel, args);\n            }\n            _this.notify(events.batchCancel, args);\n        };\n    };\n    TreeGrid.prototype.updateRowTemplate = function () {\n        this.treeColumnRowTemplate();\n    };\n    TreeGrid.prototype.bindedDataSource = function () {\n        var dataSource = 'dataSource';\n        var isDataAvailable = 'isDataAvailable';\n        var adaptor = 'adaptor';\n        var ready = 'ready';\n        if (this.dataSource && isCountRequired(this)) {\n            var data = this.flatData;\n            var datacount = getValue('count', this.dataSource);\n            this.grid.dataSource = { result: data, count: datacount };\n        }\n        else {\n            this.grid.dataSource = !(this.dataSource instanceof DataManager) ?\n                this.flatData : new DataManager(this.dataSource.dataSource, this.dataSource.defaultQuery, this.dataSource.adaptor);\n        }\n        if (this.dataSource instanceof DataManager && (this.dataSource.dataSource.offline || this.dataSource.ready)) {\n            this.grid.dataSource[dataSource].json = extendArray(this.dataSource[dataSource].json);\n            this.grid.dataSource[ready] = this.dataSource.ready;\n            var proxy_1 = this;\n            if (!isNullOrUndefined(this.grid.dataSource[ready])) {\n                this.grid.dataSource[ready].then(function (e) {\n                    var dm = proxy_1.grid.dataSource;\n                    dm[dataSource].offline = true;\n                    dm[isDataAvailable] = true;\n                    dm[dataSource].json = e.result;\n                    dm[adaptor] = new JsonAdaptor();\n                });\n            }\n        }\n    };\n    TreeGrid.prototype.extendedGridActionEvents = function () {\n        var _this = this;\n        this.grid.actionBegin = function (args) {\n            if (args.requestType === 'sorting' && args.target && args.target.parentElement &&\n                args.target.parentElement.classList.contains('e-hierarchycheckbox')) {\n                args.cancel = true;\n            }\n            var requestType = getObject('requestType', args);\n            if (requestType === 'reorder') {\n                _this.notify('getColumnIndex', {});\n            }\n            _this.notify('actionBegin', { editAction: args });\n            if (!isRemoteData(_this) && !isNullOrUndefined(_this.filterModule) && !isCountRequired(_this)\n                && (_this.grid.filterSettings.columns.length === 0 || _this.grid.searchSettings.key.length === 0)) {\n                _this.notify('clearFilters', { flatData: _this.grid.dataSource });\n                _this.grid.dataSource = _this.dataResults.result;\n            }\n            var callBackPromise = new Deferred();\n            _this.trigger(events.actionBegin, args, function (actionArgs) {\n                if (!actionArgs.cancel) {\n                    _this.notify(events.beginEdit, actionArgs);\n                }\n                callBackPromise.resolve(actionArgs);\n            });\n            return callBackPromise;\n        };\n        this.grid.actionComplete = function (args) {\n            _this.notify('actioncomplete', args);\n            _this.updateColumnModel();\n            _this.updateTreeGridModel();\n            if (args.requestType === 'reorder') {\n                _this.notify('setColumnIndex', {});\n            }\n            _this.notify('actionComplete', { editAction: args });\n            if (args.requestType === 'add' && (_this.editSettings.newRowPosition !== 'Top' && _this.editSettings.newRowPosition !== 'Bottom')) {\n                _this.notify(events.beginAdd, args);\n            }\n            if (args.requestType === 'batchsave') {\n                _this.notify(events.batchSave, args);\n            }\n            _this.notify('updateGridActions', args);\n            _this.trigger(events.actionComplete, args);\n        };\n    };\n    TreeGrid.prototype.extendedGridEvents = function () {\n        var _this = this;\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var treeGrid = this;\n        this.grid.recordDoubleClick = function (args) {\n            _this.trigger(events.recordDoubleClick, args);\n            _this.notify(events.recordDoubleClick, args);\n        };\n        this.grid.detailDataBound = function (args) {\n            _this.notify('detaildataBound', args);\n            _this.trigger(events.detailDataBound, args);\n        };\n        this.grid.rowDataBound = function (args) {\n            if (isNullOrUndefined(this.isPrinting)) {\n                setValue('isPrinting', false, args);\n            }\n            else {\n                setValue('isPrinting', this.isPrinting, args);\n            }\n            treeGrid.renderModule.RowModifier(args);\n        };\n        this.grid.queryCellInfo = function (args) {\n            if (isNullOrUndefined(this.isPrinting)) {\n                setValue('isPrinting', false, args);\n            }\n            else {\n                setValue('isPrinting', this.isPrinting, args);\n            }\n            treeGrid.renderModule.cellRender(args);\n        };\n        this.grid.contextMenuClick = function (args) {\n            _this.notify(events.contextMenuClick, args);\n            _this.trigger(events.contextMenuClick, args);\n        };\n        this.grid.contextMenuOpen = function (args) {\n            _this.notify(events.contextMenuOpen, args);\n            _this.trigger(events.contextMenuOpen, args);\n        };\n        this.grid.queryCellInfo = function (args) {\n            _this.renderModule.cellRender(args);\n        };\n    };\n    TreeGrid.prototype.bindGridDragEvents = function () {\n        var _this = this;\n        this.grid.rowDragStartHelper = function (args) {\n            _this.trigger(events.rowDragStartHelper, args);\n        };\n        this.grid.rowDragStart = function (args) {\n            _this.trigger(events.rowDragStart, args);\n        };\n        this.grid.rowDrag = function (args) {\n            if (_this.grid.isEdit) {\n                args.cancel = true;\n                return;\n            }\n            _this.notify(events.rowdraging, args);\n            _this.trigger(events.rowDrag, args);\n        };\n        this.grid.rowDrop = function (args) {\n            if (_this.grid.isEdit) {\n                args.cancel = true;\n                return;\n            }\n            _this.notify(events.rowDropped, args);\n            args.cancel = true;\n        };\n    };\n    /**\n     * Renders TreeGrid component\n     *\n     * @private\n     * @returns {void}\n     */\n    TreeGrid.prototype.loadGrid = function () {\n        this.bindGridProperties();\n        this.bindGridEvents();\n        setValue('registeredTemplate', this.registeredTemplate, this.grid);\n        var ref = 'viewContainerRef';\n        setValue('viewContainerRef', this[ref], this.grid);\n    };\n    /**\n     * AutoGenerate TreeGrid columns from first record\n     *\n     * @hidden\n     * @returns {void}\n     */\n    TreeGrid.prototype.autoGenerateColumns = function () {\n        if (!this.columns.length && (!this.dataModule.isRemote() && Object.keys(this.dataSource).length)) {\n            this.columns = [];\n            // if (this.dataSource instanceof DataManager) {\n            //   record = (<DataManager>this.dataSource).dataSource.json[0];\n            // } else {\n            var record = this.dataSource[0];\n            // }\n            var keys = Object.keys(record);\n            for (var i = 0; i < keys.length; i++) {\n                if ([this.childMapping, this.parentIdMapping].indexOf(keys[i]) === -1) {\n                    this.columns.push(keys[i]);\n                }\n            }\n        }\n    };\n    TreeGrid.prototype.getGridEditSettings = function () {\n        var edit = {};\n        var guid = 'guid';\n        edit.allowAdding = this.editSettings.allowAdding;\n        edit.allowEditing = this.editSettings.allowEditing;\n        edit.allowDeleting = this.editSettings.allowDeleting;\n        edit.newRowPosition = this.editSettings.newRowPosition === 'Bottom' ? 'Bottom' : 'Top';\n        edit.allowEditOnDblClick = this.editSettings.allowEditOnDblClick;\n        edit.showConfirmDialog = this.editSettings.showConfirmDialog;\n        edit.template = this.editSettings.template;\n        edit.showDeleteConfirmDialog = this.editSettings.showDeleteConfirmDialog;\n        edit.allowNextRowEdit = this.editSettings.allowNextRowEdit;\n        edit[guid] = this.editSettings[guid];\n        edit.dialog = this.editSettings.dialog;\n        switch (this.editSettings.mode) {\n            case 'Dialog':\n                edit.mode = this.editSettings.mode;\n                break;\n            case 'Batch':\n                edit.mode = this.editSettings.mode;\n                break;\n            case 'Row':\n                edit.mode = 'Normal';\n                break;\n            case 'Cell':\n                edit.mode = 'Normal';\n                edit.showConfirmDialog = false;\n                break;\n        }\n        return edit;\n    };\n    /**\n     * Defines grid toolbar from treegrid toolbar model\n     *\n     * @hidden\n     * @returns {Object[]} - returns context menu items\n     */\n    TreeGrid.prototype.getContextMenu = function () {\n        if (this.contextMenuItems) {\n            var items = [];\n            for (var i = 0; i < this.contextMenuItems.length; i++) {\n                switch (this.contextMenuItems[i]) {\n                    case 'AddRow':\n                    case ContextMenuItems.AddRow:\n                        items.push({ text: this.l10n.getConstant('AddRow'),\n                            target: '.e-content', id: this.element.id + '_gridcontrol_cmenu_AddRow',\n                            items: [{ text: this.l10n.getConstant('Above'), id: 'Above' }, { text: this.l10n.getConstant('Below'), id: 'Below' }, { text: this.l10n.getConstant('Child'), id: 'Child' }] });\n                        break;\n                    default:\n                        items.push(this.contextMenuItems[i]);\n                }\n            }\n            return items;\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Defines grid toolbar from treegrid toolbar model\n     *\n     * @hidden\n     * @returns {Object[]} - Returns toolbar items\n     */\n    TreeGrid.prototype.getGridToolbar = function () {\n        if (this.toolbar) {\n            var items = [];\n            var tooltipText = void 0;\n            for (var i = 0; i < this.toolbar.length; i++) {\n                switch (this.toolbar[i]) {\n                    case 'Search':\n                    case ToolbarItem.Search:\n                        items.push('Search');\n                        break;\n                    case 'Print':\n                    case ToolbarItem.Print:\n                        items.push('Print');\n                        break;\n                    case 'ExpandAll':\n                    case ToolbarItem.ExpandAll:\n                        tooltipText = this.l10n.getConstant('ExpandAll');\n                        items.push({ text: tooltipText, tooltipText: tooltipText,\n                            prefixIcon: 'e-expand', id: this.element.id + '_gridcontrol_expandall' });\n                        break;\n                    case 'CollapseAll':\n                    case ToolbarItem.CollapseAll:\n                        tooltipText = this.l10n.getConstant('CollapseAll');\n                        items.push({ text: tooltipText,\n                            tooltipText: tooltipText, prefixIcon: 'e-collapse', id: this.element.id + '_gridcontrol_collapseall'\n                        });\n                        break;\n                    case 'Indent':\n                    case ToolbarItem.RowIndent:\n                        tooltipText = this.l10n.getConstant('RowIndent');\n                        items.push({\n                            text: tooltipText, tooltipText: tooltipText,\n                            prefixIcon: 'e-indent', id: this.element.id + '_gridcontrol_indent'\n                        });\n                        break;\n                    case 'Outdent':\n                    case ToolbarItem.RowOutdent:\n                        tooltipText = this.l10n.getConstant('RowOutdent');\n                        items.push({\n                            text: tooltipText, tooltipText: tooltipText,\n                            prefixIcon: 'e-outdent', id: this.element.id + '_gridcontrol_outdent'\n                        });\n                        break;\n                    default:\n                        items.push(this.toolbar[i]);\n                }\n            }\n            return items;\n        }\n        else {\n            return null;\n        }\n    };\n    TreeGrid.prototype.getGridColumns = function (columns, isEmptyColumnModel, index) {\n        if (isEmptyColumnModel === void 0) { isEmptyColumnModel = true; }\n        if (index === void 0) { index = 0; }\n        var column = columns;\n        var stackedColumn = 'columns';\n        if (isEmptyColumnModel) {\n            this.columnModel = [];\n        }\n        var treeGridColumn;\n        var gridColumn;\n        index = index === 0 ? -1 : index;\n        var gridColumnCollection = [];\n        for (var i = 0; i < column.length; i++) {\n            index = index + 1;\n            var treeColumn = this.grid.getColumnByUid(column[i].uid);\n            gridColumn = treeColumn ? treeColumn : {};\n            treeGridColumn = {};\n            if (typeof this.columns[i] === 'string') {\n                gridColumn.field = treeGridColumn.field = this.columns[i];\n            }\n            else {\n                for (var _i = 0, _a = Object.keys(column[i]); _i < _a.length; _i++) {\n                    var prop = _a[_i];\n                    if (index === this.treeColumnIndex && prop === 'template') {\n                        treeGridColumn[prop] = column[i][prop];\n                    }\n                    else if (prop === 'columns' && !isNullOrUndefined(column[i][prop])) {\n                        gridColumn[prop] = this.getGridColumns(column[i][prop], false, index);\n                        treeGridColumn[prop] = column[i][prop];\n                    }\n                    else {\n                        gridColumn[prop] = treeGridColumn[prop] = column[i][prop];\n                    }\n                }\n            }\n            if (!treeGridColumn[stackedColumn]) {\n                this.columnModel.push(new Column(treeGridColumn));\n            }\n            gridColumnCollection.push(gridColumn);\n        }\n        return gridColumnCollection;\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {TreeGridModel} newProp - properties details which has to be modified\n     * @hidden\n     * @returns {void}\n     */\n    TreeGrid.prototype.onPropertyChanged = function (newProp) {\n        var properties = Object.keys(newProp);\n        var requireRefresh = false;\n        for (var _i = 0, properties_1 = properties; _i < properties_1.length; _i++) {\n            var prop = properties_1[_i];\n            switch (prop) {\n                case 'columns':\n                    this.grid.columns = this.getGridColumns(this.columns);\n                    break;\n                case 'treeColumnIndex':\n                    this.grid.refreshColumns();\n                    break;\n                case 'allowPaging':\n                    this.grid.allowPaging = this.allowPaging;\n                    break;\n                case 'pageSettings':\n                    this.grid.pageSettings = getActualProperties(this.pageSettings);\n                    requireRefresh = true;\n                    break;\n                case 'enableVirtualization':\n                    this.grid.enableVirtualization = this.enableVirtualization;\n                    break;\n                case 'toolbar':\n                    this.grid.toolbar = this.getGridToolbar();\n                    break;\n                case 'allowSelection':\n                    this.grid.allowSelection = this.allowSelection;\n                    break;\n                case 'selectionSettings':\n                    this.grid.selectionSettings = getActualProperties(this.selectionSettings);\n                    break;\n                case 'allowSorting':\n                    this.grid.allowSorting = this.allowSorting;\n                    break;\n                case 'allowMultiSorting':\n                    this.grid.allowMultiSorting = this.allowMultiSorting;\n                    break;\n                case 'sortSettings':\n                    this.grid.sortSettings = getActualProperties(this.sortSettings);\n                    break;\n                case 'searchSettings':\n                    this.grid.searchSettings = getActualProperties(this.searchSettings);\n                    break;\n                case 'allowFiltering':\n                    this.grid.allowFiltering = this.allowFiltering;\n                    break;\n                case 'filterSettings':\n                    if (!this.initialRender) {\n                        this.grid.filterSettings = getActualProperties(this.filterSettings);\n                    }\n                    break;\n                case 'showColumnMenu':\n                    this.grid.showColumnMenu = this.showColumnMenu;\n                    break;\n                case 'allowRowDragAndDrop':\n                    this.grid.allowRowDragAndDrop = this.allowRowDragAndDrop;\n                    break;\n                case 'aggregates':\n                    this.grid.aggregates = getActualProperties(this.aggregates);\n                    break;\n                case 'enableInfiniteScrolling':\n                    this.grid.enableInfiniteScrolling = this.enableInfiniteScrolling;\n                    break;\n                case 'dataSource':\n                    this.isLocalData = (!(this.dataSource instanceof DataManager) || (!isNullOrUndefined(this.dataSource.ready))\n                        || this.dataSource.adaptor instanceof RemoteSaveAdaptor);\n                    this.convertTreeData(this.dataSource);\n                    if (this.isLocalData) {\n                        if (isCountRequired(this)) {\n                            var count = getValue('count', this.dataSource);\n                            this.grid.dataSource = { result: this.flatData, count: count };\n                        }\n                        else {\n                            var data = this.dataSource;\n                            this.grid.dataSource = !(data instanceof DataManager) ?\n                                this.flatData : new DataManager(data.dataSource, data.defaultQuery, data.adaptor);\n                        }\n                        if (this.enableVirtualization) {\n                            this.grid.contentModule.isDataSourceChanged = true;\n                        }\n                    }\n                    else {\n                        this.bindedDataSource();\n                        if (this.enableVirtualization) {\n                            this.grid.contentModule.removeEventListener();\n                            this.grid.contentModule.eventListener('on');\n                            this.grid.contentModule.renderTable();\n                        }\n                    }\n                    break;\n                case 'query':\n                    this.grid.query = this.query;\n                    break;\n                case 'enableCollapseAll':\n                    if (newProp[prop]) {\n                        this.collapseAll();\n                    }\n                    else {\n                        this.expandAll();\n                    }\n                    break;\n                case 'expandStateMapping':\n                    this.grid.refresh();\n                    break;\n                case 'gridLines':\n                    this.grid.gridLines = this.gridLines;\n                    break;\n                case 'rowTemplate':\n                    this.grid.rowTemplate = getActualProperties(this.rowTemplate);\n                    break;\n                case 'frozenRows':\n                    this.grid.frozenRows = this.frozenRows;\n                    break;\n                case 'frozenColumns':\n                    this.grid.frozenColumns = this.frozenColumns;\n                    break;\n                case 'rowHeight':\n                    this.grid.rowHeight = this.rowHeight;\n                    break;\n                case 'height':\n                    if (!isNullOrUndefined(this.height) && typeof (this.height) === 'string' && this.height.indexOf('%') !== -1) {\n                        this.element.style.height = this.height;\n                    }\n                    this.grid.height = this.height;\n                    break;\n                case 'width':\n                    if (!isNullOrUndefined(this.width) && typeof (this.width) === 'string' && this.width.indexOf('%') !== -1) {\n                        this.element.style.width = this.width;\n                    }\n                    this.grid.width = this.width;\n                    break;\n                case 'locale':\n                    this.grid.locale = this.locale;\n                    break;\n                case 'selectedRowIndex':\n                    this.grid.selectedRowIndex = this.selectedRowIndex;\n                    break;\n                case 'enableAltRow':\n                    this.grid.enableAltRow = this.enableAltRow;\n                    break;\n                case 'enableHover':\n                    this.grid.enableHover = this.enableHover;\n                    break;\n                case 'enableAutoFill':\n                    this.grid.enableAutoFill = this.enableAutoFill;\n                    break;\n                case 'enableImmutableMode':\n                    this.grid.enableImmutableMode = this.enableImmutableMode;\n                    break;\n                case 'allowExcelExport':\n                    this.grid.allowExcelExport = this.allowExcelExport;\n                    break;\n                case 'allowPdfExport':\n                    this.grid.allowPdfExport = this.allowPdfExport;\n                    break;\n                case 'enableRtl':\n                    this.grid.enableRtl = this.enableRtl;\n                    break;\n                case 'allowReordering':\n                    this.grid.allowReordering = this.allowReordering;\n                    break;\n                case 'allowResizing':\n                    this.grid.allowResizing = this.allowResizing;\n                    break;\n                case 'textWrapSettings':\n                    this.grid.textWrapSettings = getActualProperties(this.textWrapSettings);\n                    break;\n                case 'allowTextWrap':\n                    this.grid.allowTextWrap = getActualProperties(this.allowTextWrap);\n                    this.grid.refresh();\n                    break;\n                case 'contextMenuItems':\n                    this.grid.contextMenuItems = this.getContextMenu();\n                    break;\n                case 'showColumnChooser':\n                    this.grid.showColumnChooser = this.showColumnChooser;\n                    break;\n                case 'detailTemplate':\n                    this.grid.detailTemplate = getActualProperties(this.detailTemplate);\n                    break;\n                case 'columnMenuItems':\n                    this.grid.columnMenuItems = getActualProperties(this.columnMenuItems);\n                    break;\n                case 'editSettings':\n                    if (this.grid.isEdit && this.grid.editSettings.mode === 'Normal' && newProp[prop].mode &&\n                        (newProp[prop].mode === 'Cell' || newProp[prop].mode === 'Row')) {\n                        this.grid.closeEdit();\n                    }\n                    this.grid.editSettings = this.getGridEditSettings();\n                    break;\n            }\n            if (requireRefresh) {\n                this.grid.refresh();\n            }\n        }\n    };\n    /**\n     * Destroys the component (detaches/removes all event handlers, attributes, classes, and empties the component element).\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    TreeGrid.prototype.destroy = function () {\n        this.removeListener();\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n        if (this.grid) {\n            this.grid.destroy();\n        }\n        if (this.dataModule) {\n            this.dataModule.destroy();\n        }\n        var modules = ['dataModule', 'sortModule', 'renderModule', 'filterModule', 'printModule', 'clipboardModule',\n            'excelExportModule', 'pdfExportModule', 'toolbarModule', 'summaryModule', 'reorderModule', 'resizeModule',\n            'pagerModule', 'keyboardModule', 'columnMenuModule', 'contextMenuModule', 'editModule', 'virtualScrollModule',\n            'selectionModule', 'detailRow', 'rowDragAndDropModule', 'freezeModule'];\n        for (var i = 0; i < modules.length; i++) {\n            if (this[modules[i]]) {\n                this[modules[i]] = null;\n            }\n        }\n        this.element.innerHTML = '';\n        this.grid = null;\n    };\n    /**\n     * Update the TreeGrid model\n     *\n     * @method dataBind\n     * @returns {void}\n     * @private\n     */\n    TreeGrid.prototype.dataBind = function () {\n        _super.prototype.dataBind.call(this);\n        this.grid.dataBind();\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Returns persist properties details\n     * @hidden\n     */\n    TreeGrid.prototype.getPersistData = function () {\n        var keyEntity = ['pageSettings', 'sortSettings',\n            'filterSettings', 'columns', 'searchSettings', 'selectedRowIndex'];\n        var ignoreOnPersist = {\n            pageSettings: ['template', 'pageSizes', 'pageSizeMode', 'enableQueryString', 'totalRecordsCount', 'pageCount'],\n            filterSettings: ['type', 'mode', 'showFilterBarStatus', 'immediateModeDelay', 'ignoreAccent', 'hierarchyMode'],\n            searchSettings: ['fields', 'operator', 'ignoreCase'],\n            sortSettings: [], columns: [], selectedRowIndex: []\n        };\n        var ignoreOnColumn = ['filter', 'edit', 'filterBarTemplate', 'headerTemplate', 'template',\n            'commandTemplate', 'commands', 'dataSource'];\n        for (var i = 0; i < keyEntity.length; i++) {\n            var currentObject = this[keyEntity[i]];\n            for (var _i = 0, _a = ignoreOnPersist[keyEntity[i]]; _i < _a.length; _i++) {\n                var val = _a[_i];\n                delete currentObject[val];\n            }\n        }\n        this.ignoreInArrays(ignoreOnColumn, this.columns);\n        return this.addOnPersist(keyEntity);\n    };\n    TreeGrid.prototype.ignoreInArrays = function (ignoreOnColumn, columns) {\n        for (var i = 0; i < columns.length; i++) {\n            if (columns[i].columns) {\n                this.ignoreInColumn(ignoreOnColumn, columns[i]);\n                this.ignoreInArrays(ignoreOnColumn, columns[i].columns);\n            }\n            else {\n                this.ignoreInColumn(ignoreOnColumn, columns[i]);\n            }\n        }\n    };\n    TreeGrid.prototype.ignoreInColumn = function (ignoreOnColumn, column) {\n        for (var i = 0; i < ignoreOnColumn.length; i++) {\n            delete column[ignoreOnColumn[i]];\n            column.filter = {};\n        }\n    };\n    TreeGrid.prototype.mouseClickHandler = function (e) {\n        if (!isNullOrUndefined(e.touches)) {\n            return;\n        }\n        var target = e.target;\n        if ((target.classList.contains('e-treegridexpand') ||\n            target.classList.contains('e-treegridcollapse')) && (!this.isEditCollapse && !this.grid.isEdit)) {\n            this.expandCollapseRequest(target);\n        }\n        this.isEditCollapse = false;\n        this.notify('checkboxSelection', { target: target });\n    };\n    /**\n     * Returns TreeGrid rows\n     *\n     * @returns {HTMLTableRowElement[]} - Returns row elements collection\n     */\n    TreeGrid.prototype.getRows = function () {\n        return this.grid.getRows();\n    };\n    /**\n     * Gets the pager of the TreeGrid.\n     *\n     * @returns {Element} - Returns pager element\n     */\n    TreeGrid.prototype.getPager = function () {\n        return this.grid.getPager(); //get element from pager\n    };\n    /**\n     * Adds a new record to the TreeGrid. Without passing parameters, it adds empty rows.\n     * > `editSettings.allowEditing` should be true.\n     *\n     * @param {Object} data - Defines the new add record data.\n     * @param {number} index - Defines the row index to be added.\n     * @param {RowPosition} position - Defines the new row position to be added.\n     * @returns {void}\n     */\n    TreeGrid.prototype.addRecord = function (data, index, position) {\n        if (this.editModule) {\n            this.editModule.addRecord(data, index, position);\n        }\n    };\n    /**\n     * Cancels edited state.\n     *\n     * @returns {void}\n     */\n    TreeGrid.prototype.closeEdit = function () {\n        if (this.grid.editModule) {\n            this.grid.editModule.closeEdit();\n        }\n    };\n    /**\n     * Saves the cell that is currently edited. It does not save the value to the DataSource.\n     *\n     * @returns {void}\n     */\n    TreeGrid.prototype.saveCell = function () {\n        if (this.grid.editModule) {\n            this.grid.editModule.saveCell();\n        }\n    };\n    /**\n     * To update the specified cell by given value without changing into edited state.\n     *\n     * @param {number} rowIndex Defines the row index.\n     * @param {string} field Defines the column field.\n     * @param {string | number | boolean | Date} value - Defines the value to be changed.\n     * @returns {void}\n     */\n    TreeGrid.prototype.updateCell = function (rowIndex, field, value) {\n        if (this.grid.editModule) {\n            this.grid.editModule.updateCell(rowIndex, field, value);\n        }\n    };\n    /**\n     * To update the specified row by given values without changing into edited state.\n     *\n     * @param {number} index Defines the row index.\n     * @param {Object} data Defines the data object to be updated.\n     * @returns {void}\n     */\n    TreeGrid.prototype.updateRow = function (index, data) {\n        if (this.grid.editModule) {\n            if (!isNullOrUndefined(index)) {\n                var griddata = this.grid.getCurrentViewRecords()[index];\n                extend(griddata, data);\n                this.grid.editModule.updateRow(index, griddata);\n            }\n            else {\n                this.grid.editModule.updateRow(index, data);\n            }\n        }\n    };\n    /**\n     * Delete a record with Given options. If fieldName and data is not given then TreeGrid will delete the selected record.\n     * > `editSettings.allowDeleting` should be true.\n     *\n     * @param {string} fieldName - Defines the primary key field, 'Name of the column'.\n     * @param {Object} data - Defines the JSON data of the record to be deleted.\n     * @returns {void}\n     */\n    TreeGrid.prototype.deleteRecord = function (fieldName, data) {\n        if (this.grid.editModule) {\n            this.grid.editModule.deleteRecord(fieldName, data);\n        }\n    };\n    /**\n     * To edit any particular row by TR element.\n     *\n     * @param {HTMLTableRowElement} row - Defines the table row to be edited.\n     * @returns {void}\n     */\n    TreeGrid.prototype.startEdit = function (row) {\n        if (this.grid.editModule) {\n            this.grid.editModule.startEdit(row);\n        }\n    };\n    /**\n     * To edit any particular cell using row index and cell index.\n     *\n     * @param {number} rowIndex - Defines row index to edit a particular cell.\n     * @param {string} field - Defines the field name of the column to perform cell edit.\n     * @returns {void}\n     */\n    TreeGrid.prototype.editCell = function (rowIndex, field) {\n        if (this.editModule) {\n            this.editModule.editCell(rowIndex, field);\n        }\n    };\n    /**\n     * Enables or disables ToolBar items.\n     *\n     * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n     * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n     * @returns {void}\n     */\n    TreeGrid.prototype.enableToolbarItems = function (items, isEnable) {\n        if (this.grid.toolbarModule) {\n            this.grid.toolbarModule.enableItems(items, isEnable);\n        }\n    };\n    /**\n     * If TreeGrid is in editable state, you can save a record by invoking endEdit.\n     *\n     * @returns {void}\n     */\n    TreeGrid.prototype.endEdit = function () {\n        if (this.grid.editModule) {\n            this.grid.editModule.endEdit();\n        }\n    };\n    /**\n     * Column chooser can be displayed on screen by given position(X and Y axis).\n     *\n     * @param {number} x - Defines the X axis.\n     * @param {number} y - Defines the Y axis.\n     * @returns {void}\n     */\n    TreeGrid.prototype.openColumnChooser = function (x, y) {\n        if (this.columnChooserModule) {\n            this.columnChooserModule.openColumnChooser(x, y);\n        }\n    };\n    /**\n     * Delete any visible row by TR element.\n     *\n     * @param {HTMLTableRowElement} tr - Defines the table row element.\n     * @returns {void}\n     */\n    TreeGrid.prototype.deleteRow = function (tr) {\n        if (this.grid.editModule) {\n            this.grid.editModule.deleteRow(tr);\n        }\n    };\n    /**\n     * Get the names of the primary key columns of the TreeGrid.\n     *\n     * @returns {string[]} - Returns primary key collection\n     */\n    TreeGrid.prototype.getPrimaryKeyFieldNames = function () {\n        return this.grid.getPrimaryKeyFieldNames();\n    };\n    /**\n     * Updates particular cell value based on the given primary key value.\n     * > Primary key column must be specified using `columns.isPrimaryKey` property.\n     *\n     * @param {string| number} key - Specifies the PrimaryKey value of dataSource.\n     * @param {string } field - Specifies the field name which you want to update.\n     * @param {string | number | boolean | Date} value - To update new value for the particular cell.\n     * @returns {void}\n     */\n    TreeGrid.prototype.setCellValue = function (key, field, value) {\n        this.grid.setCellValue(key, field, value);\n        var rowIndex = this.grid.getRowIndexByPrimaryKey(key);\n        var record = this.getCurrentViewRecords()[rowIndex];\n        if (!isNullOrUndefined(record)) {\n            editAction({ value: record, action: 'edit' }, this, this.isSelfReference, record.index, this.grid.selectedRowIndex, field);\n        }\n    };\n    /**\n     * Updates and refresh the particular row values based on the given primary key value.\n     * > Primary key column must be specified using `columns.isPrimaryKey` property.\n     *\n     *  @param {string| number} key - Specifies the PrimaryKey value of dataSource.\n     *  @param {Object} rowData - To update new data for the particular row.\n     * @returns {void}\n     */\n    TreeGrid.prototype.setRowData = function (key, rowData) {\n        var currentRecords = this.getCurrentViewRecords();\n        var primaryKey = this.grid.getPrimaryKeyFieldNames()[0];\n        var level = 0;\n        var record = {};\n        currentRecords.some(function (value) {\n            if (value[primaryKey] === key) {\n                record = value;\n                return true;\n            }\n            else {\n                return false;\n            }\n        });\n        level = record.level;\n        rowData.level = level;\n        rowData.index = record.index;\n        rowData.childRecords = record.childRecords;\n        rowData.taskData = record.taskData;\n        rowData.uniqueID = record.uniqueID;\n        rowData.parentItem = record.parentItem;\n        rowData.checkboxState = record.checkboxState;\n        rowData.hasChildRecords = record.hasChildRecords;\n        rowData.parentUniqueID = record.parentUniqueID;\n        rowData.expanded = record.expanded;\n        this.grid.setRowData(key, rowData);\n    };\n    /**\n     * Navigates to the specified target page.\n     *\n     * @param  {number} pageNo - Defines the page number to navigate.\n     * @returns {void}\n     */\n    TreeGrid.prototype.goToPage = function (pageNo) {\n        if (this.grid.pagerModule) {\n            this.grid.pagerModule.goToPage(pageNo);\n        }\n    };\n    /**\n     * Defines the text of external message.\n     *\n     * @param  {string} message - Defines the message to update.\n     * @returns {void}\n     */\n    TreeGrid.prototype.updateExternalMessage = function (message) {\n        if (this.pagerModule) {\n            this.grid.pagerModule.updateExternalMessage(message);\n        }\n    };\n    /**\n     * Gets a cell by row and column index.\n     *\n     * @param  {number} rowIndex - Specifies the row index.\n     * @param  {number} columnIndex - Specifies the column index.\n     * @returns {Element} - Returns cell element in grid content\n     */\n    TreeGrid.prototype.getCellFromIndex = function (rowIndex, columnIndex) {\n        return this.grid.getCellFromIndex(rowIndex, columnIndex);\n    };\n    /**\n     * Gets a Column by column name.\n     *\n     * @param  {string} field - Specifies the column name.\n     * @returns {Column} - Returns tree grid column\n     */\n    TreeGrid.prototype.getColumnByField = function (field) {\n        return iterateArrayOrObject(this.columnModel, function (item) {\n            if (item.field === field) {\n                return item;\n            }\n            return undefined;\n        })[0];\n    };\n    /**\n     * Gets a column by UID.\n     *\n     * @param  {string} uid - Specifies the column UID.\n     * @returns {Column} - Returns tree grid column\n     */\n    TreeGrid.prototype.getColumnByUid = function (uid) {\n        return iterateArrayOrObject(this.grid.columns, function (item) {\n            if (item.uid === uid) {\n                return item;\n            }\n            return undefined;\n        })[0];\n    };\n    /**\n     * Gets the collection of column fields.\n     *\n     * @returns {string[]} - Returns column field name as collection\n     */\n    TreeGrid.prototype.getColumnFieldNames = function () {\n        return this.grid.getColumnFieldNames();\n    };\n    /**\n     * Gets the footer div of the TreeGrid.\n     *\n     * @returns {Element} - Returns footer content div element\n     */\n    TreeGrid.prototype.getFooterContent = function () {\n        return this.grid.getFooterContent();\n    };\n    /**\n     * Gets the footer table element of the TreeGrid.\n     *\n     * @returns {Element} - Returns footer content table element\n     */\n    TreeGrid.prototype.getFooterContentTable = function () {\n        return this.grid.getFooterContentTable();\n    };\n    /**\n     * Shows a column by its column name.\n     *\n     * @param  {string|string[]} keys - Defines a single or collection of column names.\n     * @param  {string} showBy - Defines the column key either as field name or header text.\n     * @returns {void}\n     */\n    TreeGrid.prototype.showColumns = function (keys, showBy) {\n        this.grid.showColumns(keys, showBy);\n        this.updateColumnModel();\n    };\n    /**\n     * Hides a column by column name.\n     *\n     * @param  {string|string[]} keys - Defines a single or collection of column names.\n     * @param  {string} hideBy - Defines the column key either as field name or header text.\n     * @returns {void}\n     */\n    TreeGrid.prototype.hideColumns = function (keys, hideBy) {\n        this.grid.hideColumns(keys, hideBy);\n        this.updateColumnModel();\n    };\n    /**\n     * Gets a column header by column name.\n     *\n     * @param  {string} field - Specifies the column name.\n     * @returns {Element} - Returns column header element\n     */\n    TreeGrid.prototype.getColumnHeaderByField = function (field) {\n        return this.grid.getColumnHeaderByField(field);\n    };\n    /**\n     * Gets a column header by column index.\n     *\n     * @param  {number} index - Specifies the column index.\n     * @returns {Element} - Returns column header element\n     */\n    TreeGrid.prototype.getColumnHeaderByIndex = function (index) {\n        return this.grid.getColumnHeaderByIndex(index);\n    };\n    /**\n     * Gets a column header by UID.\n     *\n     * @param {string} uid - Specifies the column uid.\n     * @returns {Element} - Returns column header element\n     */\n    TreeGrid.prototype.getColumnHeaderByUid = function (uid) {\n        return this.grid.getColumnHeaderByUid(uid);\n    };\n    /**\n     * Gets a column index by column name.\n     *\n     * @param  {string} field - Specifies the column name.\n     * @returns {number} - Returns column index\n     */\n    TreeGrid.prototype.getColumnIndexByField = function (field) {\n        return this.grid.getColumnIndexByField(field);\n    };\n    /**\n     * Gets a column index by UID.\n     *\n     * @param  {string} uid - Specifies the column UID.\n     * @returns {number} - Returns column index\n     */\n    TreeGrid.prototype.getColumnIndexByUid = function (uid) {\n        return this.grid.getColumnIndexByUid(uid);\n    };\n    /**\n     * Gets the columns from the TreeGrid.\n     *\n     * @param {boolean} isRefresh - Defined whether to update DOM\n     * @returns {Column[]} - Returns treegrid columns collection\n     */\n    TreeGrid.prototype.getColumns = function (isRefresh) {\n        this.updateColumnModel(this.grid.getColumns(isRefresh));\n        return this.columnModel;\n    };\n    TreeGrid.prototype.updateColumnModel = function (column) {\n        var temp;\n        var field;\n        var gridColumns = isNullOrUndefined(column) ? this.grid.getColumns() : column;\n        if (this.treeColumnIndex !== -1 && this.columnModel[this.treeColumnIndex] &&\n            !isNullOrUndefined(this.columnModel[this.treeColumnIndex].template)) {\n            temp = this.columnModel[this.treeColumnIndex].template;\n            field = this.columnModel[this.treeColumnIndex].field;\n        }\n        this.columnModel = [];\n        var stackedHeader = false;\n        var gridColumn;\n        for (var i = 0; i < gridColumns.length; i++) {\n            gridColumn = {};\n            for (var _i = 0, _a = Object.keys(gridColumns[i]); _i < _a.length; _i++) {\n                var prop = _a[_i];\n                gridColumn[prop] = gridColumns[i][prop];\n            }\n            this.columnModel.push(new Column(gridColumn));\n            if (field === this.columnModel[i].field && (!isNullOrUndefined(temp) && temp !== '')) {\n                this.columnModel[i].template = temp;\n            }\n        }\n        var merge = 'deepMerge';\n        this[merge] = ['columns']; // Workaround for blazor updateModel\n        if (this.grid.columns.length !== this.columnModel.length) {\n            stackedHeader = true;\n        }\n        if (!stackedHeader) {\n            this.setProperties({ columns: this.columnModel }, true);\n        }\n        this[merge] = undefined; // Workaround for blazor updateModel\n        return this.columnModel;\n    };\n    /**\n     * Gets the content div of the TreeGrid.\n     *\n     * @returns {Element} - Return tree grid content element\n     */\n    TreeGrid.prototype.getContent = function () {\n        return this.grid.getContent();\n    };\n    TreeGrid.prototype.mergePersistTreeGridData = function () {\n        var persist1 = 'mergePersistGridData';\n        this.grid[persist1].apply(this);\n    };\n    TreeGrid.prototype.mergeColumns = function (storedColumn, columns) {\n        var persist2 = 'mergeColumns';\n        this.grid[persist2].apply(this, [storedColumn, columns]);\n    };\n    TreeGrid.prototype.updateTreeGridModel = function () {\n        this.setProperties({ filterSettings: getObject('properties', this.grid.filterSettings) }, true);\n        this.setProperties({ pageSettings: getObject('properties', this.grid.pageSettings) }, true);\n        this.setProperties({ searchSettings: getObject('properties', this.grid.searchSettings) }, true);\n        this.setProperties({ sortSettings: getObject('properties', this.grid.sortSettings) }, true);\n    };\n    /**\n     * Gets the content table of the TreeGrid.\n     *\n     * @returns {Element} - Returns content table element\n     */\n    TreeGrid.prototype.getContentTable = function () {\n        return this.grid.getContentTable();\n    };\n    /**\n     * Gets all the TreeGrid's data rows.\n     *\n     * @returns {Element[]} - Returns row elements\n     */\n    TreeGrid.prototype.getDataRows = function () {\n        var dRows = [];\n        var rows = this.grid.getDataRows();\n        for (var i = 0, len = rows.length; i < len; i++) {\n            if (!rows[i].classList.contains('e-summaryrow')) {\n                dRows.push(rows[i]);\n            }\n        }\n        return dRows;\n    };\n    /**\n     * Get current visible data of TreeGrid.\n     *\n     * @returns {Object[]} - Returns current view records\n     * @isGenericType true\n     */\n    TreeGrid.prototype.getCurrentViewRecords = function () {\n        return this.grid.currentViewData;\n    };\n    /**\n     * Gets the added, edited,and deleted data before bulk save to the DataSource in batch mode.\n     *\n     * @returns {Object} - Returns batch changes\n     */\n    TreeGrid.prototype.getBatchChanges = function () {\n        return this.grid.editModule.getBatchChanges();\n    };\n    /**\n     * Gets the header div of the TreeGrid.\n     *\n     * @returns {Element} - Returns Header content element\n     */\n    TreeGrid.prototype.getHeaderContent = function () {\n        return this.grid.getHeaderContent();\n    };\n    /**\n     * Gets the header table element of the TreeGrid.\n     *\n     * @returns {Element} - Return header table element\n     */\n    TreeGrid.prototype.getHeaderTable = function () {\n        return this.grid.getHeaderTable();\n    };\n    /**\n     * Gets a row by index.\n     *\n     * @param  {number} index - Specifies the row index.\n     * @returns {Element} - Returns row element\n     */\n    TreeGrid.prototype.getRowByIndex = function (index) {\n        return this.grid.getRowByIndex(index);\n    };\n    /**\n     * Get a row information based on cell\n     *\n     * @param {Element | EventTarget} target - Target row element\n     * @returns {RowInfo} - Returns row information in a JSON object\n     */\n    TreeGrid.prototype.getRowInfo = function (target) {\n        return this.grid.getRowInfo(target);\n    };\n    /**\n     * Gets UID by column name.\n     *\n     * @param  {string} field - Specifies the column name.\n     * @returns {string} - Returns unique id based on column field name given\n     */\n    TreeGrid.prototype.getUidByColumnField = function (field) {\n        return this.grid.getUidByColumnField(field);\n    };\n    /**\n     * Gets the visible columns from the TreeGrid.\n     *\n     * @returns {Column[]} - Returns visible columns collection\n     */\n    TreeGrid.prototype.getVisibleColumns = function () {\n        var cols = [];\n        for (var _i = 0, _a = this.columnModel; _i < _a.length; _i++) {\n            var col = _a[_i];\n            if (col.visible) {\n                cols.push(col);\n            }\n        }\n        return cols;\n    };\n    /**\n     * By default, TreeGrid shows the spinner for all its actions. You can use this method to show spinner at your needed time.\n     *\n     * @returns {void}\n     */\n    TreeGrid.prototype.showSpinner = function () {\n        showSpinner(this.element);\n    };\n    /**\n     * Manually shown spinner needs to hide by `hideSpinnner`.\n     *\n     * @returns {void}\n     */\n    TreeGrid.prototype.hideSpinner = function () {\n        hideSpinner(this.element);\n    };\n    /**\n     * Refreshes the TreeGrid header and content.\n     *\n     * @returns {void}\n     */\n    TreeGrid.prototype.refresh = function () {\n        this.uniqueIDCollection = {};\n        this.convertTreeData(this.dataSource);\n        if (!isCountRequired(this)) {\n            this.grid.dataSource = !(this.dataSource instanceof DataManager) ? this.flatData :\n                new DataManager(this.dataSource.dataSource, this.dataSource.defaultQuery, this.dataSource.adaptor);\n        }\n        this.grid.refresh();\n    };\n    /**\n     * Get the records of checked rows.\n     *\n     * @returns {Object[]} - Returns records that has been checked\n     * @isGenericType true\n     */\n    TreeGrid.prototype.getCheckedRecords = function () {\n        return this.selectionModule.getCheckedrecords();\n    };\n    /**\n     * Get the visible records corresponding to rows visually displayed.\n     *\n     * @returns {Object[]} - Returns visible records based on collapse state of rows\n     * @isGenericType true\n     */\n    TreeGrid.prototype.getVisibleRecords = function () {\n        var visibleRecords = [];\n        var currentViewRecords = this.getCurrentViewRecords();\n        if (!this.allowPaging) {\n            for (var i = 0; i < currentViewRecords.length; i++) {\n                visibleRecords.push(currentViewRecords[i]);\n                if (!currentViewRecords[i].expanded) {\n                    i += findChildrenRecords(currentViewRecords[i]).length;\n                }\n            }\n        }\n        else {\n            visibleRecords = currentViewRecords;\n        }\n        return visibleRecords;\n    };\n    /**\n     * Get the indexes of checked rows.\n     *\n     * @returns {number[]} - Returns checked row indexes\n     */\n    TreeGrid.prototype.getCheckedRowIndexes = function () {\n        return this.selectionModule.getCheckedRowIndexes();\n    };\n    /**\n     * Checked the checkboxes using rowIndexes.\n     *\n     * @param {number[]} indexes - row indexes\n     * @returns {void}\n     */\n    TreeGrid.prototype.selectCheckboxes = function (indexes) {\n        this.selectionModule.selectCheckboxes(indexes);\n    };\n    /**\n     * Refreshes the TreeGrid column changes.\n     *\n     * @param {boolean} refreshUI - Defined whether to refresh the DOM\n     * @returns {void}\n     */\n    TreeGrid.prototype.refreshColumns = function (refreshUI) {\n        if (isNullOrUndefined(refreshUI) || refreshUI) {\n            this.grid.columns = this.getGridColumns(this.columns);\n            this.grid.refreshColumns();\n        }\n        else {\n            this.grid.setProperties({ columns: this.getGridColumns(this.columns) }, true);\n        }\n    };\n    /**\n     * Refreshes the TreeGrid header.\n     *\n     * @returns {void}\n     */\n    TreeGrid.prototype.refreshHeader = function () {\n        this.grid.refreshHeader();\n    };\n    /**\n     * Expands or collapse child records\n     *\n     * @param {HTMLElement} target - Expand collapse icon cell as target element\n     * @returns {void}\n     * @hidden\n     */\n    TreeGrid.prototype.expandCollapseRequest = function (target) {\n        if (this.editSettings.mode === 'Batch') {\n            var obj = 'dialogObj';\n            var showDialog = 'showDialog';\n            if (this.getBatchChanges()[this.changedRecords].length ||\n                this.getBatchChanges()[this.deletedRecords].length || this.getBatchChanges()[this.addedRecords].length) {\n                var dialogObj = this.grid.editModule[obj];\n                this.grid.editModule[showDialog]('CancelEdit', dialogObj);\n                this.targetElement = target;\n                return;\n            }\n        }\n        if (this.rowTemplate) {\n            var rowInfo = target.closest('.e-treerowcell').parentElement;\n            var record = this.getCurrentViewRecords()[rowInfo.rowIndex];\n            if (target.classList.contains('e-treegridexpand')) {\n                this.collapseRow(rowInfo, record);\n            }\n            else {\n                this.expandRow(rowInfo, record);\n            }\n        }\n        else {\n            var rowInfo = this.grid.getRowInfo(target);\n            var record = rowInfo.rowData;\n            if (this.enableImmutableMode) {\n                record = this.getCurrentViewRecords()[rowInfo.rowIndex];\n            }\n            if (target.classList.contains('e-treegridexpand')) {\n                this.collapseRow(rowInfo.row, record);\n            }\n            else {\n                this.expandRow(rowInfo.row, record);\n            }\n        }\n    };\n    /**\n     * Expands child rows\n     *\n     * @param {HTMLTableRowElement} row - Expands the given row\n     * @param {Object} record - Expands the given record\n     * @returns {void}\n     */\n    TreeGrid.prototype.expandRow = function (row, record) {\n        var _this = this;\n        record = this.getCollapseExpandRecords(row, record);\n        if (!isNullOrUndefined(row) && row.cells[0].classList.contains('e-lastrowcell')) {\n            this.lastRowBorder(row, false);\n        }\n        var args = { data: record, row: row, cancel: false };\n        this.trigger(events.expanding, args, function (expandingArgs) {\n            if (!expandingArgs.cancel) {\n                _this.expandCollapse('expand', row, record);\n                var children = 'Children';\n                if (!(isRemoteData(_this) && !isOffline(_this)) && (!isCountRequired(_this) || !isNullOrUndefined(record[children]))) {\n                    var collapseArgs = { data: record, row: row };\n                    _this.setHeightForFrozenContent();\n                    _this.trigger(events.expanded, collapseArgs);\n                }\n            }\n        });\n    };\n    TreeGrid.prototype.setHeightForFrozenContent = function () {\n        if (this.grid.getFrozenColumns() > 0) {\n            this.grid.contentModule.refreshScrollOffset();\n        }\n    };\n    TreeGrid.prototype.getCollapseExpandRecords = function (row, record) {\n        if (this.allowPaging && this.pageSettings.pageSizeMode === 'All' && this.isExpandAll && isNullOrUndefined(record) &&\n            !isRemoteData(this)) {\n            record = this.flatData.filter(function (e) {\n                return e.hasChildRecords;\n            });\n        }\n        else if (isNullOrUndefined(record)) {\n            record = this.grid.getCurrentViewRecords()[row.rowIndex];\n        }\n        return record;\n    };\n    /**\n     * Collapses child rows\n     *\n     * @param {HTMLTableRowElement} row - Collapse the given row\n     * @param {Object} record - Collapse the given record\n     * @returns {void}\n     */\n    TreeGrid.prototype.collapseRow = function (row, record) {\n        var _this = this;\n        record = this.getCollapseExpandRecords(row, record);\n        var args = { data: record, row: row, cancel: false };\n        this.trigger(events.collapsing, args, function (collapsingArgs) {\n            if (!collapsingArgs.cancel) {\n                _this.expandCollapse('collapse', row, record);\n                var collapseArgs = { data: record, row: row };\n                if (!isRemoteData(_this)) {\n                    _this.setHeightForFrozenContent();\n                    _this.trigger(events.collapsed, collapseArgs);\n                    if (_this.enableInfiniteScrolling) {\n                        var scrollHeight = _this.grid.getContent().firstElementChild.scrollHeight;\n                        var scrollTop = _this.grid.getContent().firstElementChild.scrollTop;\n                        if ((scrollHeight - scrollTop) < _this.grid.getRowHeight() + +_this.height) {\n                            _this.grid.getContent().firstElementChild.scrollBy(0, _this.grid.getRowHeight());\n                        }\n                    }\n                }\n            }\n        });\n    };\n    /**\n     * Expands the records at specific hierarchical level\n     *\n     * @param {number} level - Expands the parent rows at given level\n     * @returns {void}\n     */\n    TreeGrid.prototype.expandAtLevel = function (level) {\n        if (((this.allowPaging && this.pageSettings.pageSizeMode === 'All') || this.enableVirtualization) && !isRemoteData(this)) {\n            var rec = this.grid.dataSource.filter(function (e) {\n                if (e.hasChildRecords && e.level === level) {\n                    e.expanded = true;\n                }\n                return e.hasChildRecords && e.level === level;\n            });\n            this.expandRow(null, rec);\n        }\n        else {\n            var rec = this.getRecordDetails(level);\n            var row = getObject('rows', rec);\n            var record = getObject('records', rec);\n            for (var i = 0; i < record.length; i++) {\n                this.expandRow(row[i], record[i]);\n            }\n        }\n    };\n    TreeGrid.prototype.getRecordDetails = function (level) {\n        var rows = this.getRows().filter(function (e) {\n            return (e.className.indexOf('level' + level) !== -1\n                && (e.querySelector('.e-treegridcollapse') || e.querySelector('.e-treegridexpand')));\n        });\n        var records = this.getCurrentViewRecords().filter(function (e) {\n            return e.level === level && e.hasChildRecords;\n        });\n        var obj = { records: records, rows: rows };\n        return obj;\n    };\n    /**\n     * Collapses the records at specific hierarchical level\n     *\n     * @param {number} level - Define the parent row level which needs to be collapsed\n     * @returns {void}\n     */\n    TreeGrid.prototype.collapseAtLevel = function (level) {\n        if (((this.allowPaging && this.pageSettings.pageSizeMode === 'All') || this.enableVirtualization) && !isRemoteData(this)) {\n            var record = this.grid.dataSource.filter(function (e) {\n                if (e.hasChildRecords && e.level === level) {\n                    e.expanded = false;\n                }\n                return e.hasChildRecords && e.level === level;\n            });\n            this.collapseRow(null, record);\n        }\n        else {\n            var rec = this.getRecordDetails(level);\n            var rows = getObject('rows', rec);\n            var records = getObject('records', rec);\n            for (var i = 0; i < records.length; i++) {\n                this.collapseRow(rows[i], records[i]);\n            }\n        }\n        if (!this.grid.contentModule.isDataSourceChanged && this.enableVirtualization && this.getRows()\n            && this.parentData.length === this.getRows().length) {\n            var endIndex = 'endIndex';\n            this.grid.contentModule.startIndex = -1;\n            this.grid.contentModule[endIndex] = -1;\n        }\n    };\n    /**\n     * Expands All the rows\n     *\n     * @returns {void}\n     */\n    TreeGrid.prototype.expandAll = function () {\n        this.expandCollapseAll('expand');\n    };\n    /**\n     * Collapses All the rows\n     *\n     * @returns {void}\n     */\n    TreeGrid.prototype.collapseAll = function () {\n        this.expandCollapseAll('collapse');\n    };\n    TreeGrid.prototype.expandCollapseAll = function (action) {\n        var rows = this.getRows().filter(function (e) {\n            return e.querySelector('.e-treegrid' + (action === 'expand' ? 'collapse' : 'expand'));\n        });\n        if (!rows.length && this.getRows().length) {\n            rows.push(this.getRows()[0]);\n        }\n        this.isExpandAll = true;\n        this.isCollapseAll = true;\n        if (((this.allowPaging && this.pageSettings.pageSizeMode === 'All') || this.enableVirtualization) && !isRemoteData(this)) {\n            this.flatData.filter(function (e) {\n                if (e.hasChildRecords) {\n                    e.expanded = action === 'collapse' ? false : true;\n                }\n            });\n            if (rows.length) {\n                if (action === 'collapse') {\n                    this.collapseRow(rows[0]);\n                }\n                else {\n                    this.expandRow(rows[0]);\n                }\n            }\n            else if (this.allowPaging) {\n                var isExpandCollapseall = this.enableCollapseAll;\n                this.setProperties({ enableCollapseAll: true }, true);\n                this.grid.pagerModule.goToPage(1);\n                this.setProperties({ enableCollapseAll: isExpandCollapseall }, true);\n            }\n        }\n        else {\n            for (var i = 0; i < rows.length; i++) {\n                if (action === 'collapse') {\n                    this.collapseRow(rows[i]);\n                }\n                else {\n                    this.expandRow(rows[i]);\n                }\n            }\n        }\n        this.isExpandAll = false;\n        this.isCollapseAll = false;\n    };\n    TreeGrid.prototype.expandCollapse = function (action, row, record, isChild) {\n        var expandingArgs = { row: row, data: record, childData: [], requestType: action };\n        var childRecords = this.getCurrentViewRecords().filter(function (e) {\n            return e.parentUniqueID === record.uniqueID;\n        });\n        var targetEle;\n        if (!isRemoteData(this) && action === 'expand' && this.isSelfReference && isCountRequired(this) && !childRecords.length) {\n            this.updateChildOnDemand(expandingArgs);\n        }\n        var gridRows = this.getRows();\n        if (this.rowTemplate) {\n            var rows = this.getContentTable().rows;\n            gridRows = [].slice.call(rows);\n        }\n        var rowIndex;\n        if (isNullOrUndefined(row)) {\n            rowIndex = this.getCurrentViewRecords().indexOf(record);\n            row = gridRows[rowIndex];\n        }\n        else {\n            rowIndex = +row.getAttribute('aria-rowindex');\n        }\n        if (!isNullOrUndefined(row)) {\n            row.setAttribute('aria-expanded', action === 'expand' ? 'true' : 'false');\n        }\n        if (((this.allowPaging && this.pageSettings.pageSizeMode === 'All') || this.enableVirtualization) && !isRemoteData(this)\n            && !isCountRequired(this)) {\n            this.notify(events.localPagedExpandCollapse, { action: action, row: row, record: record });\n        }\n        else {\n            var displayAction = void 0;\n            if (action === 'expand') {\n                displayAction = 'table-row';\n                if (!isChild) {\n                    record.expanded = true;\n                    this.uniqueIDCollection[record.uniqueID].expanded = record.expanded;\n                }\n                if (!isNullOrUndefined(row)) {\n                    targetEle = row.getElementsByClassName('e-treegridcollapse')[0];\n                }\n                if (isChild && !isNullOrUndefined(record[this.expandStateMapping]) &&\n                    record[this.expandStateMapping] && isNullOrUndefined(targetEle)) {\n                    targetEle = row.getElementsByClassName('e-treegridexpand')[0];\n                }\n                if (isNullOrUndefined(targetEle)) {\n                    return;\n                }\n                if (!targetEle.classList.contains('e-treegridexpand')) {\n                    addClass([targetEle], 'e-treegridexpand');\n                }\n                removeClass([targetEle], 'e-treegridcollapse');\n            }\n            else {\n                displayAction = 'none';\n                if (!isChild || isCountRequired(this)) {\n                    record.expanded = false;\n                    this.uniqueIDCollection[record.uniqueID].expanded = record.expanded;\n                }\n                if (!isNullOrUndefined(row)) {\n                    targetEle = row.getElementsByClassName('e-treegridexpand')[0];\n                }\n                if (isChild && !isNullOrUndefined(record[this.expandStateMapping]) &&\n                    !record[this.expandStateMapping] && isNullOrUndefined(targetEle)) {\n                    targetEle = row.getElementsByClassName('e-treegridcollapse')[0];\n                }\n                if (isNullOrUndefined(targetEle)) {\n                    return;\n                }\n                if (!targetEle.classList.contains('e-treegridcollapse')) {\n                    addClass([targetEle], 'e-treegridcollapse');\n                }\n                removeClass([targetEle], 'e-treegridexpand');\n            }\n            var detailrows = gridRows.filter(function (r) {\n                return r.classList.contains('e-griddetailrowindex' + record.index + 'level' + (record.level + 1));\n            });\n            if (isRemoteData(this) && !isOffline(this)) {\n                this.remoteExpand(action, row, record);\n            }\n            else {\n                if ((!isCountRequired(this) || childRecords.length) || action === 'collapse') {\n                    this.localExpand(action, row, record);\n                }\n            }\n            if (this.isPixelHeight() && !row.cells[0].classList.contains('e-lastrowcell')) {\n                var totalRows = this.getRows();\n                var rows = this.getContentTable().rows;\n                totalRows = [].slice.call(rows);\n                for (var i = totalRows.length - 1; i > 0; i--) {\n                    if (!isHidden(totalRows[i])) {\n                        var table = this.getContentTable();\n                        var sHeight = table.scrollHeight;\n                        var clientHeight = this.getContent().clientHeight;\n                        this.lastRowBorder(totalRows[i], sHeight <= clientHeight);\n                        break;\n                    }\n                }\n            }\n            this.notify('rowExpandCollapse', { detailrows: detailrows, action: displayAction, record: record, row: row });\n            this.updateAltRow(gridRows);\n        }\n    };\n    TreeGrid.prototype.updateChildOnDemand = function (expandingArgs) {\n        var _this = this;\n        var deff = new Deferred();\n        var childDataBind = 'childDataBind';\n        expandingArgs[childDataBind] = deff.resolve;\n        var record = expandingArgs.data;\n        this.trigger(events.dataStateChange, expandingArgs);\n        deff.promise.then(function () {\n            if (expandingArgs.childData.length) {\n                var currentData = (_this.flatData);\n                var index = 0;\n                for (var i = 0; i < currentData.length; i++) {\n                    if (currentData[i].taskData === record.taskData) {\n                        index = i;\n                        break;\n                    }\n                }\n                var data_1 = getValue('result', _this.dataSource);\n                var childData = extendArray(expandingArgs.childData);\n                var length_1 = record[_this.childMapping] ? record[_this.childMapping].length > childData.length ?\n                    record[_this.childMapping].length : childData.length : childData.length;\n                for (var i = 0; i < length_1; i++) {\n                    if (record[_this.childMapping]) {\n                        data_1.filter(function (e, i) {\n                            if (e[_this.parentIdMapping] === record[_this.idMapping]) {\n                                data_1.splice(i, 1);\n                            }\n                        });\n                    }\n                    if (childData[i]) {\n                        childData[i].level = record.level + 1;\n                        childData[i].index = Math.ceil(Math.random() * 1000);\n                        childData[i].parentItem = extend({}, record);\n                        childData[i].taskData = extend({}, childData[i]);\n                        delete childData[i].parentItem.childRecords;\n                        delete childData[i].taskData.parentItem;\n                        childData[i].parentUniqueID = record.uniqueID;\n                        childData[i].uniqueID = getUid(_this.element.id + '_data_');\n                        setValue('uniqueIDCollection.' + childData[i].uniqueID, childData[i], _this);\n                        if (!isNullOrUndefined(childData[i][_this.childMapping]) ||\n                            (childData[i][_this.hasChildMapping] && isCountRequired(_this))) {\n                            childData[i].hasChildRecords = true;\n                        }\n                        currentData.splice(index + 1 + i, record[_this.childMapping] && record[_this.childMapping][i] ? 1 : 0, childData[i]);\n                    }\n                    else {\n                        currentData.splice(index + 1 + i, 1);\n                    }\n                }\n                currentData[index][_this.childMapping] = childData;\n                currentData[index].childRecords = childData;\n                currentData[index].expanded = true;\n                setValue('uniqueIDCollection.' + currentData[index].uniqueID, currentData[index], _this);\n                for (var j = 0; j < expandingArgs.childData.length; j++) {\n                    data_1.push(expandingArgs.childData[j]);\n                }\n            }\n            _this.isExpandRefresh = true;\n            _this.grid.refresh();\n            _this.setHeightForFrozenContent();\n            _this.trigger(events.expanded, expandingArgs);\n        });\n    };\n    TreeGrid.prototype.remoteExpand = function (action, row, record) {\n        var gridRows = this.getRows();\n        if (this.rowTemplate) {\n            var rows_1 = this.getContentTable().rows;\n            gridRows = [].slice.call(rows_1);\n        }\n        var args = { data: record, row: row };\n        var rows = [];\n        rows = gridRows.filter(function (r) {\n            return r.querySelector('.e-gridrowindex' + record.index + 'level' + (record.level + 1));\n        });\n        if (action === 'expand') {\n            this.notify(events.remoteExpand, { record: record, rows: rows, parentRow: row });\n            var args_1 = { row: row, data: record };\n            if (rows.length > 0) {\n                this.setHeightForFrozenContent();\n                this.trigger(events.expanded, args_1);\n            }\n        }\n        else {\n            this.collapseRemoteChild({ record: record, rows: rows });\n            this.setHeightForFrozenContent();\n            this.trigger(events.collapsed, args);\n        }\n    };\n    TreeGrid.prototype.localExpand = function (action, row, record) {\n        var rows;\n        var childRecords = this.getCurrentViewRecords().filter(function (e) {\n            return e.parentUniqueID === record.uniqueID;\n        });\n        if (this.isPixelHeight() && row.cells[0].classList.contains('e-lastrowcell')) {\n            this.lastRowBorder(row, false);\n        }\n        var movableRows;\n        var gridRows = this.getRows();\n        if (this.rowTemplate) {\n            var rows_2 = this.getContentTable().rows;\n            gridRows = [].slice.call(rows_2);\n        }\n        var displayAction = (action === 'expand') ? 'table-row' : 'none';\n        var primaryKeyField = this.getPrimaryKeyFieldNames()[0];\n        if (this.enableImmutableMode && !this.allowPaging) {\n            rows = [];\n            for (var i = 0; i < childRecords.length; i++) {\n                var rowIndex = this.grid.getRowIndexByPrimaryKey(childRecords[i][primaryKeyField]);\n                rows.push(this.getRows()[rowIndex]);\n            }\n        }\n        else {\n            rows = gridRows.filter(function (r) {\n                return r.querySelector('.e-gridrowindex' + record.index + 'level' + (record.level + 1));\n            });\n        }\n        if (this.frozenRows || this.frozenColumns || this.getFrozenColumns()) {\n            movableRows = this.getMovableRows().filter(function (r) {\n                return r.querySelector('.e-gridrowindex' + record.index + 'level' + (record.level + 1));\n            });\n        }\n        for (var i = 0; i < rows.length; i++) {\n            if (!isNullOrUndefined(rows[i])) {\n                rows[i].style.display = displayAction;\n            }\n            if (!isNullOrUndefined(movableRows)) {\n                movableRows[i].style.display = displayAction;\n            }\n            this.notify('childRowExpand', { row: rows[i] });\n            if (!isNullOrUndefined(childRecords[i].childRecords) && (action !== 'expand' ||\n                isNullOrUndefined(childRecords[i].expanded) || childRecords[i].expanded)) {\n                this.expandCollapse(action, rows[i], childRecords[i], true);\n                if (this.frozenColumns <= this.treeColumnIndex && !isNullOrUndefined(movableRows)) {\n                    this.expandCollapse(action, movableRows[i], childRecords[i], true);\n                }\n            }\n        }\n    };\n    TreeGrid.prototype.updateAltRow = function (rows) {\n        if (this.enableAltRow && !this.rowTemplate) {\n            var visibleRowCount = 0;\n            for (var i = 0; rows && i < rows.length; i++) {\n                var gridRow = rows[i];\n                if (gridRow.style.display !== 'none') {\n                    if (gridRow.classList.contains('e-altrow')) {\n                        removeClass([gridRow], 'e-altrow');\n                    }\n                    if (visibleRowCount % 2 !== 0 && !gridRow.classList.contains('e-summaryrow') && !gridRow.classList.contains('e-detailrow')) {\n                        addClass([gridRow], 'e-altrow');\n                    }\n                    if (!gridRow.classList.contains('e-summaryrow') && !gridRow.classList.contains('e-detailrow')) {\n                        visibleRowCount++;\n                    }\n                }\n            }\n        }\n    };\n    TreeGrid.prototype.treeColumnRowTemplate = function () {\n        if (this.rowTemplate) {\n            var rows = this.getContentTable().rows;\n            rows = [].slice.call(rows);\n            for (var i = 0; i < rows.length; i++) {\n                var rcell = this.grid.getContentTable().rows[i].cells[this.treeColumnIndex];\n                var row = rows[i];\n                var rowData = this.grid.getRowsObject()[i].data;\n                var arg = { data: rowData, row: row, cell: rcell, column: this.getColumns()[this.treeColumnIndex] };\n                this.renderModule.cellRender(arg);\n            }\n        }\n    };\n    TreeGrid.prototype.collapseRemoteChild = function (rowDetails, isChild) {\n        if (!isChild) {\n            rowDetails.record.expanded = false;\n        }\n        var rows = rowDetails.rows;\n        var childRecord;\n        for (var i = 0; i < rows.length; i++) {\n            rows[i].style.display = 'none';\n            var collapsingTd = rows[i].querySelector('.e-detailrowexpand');\n            if (!isNullOrUndefined(collapsingTd)) {\n                this.grid.detailRowModule.collapse(collapsingTd);\n            }\n            if (rows[i].querySelector('.e-treecolumn-container .e-treegridexpand')) {\n                var expandElement = rows[i].querySelector('.e-treecolumn-container .e-treegridexpand');\n                childRecord = this.rowTemplate ? this.grid.getCurrentViewRecords()[rows[i].rowIndex] :\n                    this.grid.getRowObjectFromUID(rows[i].getAttribute('data-Uid')).data;\n                if (!isNullOrUndefined(expandElement) && childRecord.expanded) {\n                    removeClass([expandElement], 'e-treegridexpand');\n                    addClass([expandElement], 'e-treegridcollapse');\n                }\n                var cRow = [];\n                var eRows = this.getRows();\n                for (var i_1 = 0; i_1 < eRows.length; i_1++) {\n                    if (eRows[i_1].querySelector('.e-gridrowindex' + childRecord.index + 'level' + (childRecord.level + 1))) {\n                        cRow.push(eRows[i_1]);\n                    }\n                }\n                if (cRow.length && childRecord.expanded) {\n                    this.collapseRemoteChild({ record: childRecord, rows: cRow }, true);\n                }\n            }\n        }\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    TreeGrid.prototype.addListener = function () {\n        this.on('updateResults', this.updateResultModel, this);\n        this.grid.on('initial-end', this.afterGridRender, this);\n    };\n    TreeGrid.prototype.updateResultModel = function (returnResult) {\n        this.dataResults = returnResult;\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    TreeGrid.prototype.removeListener = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        this.off('updateResults', this.updateResultModel);\n        this.grid.off('initial-end', this.afterGridRender);\n    };\n    /**\n     * Filters TreeGrid row by column name with the given options.\n     *\n     * @param  {string} fieldName - Defines the field name of the column.\n     * @param  {string} filterOperator - Defines the operator to filter records.\n     * @param  {string | number | Date | boolean} filterValue - Defines the value used to filter records.\n     * @param  {string} predicate - Defines the relationship between one filter query and another by using AND or OR predicate.\n     * @param  {boolean} matchCase - If match case is set to true, the TreeGrid filters the records with exact match. if false, it filters\n     * case insensitive records (uppercase and lowercase letters are treated the same).\n     * @param  {boolean} ignoreAccent - If ignoreAccent is set to true,\n     * then filter ignores diacritic characters or accents while filtering.\n     * @param  {string} actualFilterValue - Defines the actual filter value for filter column.\n     * @param  {string} actualOperator - Defines the actual filter operator for filter column.\n     * @returns {void}\n     */\n    TreeGrid.prototype.filterByColumn = function (fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent, actualFilterValue, actualOperator) {\n        this.grid.filterByColumn(fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent, actualFilterValue, actualOperator);\n    };\n    /**\n     * Clears all the filtered rows of the TreeGrid.\n     *\n     * @returns {void}\n     */\n    TreeGrid.prototype.clearFiltering = function () {\n        this.grid.clearFiltering();\n    };\n    /**\n     * Removes filtered column by field name.\n     *\n     * @param  {string} field - Defines column field name to remove filter.\n     * @param  {boolean} isClearFilterBar -  Specifies whether the filter bar value needs to be cleared.\n     * @returns {void}\n     * @hidden\n     */\n    TreeGrid.prototype.removeFilteredColsByField = function (field, isClearFilterBar) {\n        this.grid.removeFilteredColsByField(field, isClearFilterBar);\n    };\n    /**\n     * Selects a row by given index.\n     *\n     * @param  {number} index - Defines the row index.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void}\n     */\n    TreeGrid.prototype.selectRow = function (index, isToggle) {\n        this.grid.selectRow(index, isToggle);\n    };\n    /**\n     * Selects a collection of rows by indexes.\n     *\n     * @param  {number[]} rowIndexes - Specifies the row indexes.\n     * @returns {void}\n     */\n    TreeGrid.prototype.selectRows = function (rowIndexes) {\n        this.grid.selectRows(rowIndexes);\n    };\n    /**\n     * Deselects the current selected rows and cells.\n     *\n     * @returns {void}\n     */\n    TreeGrid.prototype.clearSelection = function () {\n        this.grid.clearSelection();\n    };\n    /**\n     * Copy the selected rows or cells data into clipboard.\n     *\n     * @param {boolean} withHeader - Specifies whether the column header text needs to be copied along with rows or cells.\n     * @returns {void}\n     */\n    TreeGrid.prototype.copy = function (withHeader) {\n        this.clipboardModule.copy(withHeader);\n    };\n    /**\n     * Paste data from clipboard to selected cells.\n     *\n     * @param {boolean} data - Specifies the date for paste.\n     * @param {boolean} rowIndex - Specifies the row index.\n     * @param {boolean} colIndex - Specifies the column index.\n     * @returns {void}\n     */\n    TreeGrid.prototype.paste = function (data, rowIndex, colIndex) {\n        this.clipboardModule.paste(data, rowIndex, colIndex);\n    };\n    /**\n     * Selects a cell by the given index.\n     *\n     * @param  {IIndex} cellIndex - Defines the row and column indexes.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void}\n     */\n    TreeGrid.prototype.selectCell = function (cellIndex, isToggle) {\n        this.grid.selectCell(cellIndex, isToggle);\n    };\n    /**\n     * Gets the collection of selected rows.\n     *\n     * @returns {Element[]} - Returns selected row elements collection\n     */\n    TreeGrid.prototype.getSelectedRows = function () {\n        return this.grid.getSelectedRows();\n    };\n    /**\n     * Gets a movable table cell by row and column index.\n     *\n     * @param  {number} rowIndex - Specifies the row index.\n     * @param  {number} columnIndex - Specifies the column index.\n     * @returns {Element} - Returns movable cell element from the indexes passed\n     */\n    TreeGrid.prototype.getMovableCellFromIndex = function (rowIndex, columnIndex) {\n        return this.grid.getMovableCellFromIndex(rowIndex, columnIndex);\n    };\n    /**\n     * Gets all the TreeGrid's movable table data rows.\n     *\n     * @returns {Element[]} - Returns element collection of movable rows\n     */\n    TreeGrid.prototype.getMovableDataRows = function () {\n        return this.grid.getMovableDataRows();\n    };\n    /**\n     * Gets a movable tables row by index.\n     *\n     * @param  {number} index - Specifies the row index.\n     * @returns {Element} - Returns movable row based on index passed\n     */\n    TreeGrid.prototype.getMovableRowByIndex = function (index) {\n        return this.grid.getMovableRowByIndex(index);\n    };\n    /**\n     * Gets the TreeGrid's movable content rows from frozen treegrid.\n     *\n     * @returns {Element[]}: Returns movable row element\n     */\n    TreeGrid.prototype.getMovableRows = function () {\n        return this.grid.getMovableRows();\n    };\n    /**\n     * Gets the number of frozen column in tree grid\n     *\n     * @hidden\n     * @returns {number} - Returns frozen column count\n     */\n    TreeGrid.prototype.getFrozenColumns = function () {\n        return this.getFrozenCount(this.columns, 0) + this.frozenColumns;\n    };\n    TreeGrid.prototype.getFrozenCount = function (cols, cnt) {\n        for (var j = 0, len = cols.length; j < len; j++) {\n            if (cols[j].columns) {\n                cnt = this.getFrozenCount(cols[j].columns, cnt);\n            }\n            else {\n                if (cols[j].isFrozen) {\n                    cnt++;\n                }\n            }\n        }\n        return cnt;\n    };\n    /**\n     * Gets the collection of selected row indexes.\n     *\n     * @returns {number[]} - Returns selected rows index collection\n     */\n    TreeGrid.prototype.getSelectedRowIndexes = function () {\n        return this.grid.getSelectedRowIndexes();\n    };\n    /**\n     * Gets the collection of selected row and cell indexes.\n     *\n     * @returns {ISelectedCell[]} - Returns selected cell's index details\n     */\n    TreeGrid.prototype.getSelectedRowCellIndexes = function () {\n        return this.grid.getSelectedRowCellIndexes();\n    };\n    /**\n     * Gets the collection of selected records.\n     *\n     * @isGenericType true\n     * @returns {Object[]} - Returns selected records collection\n     */\n    TreeGrid.prototype.getSelectedRecords = function () {\n        return this.grid.getSelectedRecords();\n    };\n    /**\n     * Gets the data module.\n     *\n     * @returns {{baseModule: Data, treeModule: DataManipulation}}: Returns grid and treegrid data module\n     */\n    TreeGrid.prototype.getDataModule = function () {\n        return { baseModule: this.grid.getDataModule(), treeModule: this.dataModule };\n    };\n    /**\n     * Reorder the rows based on given indexes and position\n     *\n     * @param {number[]} fromIndexes - Source indexes of rows\n     * @param {number} toIndex - Destination index of row\n     * @param {string} position - Defines drop position as above or below or child\n     * @returns {void}\n     */\n    TreeGrid.prototype.reorderRows = function (fromIndexes, toIndex, position) {\n        this.rowDragAndDropModule.reorderRows(fromIndexes, toIndex, position);\n    };\n    var TreeGrid_1;\n    __decorate([\n        Property(0)\n    ], TreeGrid.prototype, \"frozenRows\", void 0);\n    __decorate([\n        Property(0)\n    ], TreeGrid.prototype, \"frozenColumns\", void 0);\n    __decorate([\n        Property('Ellipsis')\n    ], TreeGrid.prototype, \"clipMode\", void 0);\n    __decorate([\n        Property([])\n    ], TreeGrid.prototype, \"columns\", void 0);\n    __decorate([\n        Property(null)\n    ], TreeGrid.prototype, \"childMapping\", void 0);\n    __decorate([\n        Property(null)\n    ], TreeGrid.prototype, \"hasChildMapping\", void 0);\n    __decorate([\n        Property(0)\n    ], TreeGrid.prototype, \"treeColumnIndex\", void 0);\n    __decorate([\n        Property(null)\n    ], TreeGrid.prototype, \"idMapping\", void 0);\n    __decorate([\n        Property(null)\n    ], TreeGrid.prototype, \"parentIdMapping\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeGrid.prototype, \"enableCollapseAll\", void 0);\n    __decorate([\n        Property(null)\n    ], TreeGrid.prototype, \"expandStateMapping\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeGrid.prototype, \"allowRowDragAndDrop\", void 0);\n    __decorate([\n        Property([])\n    ], TreeGrid.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property()\n    ], TreeGrid.prototype, \"query\", void 0);\n    __decorate([\n        Property()\n    ], TreeGrid.prototype, \"cloneQuery\", void 0);\n    __decorate([\n        Property('AllPages')\n    ], TreeGrid.prototype, \"printMode\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeGrid.prototype, \"allowPaging\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeGrid.prototype, \"loadChildOnDemand\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeGrid.prototype, \"allowTextWrap\", void 0);\n    __decorate([\n        Complex({}, TextWrapSettings)\n    ], TreeGrid.prototype, \"textWrapSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeGrid.prototype, \"allowReordering\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeGrid.prototype, \"allowResizing\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeGrid.prototype, \"autoCheckHierarchy\", void 0);\n    __decorate([\n        Complex({}, PageSettings)\n    ], TreeGrid.prototype, \"pageSettings\", void 0);\n    __decorate([\n        Complex({}, RowDropSettings)\n    ], TreeGrid.prototype, \"rowDropSettings\", void 0);\n    __decorate([\n        Property()\n    ], TreeGrid.prototype, \"pagerTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeGrid.prototype, \"showColumnMenu\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeGrid.prototype, \"showColumnChooser\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeGrid.prototype, \"allowSorting\", void 0);\n    __decorate([\n        Property(true)\n    ], TreeGrid.prototype, \"allowMultiSorting\", void 0);\n    __decorate([\n        Complex({}, SortSettings)\n    ], TreeGrid.prototype, \"sortSettings\", void 0);\n    __decorate([\n        Collection([], AggregateRow)\n    ], TreeGrid.prototype, \"aggregates\", void 0);\n    __decorate([\n        Complex({}, EditSettings)\n    ], TreeGrid.prototype, \"editSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeGrid.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property()\n    ], TreeGrid.prototype, \"detailTemplate\", void 0);\n    __decorate([\n        Complex({}, FilterSettings)\n    ], TreeGrid.prototype, \"filterSettings\", void 0);\n    __decorate([\n        Complex({}, SearchSettings)\n    ], TreeGrid.prototype, \"searchSettings\", void 0);\n    __decorate([\n        Property()\n    ], TreeGrid.prototype, \"toolbar\", void 0);\n    __decorate([\n        Property()\n    ], TreeGrid.prototype, \"toolbarTemplate\", void 0);\n    __decorate([\n        Property('Default')\n    ], TreeGrid.prototype, \"gridLines\", void 0);\n    __decorate([\n        Property()\n    ], TreeGrid.prototype, \"contextMenuItems\", void 0);\n    __decorate([\n        Property()\n    ], TreeGrid.prototype, \"columnMenuItems\", void 0);\n    __decorate([\n        Property()\n    ], TreeGrid.prototype, \"rowTemplate\", void 0);\n    __decorate([\n        Property('Parent')\n    ], TreeGrid.prototype, \"copyHierarchyMode\", void 0);\n    __decorate([\n        Property(null)\n    ], TreeGrid.prototype, \"rowHeight\", void 0);\n    __decorate([\n        Property(true)\n    ], TreeGrid.prototype, \"enableAltRow\", void 0);\n    __decorate([\n        Property(true)\n    ], TreeGrid.prototype, \"allowKeyboard\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeGrid.prototype, \"enableHover\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeGrid.prototype, \"enableAutoFill\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeGrid.prototype, \"enableImmutableMode\", void 0);\n    __decorate([\n        Property('auto')\n    ], TreeGrid.prototype, \"height\", void 0);\n    __decorate([\n        Property('auto')\n    ], TreeGrid.prototype, \"width\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeGrid.prototype, \"enableVirtualization\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeGrid.prototype, \"enableInfiniteScrolling\", void 0);\n    __decorate([\n        Complex({}, InfiniteScrollSettings)\n    ], TreeGrid.prototype, \"infiniteScrollSettings\", void 0);\n    __decorate([\n        Property('All')\n    ], TreeGrid.prototype, \"columnQueryMode\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"expanding\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"expanded\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"collapsing\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"collapsed\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"cellSave\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"cellSaved\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"beginEdit\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"batchAdd\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"batchDelete\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"batchCancel\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"beforeBatchAdd\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"beforeBatchDelete\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"beforeBatchSave\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"cellEdit\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"dataSourceChanged\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"dataStateChange\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"recordDoubleClick\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"rowDataBound\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"detailDataBound\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"queryCellInfo\", void 0);\n    __decorate([\n        Property(true)\n    ], TreeGrid.prototype, \"allowSelection\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"rowSelecting\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"rowSelected\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"rowDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"rowDeselected\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"headerCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"cellSelecting\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"columnMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"columnMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"cellSelected\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"cellDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"cellDeselected\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"resizeStart\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"resizing\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"resizeStop\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"columnDragStart\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"columnDrag\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"columnDrop\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"checkboxChange\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"printComplete\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"beforePrint\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"toolbarClick\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"beforeDataBound\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"contextMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"contextMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"beforeCopy\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"beforePaste\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"rowDrag\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"rowDragStart\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"rowDragStartHelper\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"rowDrop\", void 0);\n    __decorate([\n        Property(-1)\n    ], TreeGrid.prototype, \"selectedRowIndex\", void 0);\n    __decorate([\n        Complex({}, SelectionSettings)\n    ], TreeGrid.prototype, \"selectionSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeGrid.prototype, \"allowExcelExport\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeGrid.prototype, \"allowPdfExport\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"pdfQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"pdfHeaderQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"excelQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"excelHeaderQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"beforeExcelExport\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"excelExportComplete\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"beforePdfExport\", void 0);\n    __decorate([\n        Event()\n    ], TreeGrid.prototype, \"pdfExportComplete\", void 0);\n    TreeGrid = TreeGrid_1 = __decorate([\n        NotifyPropertyChanges\n    ], TreeGrid);\n    return TreeGrid;\n}(Component));\nexport { TreeGrid };\n"]},"metadata":{},"sourceType":"module"}